"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[94957],{894957:function(n,t,a){a.d(t,{Z:function(){return j}});var e=a(258712),r=a(218291),i=a(535768),o=a(150739),s=a(17433),p=a(638619),c=a(707286),u=a(88835),m=a(933839),d=a(856516),l=a(48756),b=a(479288),y=a(657742),f=a(192666),v=a(387260),g=a(286272),T=a(642058);function A(n){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function I(n){return function(n){if(Array.isArray(n))return w(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||h(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(n,t){if(n){if("string"==typeof n)return w(n,t);var a=({}).toString.call(n).slice(8,-1);return"Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a?Array.from(n):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?w(n,t):void 0}}function w(n,t){(null==t||t>n.length)&&(t=n.length);for(var a=0,e=Array(t);a<t;a++)e[a]=n[a];return e}function S(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),a.push.apply(a,e)}return a}function N(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach(function(t){C(n,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(a,t))})}return n}function C(n,t,a){var e;return(e=function(n,t){if("object"!=A(n)||!n)return n;var a=n[Symbol.toPrimitive];if(void 0!==a){var e=a.call(n,t||"default");if("object"!=A(e))return e;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(t,"string"),(t="symbol"==A(e)?e:e+"")in n)?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}var k=(0,o.XV)("PwtStopwatch"),O=function(n,t){if(T.Z){if("start"===t.type&&!n.isTiming){var a=t.name,e=t.startTime,r=t.navigationType;return(0,i.A9)("TIMING.".concat(a)),{isTiming:!0,name:a,isSampled:t.isSampled,startTime:"number"==typeof e?e:T.Z.now(),metricId:{type:"stopwatch",name:a,navigationType:r},pwtStaticContext:t.pwtStaticContext,annotations:n.annotations,binaryAnnotations:n.binaryAnnotations,spans:n.spans,traceId:n.traceId,spanNameUpdates:n.spanNameUpdates}}if(!n.isTiming)if(t.bypassIsTimingCheck)k("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var o=t.name||n.name;return k("ignoring action - stopwatch is not actively timing",t),(0,i.A9)("WARN.".concat(o,".noTiming.").concat(t.type)),n}if("annotate"===t.type){var y=T.Z.now();return k("adding annotation {".concat(t.label,": ").concat(y,"}")),N(N({},n),{},{annotations:n.annotations.concat([{label:t.label,timestamp:y}])})}if("binaryAnnotate"===t.type)return k("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),N(N({},n),{},{binaryAnnotations:N(N({},n.binaryAnnotations),C({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var v=t.binaryAnnotationValueAndType,A=v.value,h=v.type;if(!n.binaryAnnotations[t.name])return N(N({},n),{},{binaryAnnotations:N(N({},n.binaryAnnotations),C({},t.name,{value:A,type:h}))});var w=n.binaryAnnotations[t.name].value||0;return k("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(w),"\n          operand: ").concat(String(A),"\n        }")),N(N({},n),{},{binaryAnnotations:N(N({},n.binaryAnnotations),C({},t.name,{value:A?t.operation(w,A):w,type:h}))})}if("addSubspan"===t.type){k("adding subspan {".concat(t.name,"}")),-1!==n.spans.findIndex(function(n){return n.name===t.name})&&k("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var S=t.id||(0,g.Z)();-1!==n.spans.findIndex(function(n){return n.id===S})&&k("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(S,"}"));var O=0;return t.startTime?O=t.startTime:n.startTime?O=n.startTime:k("WARNING: adding subspan {".concat(t.name,"} without start time")),N(N({},n),{},{spans:[].concat(I(n.spans),[{name:t.name,id:S,startTime:O,endTime:t.endTime||1/0,annotationMap:N({},t.annotations),binaryAnnotationMap:N({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){k("starting subspan {".concat(t.name,"}")),-1!==n.spans.findIndex(function(n){return n.name===t.name})&&k("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var R,P=t.id||(0,g.Z)();-1!==n.spans.findIndex(function(n){return n.id===P})&&k("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(P,"}"));var Z=t.parentName?null==(R=n.spans.find(function(n){return n.name===t.parentName}))?void 0:R.id:null;return N(N({},n),{},{spans:[].concat(I(n.spans),[{name:t.name,id:P,parentId:t.parentId||Z,startTime:T.Z.now(),endTime:1/0,annotationMap:N({},t.annotations),binaryAnnotationMap:N({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){k("stopping subspan {".concat(t.name,"}")),!t.id&&n.spans.filter(function(n){return n.name===t.name}).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var j=t.id?n.spans.findIndex(function(n){return n.id===t.id}):n.spans.findIndex(function(n){return n.name===t.name});return j>-1?(n.spans[j].endTime=T.Z.now(),t.annotations&&(n.spans[j].annotationMap=N(N({},n.spans[j].annotationMap),t.annotations)),t.binaryAnnotations&&(n.spans[j].binaryAnnotationMap=N(N({},n.spans[j].binaryAnnotationMap),t.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:t.name}),n}if("subspanUpdateName"===t.type){n.spans.filter(function(n){return n.name===t.currentName}).length>1&&(0,i.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var _=n.spans.findIndex(function(n){return n.name===t.currentName});return _>-1?t.updateWhenStopwatchCompletes?n.spanNameUpdates=[].concat(I(n.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(k("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),n.spans[_].name=t.newName):(0,i.H)("no_subspan_found_to_rename",{name:t.currentName}),n}if("stop"===t.type&&n.isTiming){var M=n.startTime,x=n.metricId,U=n.pwtStaticContext,W=n.annotations,B=n.binaryAnnotations,E=n.isSampled,H=n.spans,G=n.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),E){var V=t.stopTime||T.Z.now(),D=I(H.map(function(t){t.endTime===1/0&&(t.endTime=V);var a=n.spanNameUpdates.findIndex(function(n){return t.name===n.currentName});return a>-1&&(k("renaming subspan {".concat(t.name,"} to {").concat(n.spanNameUpdates[a].newName,"}")),t.name=n.spanNameUpdates[a].newName,n.spanNameUpdates=n.spanNameUpdates.filter(function(n){return n.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===H.length){var $=(0,g.Z)();D.push.apply(D,[{name:"network_resources",id:$,startTime:M,endTime:V,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(I((t.customStopwatchBuffer||[]).map(function(n){return(0,b.Z)((0,d.p)(n,[]),$)}).filter(Boolean))))}var J="initial_app_load"===x.navigationType&&(0,m.Z)(),L={type:"COMPLETE",traceId:G,startTime:M,endTime:V,spans:D,annotationMap:N(N(N({},(0,f.Z)(W)),(0,c.jh)("browser_",J?(0,c.D3)(J):{})),(0,c.jh)("mark_",(0,s.gQ)())),binaryAnnotationMap:(0,u.ng)({metricId:x,pwtStaticContext:U,binaryAnnotations:B,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE"})};(0,l.Z)({metricId:x,pwtStaticContext:U,result:L})}return(0,p.$B)(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("error"===t.type){var Q=t.error,X=t.stopwatchPerformanceObserver;return Q&&(0,i.H)(Q),X&&X.disconnect(),(0,p.$B)(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&n.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var q=t.reason||"",z=n.startTime,F=n.metricId,K=n.pwtStaticContext,Y=n.binaryAnnotations,nn=n.traceId,nt={type:"ABORT",traceId:nn,startTime:z,endTime:T.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,u.ng)({metricId:F,pwtStaticContext:K,binaryAnnotations:Y,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT"}),reason:q};return(0,l.Z)({metricId:F,pwtStaticContext:K,result:nt}),(0,p.$B)(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:nn,spanNameUpdates:[]}}}return n},R=function(n){var t,a=n.name,r=n.sampleRate,i=n.navigationType,o=n.manualAndResourceSpans,s=void 0!==o&&o,c=(0,y.Z)(),u=(0,e.useRef)([]),m=(0,e.useRef)(null),d=(0,e.useRef)(null);null===d.current&&(d.current=(0,p.jf)());var l=function(n){if(Array.isArray(n))return n}(t=(0,e.useReducer)(O,{isTiming:!1,name:a,annotations:[],binaryAnnotations:{},spans:[],traceId:d.current,spanNameUpdates:[]}))||function(n,t){var a=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=a){var e,r,i,o,s=[],p=!0,c=!1;try{i=(a=a.call(n)).next,!1;for(;!(p=(e=i.call(a)).done)&&(s.push(e.value),s.length!==t);p=!0);}catch(n){c=!0,r=n}finally{try{if(!p&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw r}}return s}}(t,2)||h(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=l[0],f=l[1];return c?{isTiming:b.isTiming,name:b.name,start:function(n){return window.PerformanceObserver&&(u.current=[],m.current=(0,v.Z)({entryTypes:["resource"]},function(n){u.current=u.current.concat(n.getEntries()),u.current.length>1e3&&(u.current=u.current.slice(-1e3))})),f({type:"start",startTime:n,name:a,navigationType:i,pwtStaticContext:c,isSampled:!r||Math.random()<r})},stop:function(n){return f({type:"stop",stopTime:n,stopwatchPerformanceObserver:m.current,customStopwatchBuffer:u.current,manualAndResourceSpans:s})},error:function(n){f({type:"error",stopwatchPerformanceObserver:m.current,error:n})},abort:function(n){return f({type:"abort",stopTime:null===T.Z||void 0===T.Z?void 0:T.Z.now(),stopwatchPerformanceObserver:m.current,customStopwatchBuffer:u.current,reason:n})},annotate:function(n,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f({type:"annotate",label:n,parentId:t,bypassIsTimingCheck:a})},binaryAnnotate:function(n,t,a,e){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return f({type:"binaryAnnotate",name:n,value:t,annotationType:a,parentId:e,bypassIsTimingCheck:r})},binaryAnnotateOperation:function(n){var t=n.name,a=n.binaryAnnotationValueAndType,e=n.operation,r=n.parentId,i=n.bypassIsTimingCheck;return f({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:a,operation:e,parentId:r,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(n){var t=n.name,a=n.startTime,e=n.endTime,r=n.annotations,i=n.binaryAnnotations,o=n.parentId,s=n.id,p=n.bypassIsTimingCheck;return f({type:"addSubspan",name:t,startTime:a,endTime:e,annotations:void 0===r?{}:r,binaryAnnotations:void 0===i?{}:i,parentId:void 0===o?null:o,id:void 0===s?null:s,bypassIsTimingCheck:void 0!==p&&p})},subspanStart:function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.parentId,i=n.parentName,o=n.id,s=n.bypassIsTimingCheck;return f({type:"subspanStart",name:t,annotations:void 0===a?{}:a,binaryAnnotations:void 0===e?{}:e,parentId:void 0===r?null:r,parentName:void 0===i?null:i,id:void 0===o?null:o,bypassIsTimingCheck:void 0!==s&&s})},subspanStop:function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.id,i=n.parentId,o=n.bypassIsTimingCheck;return f({type:"subspanStop",name:t,annotations:a,binaryAnnotations:e,id:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},subspanUpdateName:function(n){var t=n.currentName,a=n.newName,e=n.bypassIsTimingCheck,r=n.updateWhenStopwatchCompletes;return f({type:"subspanUpdateName",currentName:t,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:void 0===r||r})},getSpans:function(n,t){return b.spans.filter(function(a){return a[n]===t})},getTraceId:function(){return b.traceId}}:null},P=a(904523),Z=a(19035),j=function(n){var t=n.name,a=n.sampleRate,o=n.abortOnUnloadOrClientNavigation,s=void 0===o||o,p=n.navigationType,c=n.manualAndResourceSpans,u=void 0!==c&&c,m=(0,r.Z)("Stopwatch_".concat(t)),d=m.Provider;return{Provider:function(n){var r=n.children,o=R({name:t,sampleRate:a,navigationType:p,manualAndResourceSpans:u}),c=(0,P.Z)(),m=c?c.time:0,l=(0,e.useRef)(!1),b=null==o?void 0:o.isTiming,y=(0,e.useCallback)(function(n){l.current?(l.current=!1,null==o||o.abort(n)):(0,i.A9)("WARN.".concat(t,".noTiming.abort"))},[o]),f=(0,e.useCallback)(function(n,t){null==o||o.annotate(n,t)},[o]),v=(0,e.useCallback)(function(n,t,a,e){null==o||o.binaryAnnotate(n,t,a,e)},[o]),g=(0,e.useCallback)(function(n){var t=n.name,a=n.binaryAnnotationValueAndType,e=n.operation,r=n.parentId,i=n.bypassIsTimingCheck;null==o||o.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:a,operation:e,parentId:r,bypassIsTimingCheck:i})},[o]),T=(0,e.useCallback)(function(n){var t=n.name,a=n.startTime,e=n.endTime,r=n.annotations,i=n.binaryAnnotations,s=n.parentId,p=n.id,c=n.bypassIsTimingCheck;null==o||o.addSubspan({name:t,startTime:a,endTime:e,annotations:r,binaryAnnotations:i,parentId:s,id:p,bypassIsTimingCheck:c})},[o]),A=(0,e.useCallback)(function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.parentId,i=n.parentName,s=n.id,p=n.bypassIsTimingCheck;null==o||o.subspanStart({name:t,annotations:a,binaryAnnotations:e,parentId:r,parentName:i,id:s,bypassIsTimingCheck:p})},[o]),I=(0,e.useCallback)(function(n){var t=n.name,a=n.annotations,e=n.binaryAnnotations,r=n.id,i=n.parentId,s=n.bypassIsTimingCheck;null==o||o.subspanStop({name:t,annotations:a,binaryAnnotations:e,id:r,parentId:i,bypassIsTimingCheck:s})},[o]),h=(0,e.useCallback)(function(n){var t=n.currentName,a=n.newName,e=n.bypassIsTimingCheck,r=n.updateWhenStopwatchCompletes;null==o||o.subspanUpdateName({currentName:t,newName:a,bypassIsTimingCheck:e,updateWhenStopwatchCompletes:r})},[o]),w=(0,e.useCallback)(function(n,t){return o?o.getSpans(n,t):[]},[o]),S=(0,e.useCallback)(function(){return o?o.getTraceId():""},[o]),N=(0,e.useCallback)(function(n){l.current?(l.current=!1,null==o||o.error(n)):(0,i.A9)("WARN.".concat(t,".noTiming.error"))},[o]),C=(0,e.useCallback)(function(n){l.current&&(null==o||o.abort("duplicated_init_stopwatch_action")),l.current=!0,null==o||o.start(n)},[o]),k=(0,e.useCallback)(function(n){l.current?(l.current=!1,null==o||o.stop(n)):(0,i.A9)("WARN.".concat(t,".noTiming.stop"))},[o]);(0,e.useEffect)(function(){return function(){s&&y("unloadOrClientNavigation")}},[m]);var O=(0,e.useMemo)(function(){return{name:t,isTiming:b,abort:y,addAnnotation:f,addBinaryAnnotation:v,binaryAnnotationOperation:g,addSubspan:T,subspanStart:A,subspanStop:I,getSpans:w,getTraceId:S,updateSubspanName:h,stop:k,error:N,start:C}},[b,y,f,v,g,T,A,I,w,S,h,k,N,C]);return(0,Z.jsx)(d,{value:O,children:r})},useHook:m.useMaybeHook}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/94957-3b875637761977c7.js.map