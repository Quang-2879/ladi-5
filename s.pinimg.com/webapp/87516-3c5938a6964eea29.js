"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[87516],{881198:function(e,t,n){var r=n(258712),o=n(132227),a=n(19963),i=n(892671),s=n(18644),l=n(795209),c=n(397657),u=n(231333),d=n(233846),_=n(51340),p=n(540547),h=n(578415),g=n(693806),f=n(142212),y=n(339908),v=n(538645),m=n(866523),b=n(685075),x=n(857674),P=n(19035);function S(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n,w=e.userId,k=(0,d.ZP)(),j=(0,v.HG)(),z=(0,y.F9)(),C=(0,a.v)().logContextEvent,O=A((0,r.useState)(""),2),D=O[0],T=O[1],E=A((0,r.useState)(""),2),I=E[0],M=E[1],R=A((0,r.useState)(!1),2),q=R[0],Z=R[1];(0,i.Q)({view_type:7,view_parameter:3707,component:14780});var L=k._('Request your data', 'RequestDataUI.SubmitRequest.Title', 'Title of the component where they can submit a data request'),U=j?(0,_.nk)(k._('You can request a copy of the info Pinterest collects about you. You\'ll receive an email from our third-party provider SendSafely to complete your request. {{ learnMore }}', 'RequestDataUI.description.desktop', 'Information about requesting data. learnMore: link to help center'),{learnMore:(0,P.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,P.jsx)(o.rU,{display:"inlineBlock",href:f.rxA,onClick:function(){C({event_type:j?101:102,view_type:7,view_parameter:3707,component:14780,element:12765})},target:"blank",underline:"hover",children:k._('Learn more', 'RequestDataUI.DataRequestedLink', 'Text link for learning more about Requesting data')})},"request-data")}):k._('You\'ll receive an email from our third-party provider SendSafely to complete your request.', 'RequestDataUI.description.mobile', 'Information about requesting data. learnMore: link to help center'),B=function(e){switch(e){case g.rm:return k._('You\u2019ve already sent a request', 'RequestDataUI.Error.DownloadLimit', 'Error message when the user has reached their download limit');case g.D4:return k._('Verify your email to continue', 'RequestDataUI.Error.EmailUnverified', 'Error message when a user has not verified their email');default:return""}},F=(t=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.Z)({url:"/v3/users/".concat(w,"/sars/"),method:"POST"});case 3:C({event_type:14722,view_type:7,view_parameter:3707,component:14780,element:12266}),z.showOneToast(function(e){var t=e.hideToast;return(0,P.jsx)(u.Z,{duration:h.Jl,onHide:t,text:k._('Requested! You\u2019ll receive the next steps via email.', 'RequestDataUI.Toast.Success', 'Toast message for successfully requesting data')})}),e.next=14;break;case 7:e.prev=7,e.t0=e.catch(0),t=(0,s.Z)(e.t0,"message")||"",r=null!=(n=(0,s.Z)(e.t0,"api_error_code"))?n:0,C({event_type:14723,view_type:7,view_parameter:3707,component:14780,aux_data:{reason:n}}),[g.rm,g.D4].includes(r)?j?l.Z.showError(t,null,B(r)):(T(B(r)),M(t),Z(!0)):z.showOneToast(function(e){var t=e.hideToast;return(0,P.jsx)(u.Z,{duration:h.Jl,onHide:t,text:k._('Sorry! Something went wrong on our end.', 'RequestDataUI.Toast.unknownFailure', 'Toast message for unsuccessfully requesting data')})});case 14:case"end":return e.stop()}},e,null,[[0,7]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e){S(a,r,o,i,s,"next",e)}function s(e){S(a,r,o,i,s,"throw",e)}i(void 0)})},function(){return n.apply(this,arguments)});return(0,P.jsxs)(o.xu,{"data-test-id":"request-data-ui",children:[(0,P.jsx)(o.xu,{"data-test-id":"request-data-title",children:j?(0,P.jsx)(x.Z,{accessibilityLevel:2,title:L}):(0,P.jsx)(p.default,{children:(0,P.jsx)(m.default,{heading:L,legoSettingsEnabled:!0})})}),(0,P.jsx)(o.xu,{"data-test-id":"request-data-description",maxWidth:557,paddingX:4*!j,children:(0,P.jsx)(o.xu,{marginBottom:j?12:4,children:(0,P.jsxs)(o.kC,{alignItems:"center",direction:j?"row":"column",justifyContent:"between",children:[(0,P.jsx)(o.xu,{maxWidth:j?320:"100%",children:(0,P.jsx)(o.xv,{children:U})}),(0,P.jsx)(o.xu,{marginTop:10*!j,children:(0,P.jsx)(o.zx,{onClick:function(){C({event_type:j?101:102,view_type:7,view_parameter:3707,component:14780,element:12050}),F()},size:"lg",text:k._('Start request', 'RequestDataUI.SubmitRequest.Button', 'The button users click to submit a data request')})})]})})}),(0,P.jsx)(o.xu,{children:q&&(0,P.jsx)(b.Z,{description:I,heading:D,isOpen:!0,onDismiss:function(){return Z(!1)},primaryBtnParams:{text:k._('Okay', 'RequestDataUI.ErrorModal.Okay', 'Okay button for error modal'),color:"red",onClick:function(){return Z(!1)}},type:"request-data"})})]})}},87516:function(e,t,n){n.d(t,{Z:function(){return el}});var r=n(258712),o=n(810139),a=n(538645),i=n(572478),s=n(132227),l=n(233846),c=n(51340),u=n(25402),d=n(142212),_=n(545007),p=n(284987),h=n(578373),g=n(19963),f=n(718369),y=n(892671),v=n(301911),m=n(95460),b=n(231333),x=n(170453),P=n(967312),S=n(174646),A=n(113474),w=n(181710),k=n(645222),j=n(789009),z=n(881198),C=n(339908),O=n(857147),D=n(798482),T=n(530615),E=n(687987),I=n(19035);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t,n=e.partnerPermissions.data,o=e.isPartner,a=(0,g.v)().logContextEvent,i=(0,l.ZP)(),c=(0,p.k6)(),u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{a=(n=n.call(e)).next,!1;for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return M(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],_=u[1];return(0,I.jsxs)(r.Fragment,{children:[d?(0,I.jsx)(E.Z,{isPartner:o,onDismiss:function(){return _(!1)}}):null,(0,I.jsx)(s.xu,{"data-test-id":"delete-your-data-and-account-section",marginTop:7,children:(0,I.jsxs)(s.kC,{alignItems:"start",justifyContent:"between",children:[(0,I.jsxs)(s.kC,{direction:"column",gap:{row:0,column:3},maxWidth:320,children:[(0,I.jsx)(s.X6,{accessibilityLevel:2,size:"400",children:i._('Delete your data and account', 'userSettingsPage.privacyAndData.deleteDataHeading', 'Delete your data and account settings title')}),(0,I.jsx)(s.xv,{children:i._('Delete your data and account', 'userSettingsPage.privacyAndData.deleteYourDataAndAccountDescription', 'Description about Deleting your data and account')})]}),(0,I.jsx)(s.xu,{alignSelf:"end","data-test-id":"delete-data-button",flex:"none",children:(0,I.jsx)(s.zx,{onClick:function(){a({event_type:101,view_type:7,view_parameter:3526,element:44}),n&&!n.deactivation_permission?_(!0):c.push("/close-account")},size:"lg",text:i._('Delete data', 'userSettingsPage.privacyAndData.deleteDataButton', 'Delete data and account button')})})]})})]})}var q=n(802361),Z=n(917752),L=n(857674),U=n(677375),B=n(667689),F=n(992114);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(X=function(){return!!e})()}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return(t=Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}var ee=(0,r.lazy)(function(){return n.e(64788).then(n.bind(n,264788))}),et=d.fPu,en=d.fPu,er=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&V(a,e);var t,n,o=(t=X(),function(){var e,n=G(a);return e=t?Reflect.construct(n,arguments,G(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==Y(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return W(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(W(e=o.call.apply(o,[this].concat(n))),"state",{settings:{personalize_from_offsite_browsing:e.props.user.personalize_from_offsite_browsing,ads_customize_from_conversion:e.props.user.ads_customize_from_conversion,third_party_marketing_tracking_enabled:e.props.user.third_party_marketing_tracking_enabled,ccpa_opted_out:e.props.user.ccpa_opted_out,third_party_ads_personalization:e.props.user.third_party_ads_personalization,first_party_ads_personalization_enabled:e.props.user.first_party_ads_personalization_enabled,third_party_ads_off_pinterest_enabled:e.props.user.third_party_ads_off_pinterest_enabled,allow_tagging:e.props.user.allow_tagging,dsa_opted_out:e.props.user.dsa_opted_out,opt_out_gen_ai_model_training:e.props.user.opt_out_gen_ai_model_training},newSaveState:{},shouldActivateSave:!1,showCookieSettings:e.props.openCookieSettingsOnMount}),$(W(e),"handleAcceptAllCookies",function(){var t=e.props,n=t.allowAllCookies,r=t.toastManagerContext;e.props.logContextEvent({event_type:9064,component:13764}),(0,F.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_common_react_components_settings_UserSettingsPage_PrivacyAndData_handleAcceptAllCookies"}}),h.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:k.i.SETTINGS}).callUpdate().then(function(){n(),r.showOneToast(function(t){var n=t.hideToast;return(0,I.jsx)(b.Z,{duration:5e3,onHide:n,text:e.props.i18n._('Your cookie preferences were saved, you can change them in settings on your profile at anytime', 'homeFeed.cookieConsent.acceptAllConfirmation', 'Success message after accepting/rejecting all optional cookies')})})})}),$(W(e),"handleChange",function(t,n,r){var o=e.state,a=o.newSaveState,i=o.settings,s=e.props.user,l=null;if(l=r||0===r?r:n,e.setState({settings:K(K({},i),{},$({},t,l))}),"boolean"==typeof l){var c=null;"dsa_opted_out"===t?c=13561:j.Y.includes(t)&&(c=16268),c&&e.props.logContextEvent({event_type:101,component:13764,element:c,aux_data:{privacy_setting:t,value:l}})}var u=Object.keys(a).includes(t)?a[t]!==l:s[t]!==l,d=K(K({},a),u?$({},t,l):{}),_=Object.keys(d),p=!1;_.forEach(function(e){d[e]!==s[t]&&(p=!0)}),e.setState({newSaveState:d,shouldActivateSave:p})}),$(W(e),"handleReset",function(){var t=e.props.user;e.setState({settings:{personalize_from_offsite_browsing:t.personalize_from_offsite_browsing,ads_customize_from_conversion:t.ads_customize_from_conversion,third_party_marketing_tracking_enabled:t.third_party_marketing_tracking_enabled,ccpa_opted_out:t.ccpa_opted_out,third_party_ads_personalization:t.third_party_ads_personalization,first_party_ads_personalization_enabled:t.first_party_ads_personalization_enabled,third_party_ads_off_pinterest_enabled:t.third_party_ads_off_pinterest_enabled,allow_tagging:t.allow_tagging,dsa_opted_out:t.dsa_opted_out,opt_out_gen_ai_model_training:t.opt_out_gen_ai_model_training},newSaveState:{},shouldActivateSave:!1})}),$(W(e),"handleParentalPasscodeCloseModal",function(){return e.setState({shouldActivateSave:!0})}),$(W(e),"toggleShowCookieSettings",function(){var t=e.state.showCookieSettings;t||e.props.logContextEvent({event_type:101,component:13714,element:11986}),e.setState({showCookieSettings:!t})}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.acceptAllCookiesOnMount,n=e.openCookieSettingsOnMount,r=e.isProductTaggingEnabled,o=e.logContextEvent;e.viewType||o({event_type:13,view_type:7}),t&&this.handleAcceptAllCookies(),n&&o({event_type:9065,component:13764}),(0,F.nP)("client.settings.privacy_and_data.mounted",{sampleRate:1,tags:{isProductTaggingEnabled:r}})}},{key:"componentDidUpdate",value:function(e){var t=this.props.isParentalPasscodeValidateModalOpen;t===e.isParentalPasscodeValidateModalOpen||t||this.state.shouldActivateSave||this.handleParentalPasscodeCloseModal()}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSave,o=t.enableCookieSettingsSection,a=t.user,i=a.is_partner,l=a.dsa_opted_out,u=t.isProductTaggingEnabled,_=t.partnerPermissions,p=t.inDSALaunch,h=this.state,g=h.newSaveState,f=h.shouldActivateSave,y=h.showCookieSettings,v=this.state.settings,b=v.allow_tagging,x=v.dsa_opted_out,P=[{id:"anyTagging",value:0,label:this.props.i18n._('Anyone on Pinterest', 'userSettingsPage.privacyAndData.allowAllProductTags', 'Text that specifies that the user wants to allow everyone on Pinterest to tag their products')},{id:"noTagging",value:1,label:this.props.i18n._('Turn off - no one can tag your products', 'userSettingsPage.privacyAndData.disableProductTagging', 'Text that specifies that the user does not want anyone on Pinterest to tag their products')}];return(0,I.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:72}},direction:"column",display:"flex",marginBottom:4,children:[u&&(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)(L.Z,{title:this.props.i18n._('Product tagging', 'userSettingsPage.privacyAndData.ProductTagging', 'Section for configuring Product tagging settings')}),(0,I.jsxs)(s.xu,{"data-test-id":"product-tagging-section",children:[(0,I.jsx)(s.xu,{marginBottom:4,children:(0,I.jsx)(s.xv,{size:"300",children:(0,c.nk)(this.props.i18n._('Choose who can tag your products in their content. {{ learnMore }}', 'userSettingsPage.privacyAndData.LearnMore', 'Text to describe to the user that this menu lets them choose who can tag their content'),{learnMore:(0,I.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,I.jsx)(s.rU,{display:"inlineBlock",href:et,target:"blank",underline:"hover",children:this.props.i18n._('Learn more', 'userSettingsPage.privacyAndData.Link.LearnMore', 'Text link for learning more about Product Tagging')})},"claim")})})}),(0,I.jsx)(s.FX,{id:"allow-tagging-options",legend:this.props.i18n._('Choose who can tag your products in their content.', 'userSettingsPage.privacyAndData.LearnMore', 'Text to describe to the user that this menu lets them choose who can tag their content'),legendDisplay:"hidden",children:P.map(function(t,n){return(0,I.jsx)(s.xu,{flex:"none",marginBottom:4,marginEnd:1,paddingX:0,children:(0,I.jsx)(s.FX.RadioButton,{checked:b===t.value,id:t.id,label:t.label,name:"allow_tagging",onChange:function(){(0,F.nP)("client.settings.privacy_and_data.product_tagging_updated",{sampleRate:1,tags:{taggingOption:t.value}}),e.handleChange("allow_tagging",!1,t.value)},value:t.value.toString()})},n)})})]})]}),(0,I.jsx)(Z.Z,{handleChange:this.handleChange,platform:"desktop",settings:this.state.settings}),o&&(0,I.jsxs)(s.xu,{"data-test-id":"cookie-settings-section",children:[(0,I.jsx)(L.Z,{accessibilityLevel:2,title:this.props.i18n._('Cookie preferences', 'userSettingsPage.privacyAndData.cookieHeading', 'Cookie preferences settings title')}),(0,I.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,I.jsx)(s.xu,{flex:"grow",marginEnd:6,children:(0,I.jsxs)(s.xv,{size:"300",children:[this.props.i18n._('We use cookies & similar technologies to improve and personalise your user experience, deliver adverts to your interests on third party platforms and analyse our web traffic.', 'userSettingsPage.privacyAndData.cookieDescriptionV2', 'Description about why we use cookies')," ",(0,I.jsx)(s.xv,{inline:!0,size:"300",weight:"bold",children:(0,I.jsx)(s.rU,{display:"inlineBlock",href:d._Ib,target:"blank",underline:"hover",children:this.props.i18n._('Cookie policy', 'userSettingsPage.privacyAndData.cookiePolicyLink', 'Cookie policy link')})})]})}),(0,I.jsx)(s.xu,{"data-test-id":"edit-cookies-button",minWidth:"auto",children:(0,I.jsx)(s.zx,{onClick:this.toggleShowCookieSettings,size:"lg",text:this.props.i18n._('Edit', 'userSettingsPage.privacyAndData.editCookiesButton', 'Edit cookies preferences button')})})]}),y&&(0,I.jsx)(m.Z,{name:"SafeSuspense_UserSettingsPage_CookieSettingsModal",children:(0,I.jsx)(w.Z,{children:(0,I.jsx)(ee,{onClose:function(){return e.setState({showCookieSettings:!1})}})})})]}),p&&(0,I.jsxs)(r.Fragment,{children:[(0,I.jsx)(s.xu,{"data-test-id":"inferred-signal-settings-section",marginTop:-2,children:(0,I.jsx)(L.Z,{accessibilityLevel:2,title:this.props.i18n._('Inferred signals about you', 'Subheader for Inferred signals about you', 'DSA profiling subheader for Inferred signals about you')})}),(0,I.jsx)(q.Z,{id:"dsa_opted_out",name:"dsa_opted_out",onChange:function(){return e.handleChange("dsa_opted_out",!x)},switched:!x,children:(0,c.nk)(this.props.i18n._('Allow Pinterest to use information like your offsite data and inferences about your preferences to further personalize the ideas you see. {{ learnMore }}', 'Explain the pinners what Inferred signals about them means and take them to a document to explain it more', 'Description for Inferred signals about you section learnMore: link to the privacy and data setitngs blog page'),{learnMore:(0,I.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,I.jsx)(s.rU,{display:"inlineBlock",href:en,target:"blank",underline:"hover",children:this.props.i18n._('Learn more', 'Text link for learning more about profiling privacy and data settings', 'DSA blog post to learn more about profiling privacy')})},"claim")})})]}),(0,I.jsx)(R,{isPartner:i,partnerPermissions:_}),(0,I.jsx)(z.Z,{userId:this.props.user.id}),(0,I.jsx)(U.default,{handleDisableDone:function(){return e.setState({shouldActivateSave:!1})},handleReset:this.handleReset,handleSave:function(){p&&x!==l&&e.props.logContextEvent({event_type:x?107:106,element:13561,component:13764}),n.apply(void 0,arguments)},shouldActivateSave:f,updatedSettings:g})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function eo(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,o,a,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",!1);case 3:return a=null==(r=n.advertiser)?void 0:r.merchant_id,e.next=6,h.Z.create("CatalogsMerchantResource",{merchantId:a}).callGet();case 6:return s=(i=e.sent.resource_response)&&(null==(o=i.data)?void 0:o.product_pin_approval_status),e.abrupt("return",s===D.$o.APPROVED);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,null,[[0,12]])}),(eo=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){N(a,r,o,i,s,"next",e)}function s(e){N(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}function ea(e){var t,n=(0,g.v)().logContextEvent,o=(0,P.F)().checkExperiment,a=(0,B.u)().handleSave,i=(0,l.ZP)(),s=(0,S.B)(),c=(0,C.F9)(),u=(0,_.I0)(),d=(0,x.J)().isModalOpen,h=(0,p.TH)(),m=(0,f.SU)().viewType,b=o("uup_dsa_launch_web").anyEnabled,w=(0,A.Z)({name:"ApiResource",options:{url:"/v3/partners/me/deactivation/permission/"}}),k=(0,O.mB)(h.search),j="accept-all-cookies"in k,z="manage-cookies"in k,D=s.country,E=s.countryFromIp,M=s.countryFromHostName,R=new Set(v.Z),q=o("web_quebec_ip_targeting").anyEnabled,Z=R.has(D)||R.has(E)||R.has(M),L=!!(q||Z||j||z),U=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{a=(n=n.call(e)).next,!1;for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return H(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=U[0],Y=U[1];return(0,r.useEffect)(function(){(function(e,t){return eo.apply(this,arguments)})(e.user.is_partner,s).then(function(e){Y(e)})}),(0,y.Q)({view_type:7,view_parameter:3707}),(0,I.jsx)(er,K(K({},e),{},{acceptAllCookiesOnMount:j,allowAllCookies:function(){u((0,T.YU)())},enableCookieSettingsSection:L,handleSave:a,i18n:i,inDSALaunch:b,isParentalPasscodeValidateModalOpen:d,isProductTaggingEnabled:F,logContextEvent:n,openCookieSettingsOnMount:z,partnerPermissions:w,toastManagerContext:c,viewType:m}))}var ei=n(648558);function es(e){var t=e.settingsDataRef,n=(0,l.ZP)(),r=(0,u.Z)(t).data;return(0,I.jsx)(ei.default,{activeItem:"PrivacyAndData",settingsHeaderDescription:(0,c.nk)(n._('Manage the data Pinterest shares with advertisers and uses to improve the ads and recommendations we show you. {{ learnMore }}', 'settings.privacy.description', 'Description for Privacy and Data. learnMore: Learn more link'),{learnMore:(0,I.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,I.jsx)(s.rU,{display:"inlineBlock",href:d.fPu,target:"blank",underline:"hover",children:n._('Learn more', 'settings.privacy.LearnMoreLink', 'Text link for learning more about privacy')})},"privacy-learnMore")}),viewParameter:3707,viewType:7,children:r?(0,I.jsx)(ea,{user:r}):(0,I.jsx)(s.xu,{marginTop:10,children:(0,I.jsx)(s.xH,{accessibilityLabel:n._('User settings', ' - ', ' -- '),show:!0})})})}function el(){var e=(0,a.ZP)(),t=(0,o.Z)("desktop"===e?{name:"UserSettingsResource"}:null).ref;return"desktop"===e?(0,I.jsx)(r.Suspense,{children:(0,I.jsx)(es,{settingsDataRef:t})}):(0,I.jsx)(i.Z,{})}},530615:function(e,t,n){function r(e,t){var n="SET_PERSONALIZATION_COOKIES";return"analytic"===e?n="SET_ANALYTICS_COOKIES":"marketing"===e&&(n="SET_MARKETING_COOKIES"),{type:n,payload:{value:t}}}function o(){return{type:"ALLOW_ALL_COOKIES"}}function a(){return{type:"REJECT_ALL_COOKIES"}}n.d(t,{XM:function(){return a},YU:function(){return o},c_:function(){return r}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/87516-3c5938a6964eea29.js.map