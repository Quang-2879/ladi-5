"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[11383],{687979:function(e,r,n){n.d(r,{Z:function(){return u}});var t,i,a=n(397657),o=n(43535),l=n(733668);function s(e,r,n,t,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?r(s):Promise.resolve(s).then(t,i)}var u=(t=regeneratorRuntime.mark(function e(r){var n,t,i,s,u,c,d,f,p,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.clientTrackingParams,t=r.href,i=r.pinId,s=r.spamCheckCallback,e.next=3,function(e){var r=(0,o.Z)(e),n=l.y8.get("ApiResource",r);if(n)return n;var t=(0,a.Z)(e);return l.y8.add("ApiResource",r,t),t}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:n,pin_id:i,url:t}});case 3:(u=e.sent).resource_response.error||(d=(c=u.resource_response.data||{}).message,f=c.redirect_status,p=c.url,m=["blocked","suspicious","porn"].includes(f),s({blocked:m,message:d,redirectStatus:f,sanitized_url:p}));case 5:case"end":return e.stop()}},e)}),i=function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(e){s(a,n,i,o,l,"next",e)}function l(e){s(a,n,i,o,l,"throw",e)}o(void 0)})},function(e){return i.apply(this,arguments)})},840305:function(e,r,n){n.d(r,{Z:function(){return t}});function t(e){var r=e.isOffsiteUrl,n=e.event;return!r&&(n.metaKey||n.ctrlKey)}},608351:function(e,r,n){n.d(r,{Z:function(){return i}});var t=n(229865);function i(e){var r=e.location,n=e.pinId,i=e.surface;return!!i&&!t.ZF.includes(i)||r.pathname.includes(n)}},840962:function(e,r,n){n.d(r,{Z:function(){return y}});var t=n(258712),i=n(284987),a=n(687979),o=n(840305),l=n(44041),s=n(608351),u=n(725107),c=n(712151),d=n(611395),f=n(423188),p=n(992114);function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}function y(e){var r,n,y=e.clientTrackingParams,h=e.externalData,b=e.href,g=e.onHistoryChange,v=e.target,_=function(e){if(Array.isArray(e))return e}(r=(0,t.useState)(null))||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,a,o,l=[],s=!0,u=!1;try{a=(n=n.call(e)).next,!1;for(;!(s=(t=a.call(n)).done)&&(l.push(t.value),l.length!==r);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(r,2)||function(e,r){if(e){if("string"==typeof e)return m(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,r):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=_[0],P=_[1],I=(0,i.k6)(),A=(0,i.TH)(),x=(0,c.Z)(b),w=(0,d.Z)({url:x}),j=(null!=(n=(0,f.s)())?n:{}).showWarning,S=h||{},T=S.pin,O=S.surface,Z=y||(null==T?void 0:T.trackingParams),C=(0,u.Z)();return(0,t.useEffect)(function(){w&&T&&null===k&&(!T.promoter||T.isDownstreamPromotion)&&(0,s.Z)({location:A,pinId:T.entityId,surface:O})&&(0,a.Z)({clientTrackingParams:Z,pinId:T.entityId,spamCheckCallback:function(e){return P(e)},href:x})},[Z,T,O,x,w,A,k]),function(e){var r,n=e.event;if(!(0,o.Z)({isOffsiteUrl:w,event:n})){if(n.preventDefault(),!b||"string"==typeof b&&b.startsWith("#"))return void(0,p.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:A.pathname,href:b}});w||null!=h&&h.dangerouslyForceOffsiteUrl?C({auxData:null==h?void 0:h.auxData,clientTrackingParams:Z,pin:(null==h?void 0:h.pin)&&{attributionSourceId:h.pin.attributionSourceId,campaignId:h.pin.campaignId,isPromoted:h.pin.isPromoted,pinPromotionId:h.pin.pinPromotionId,isThirdPartyAd:h.pin.isThirdPartyAd,advertiserId:h.pin.advertiserId,destinationUrl:h.pin.destinationUrl,link:h.pin.link,domain:h.pin.domain},pinId:null==h||null==(r=h.pin)?void 0:r.entityId,queryParams:null==h?void 0:h.queryParams,showWarning:j,spamCheck:k,url:x}):(0,l.Z)({event:n,href:b,history:I,onHistoryChange:g,target:"blank"===v?"blank":null})}}}},725107:function(e,r,n){var t=n(947717),i=n(691772),a=n(30694),o=n(576183),l=n(779947),s=n(19963),u=n(86369),c=n(948694),d=n(204682),f=function(e,r,n){var t=document.createElement("a");t.setAttribute("href",r),t.setAttribute("target","_blank"),t.setAttribute("rel","noopener nofollow noreferrer"),t.style.cursor="pointer",t.style.display="block",t.setAttribute(i.$N.ATTRIBUTION_SOURCE_ID,e),t.setAttribute(i.$N.ATTRIBUTE_DESTINATION,n),t.setAttribute(i.$N.ATTRIBUTE_ON,n),t.click()},p=function(e,r,n,t,o,l,s){var u=(0,a.Z)(e,[n,t,o],!0,l,s),c=document.createElement("a");c.setAttribute("href",r),c.setAttribute("target","_blank"),c.setAttribute("rel","noopener nofollow noreferrer"),c.style.cursor="pointer",c.style.display="block",c.setAttribute(i.NR.SOURCE,u),c.click()},m=function(){var e=(0,s.v)().logContextEvent;return function(r){var n,i,a=r.attributionSourceId,l=r.auxData,s=r.campaignId,c=r.clientTrackingParams,d=r.href,m=r.isPromoted,y=r.pinId,h=r.pinPromotionId,b=r.isThirdPartyAd,g=r.advertiserId,v=r.destinationUrl,_=r.link,k=r.domain;if(!m)return!1;var P=(0,t.Z)(),I={params:{pinId:y,csrId:null,clientTrackingParams:c,auxData:l,isThirdPartyAd:b}},A=(0,u.Z)(d,I);(null==P?void 0:P.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled)&&m&&d===v&&(fetch((0,u.Z)(v,I),{redirect:"manual"}),A=v);var x=null!=(n=null==P?void 0:P.userAgent.browserName)?n:"";if((0,o.G6)(x)){var w=null!=P&&P.userAgent.browserVersion?P.userAgent.browserVersion:"0.0",j=parseFloat(w.split(".")[0]+"."+w.split(".")[1]);if(a&&j>=14.1)return f(a,A,d),e({event_type:101,clientTrackingParams:c,object_id_str:y||"",aux_data:{pin_id:y||"",click_measurement_ppid:h||"",click_measurement_campaign_id:s||"",is_pcm:!0,attribution_source_id:a,page_url:d}}),!0}else if((0,o.i7)(x)&&null!=(i=window.document.featurePolicy)&&i.allowsFeature("attribution-reporting"))return p(a,A,v,_,k,s,g),e({event_type:101,clientTrackingParams:c,object_id_str:y||"",aux_data:{pin_id:y||"",click_measurement_ppid:h||"",click_measurement_campaign_id:s||"",is_arapi:!0,attribution_source_id:a,page_url:d}}),!0;return!1}};r.Z=function(e){var r=m();return function(n){var i=n.auxData,a=n.clientTrackingParams,o=n.pin,s=n.pinId,f=n.queryParams,p=n.showWarning,m=n.spamCheck,y=n.url;if("undefined"!=typeof window&&window.Windows)return void(0,d.Z)(y,{clientTrackingParams:a,pinId:s,hasPin:!!o,auxData:i,isThirdPartyAd:null==o?void 0:o.isThirdPartyAd});if(!o&&!(null!=e&&e.isFromClickthroughLink))return void(0,c.Z)(y,f?{queryParams:f}:{params:{pinId:s}});if(null!=m&&m.blocked){null==p||p(m);return}if(!(o&&r({attributionSourceId:o.attributionSourceId,auxData:i,campaignId:o.campaignId?String(o.campaignId):null,clientTrackingParams:a,href:y,isPromoted:o.isPromoted,pinId:s,pinPromotionId:o.pinPromotionId?String(o.pinPromotionId):null,isThirdPartyAd:o.isThirdPartyAd,advertiserId:o.advertiserId?o.advertiserId:null,destinationUrl:o.destinationUrl,link:o.link,domain:o.domain}))){var h={params:{clientTrackingParams:a,auxData:i,pinId:s,isThirdPartyAd:null==o?void 0:o.isThirdPartyAd}},b=(0,t.Z)();if((null==b?void 0:b.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled)&&null!=o&&o.isPromoted&&y===(null==o?void 0:o.destinationUrl)){fetch((0,u.Z)(y,h),{redirect:"manual"}),(0,l.Z)(y,!0);return}(0,c.Z)(y,h)}}}},423188:function(e,r,n){n.d(r,{Z:function(){return _},s:function(){return v}});var t=n(258712),i=n(218291),a=n(426813),o=n(132227),l=n(852015),s=n(233846),u=n(51340),c=n(19035),d=function(){var e,r=(0,s.ZP)(),n=(null!=(e=v())?e:{}).dismissWarning;return(0,c.jsx)(o.xu,{paddingX:3,children:(0,c.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:n,text:r._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},f=function(){var e=(0,s.ZP)();return(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(o.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=function(e){var r,n=e.message,t=e.sanitized_url,i=(0,s.ZP)(),p=(null!=(r=v())?r:{}).dismissWarning;return(0,c.jsx)(l.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(d,{}),heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:p,children:(0,c.jsxs)(o.xu,{padding:6,children:[(0,c.jsx)(o.xv,{children:(0,u.nk)("{{ message }} {{ learnMore }}",{message:n,learnMore:(0,c.jsx)(f,{},"learnMoreLink")})}),(0,c.jsxs)(o.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(o.xu,{marginEnd:3,children:(0,c.jsx)(o.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(o.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}var b=(0,i.Z)("SpammyClickthrough"),g=b.Provider,v=b.useMaybeHook;function _(e){var r,n=e.children,i=function(e){if(Array.isArray(e))return e}(r=(0,t.useState)(null))||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,a,o,l=[],s=!0,u=!1;try{a=(n=n.call(e)).next,!1;for(;!(s=(t=a.call(n)).done)&&(l.push(t.value),l.length!==r);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}(r,2)||function(e,r){if(e){if("string"==typeof e)return h(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,r):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],o=i[1],l=(0,t.useCallback)(function(){o(null)},[o]),s=(0,t.useCallback)(function(e){o(e)},[o]),u=(0,t.useMemo)(function(){return{dismissWarning:l,showWarning:s}},[l,s]);return(0,c.jsxs)(g,{value:u,children:[a&&(0,c.jsx)(p,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach(function(r){var t,i,a;t=e,i=r,a=n[r],(i=function(e){var r=function(e,r){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,r||"default");if("object"!=m(t))return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==m(r)?r:r+""}(i))in t?Object.defineProperty(t,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({},a)),n]})}},847651:function(e){e.exports=function(e,r,n,t){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(r);var o=1e3;t&&"number"==typeof t.maxKeys&&(o=t.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var s=0;s<l;++s){var u,c,d,f,p=e[s].replace(a,"%20"),m=p.indexOf(n);(m>=0?(u=p.substr(0,m),c=p.substr(m+1)):(u=p,c=""),d=decodeURIComponent(u),f=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(i,d))?Array.isArray(i[d])?i[d].push(f):i[d]=[i[d],f]:i[d]=f}return i}},346413:function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){switch(r(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,a){return(t=t||"&",i=i||"=",null===e&&(e=void 0),"object"===r(e))?Object.keys(e).map(function(r){var a=encodeURIComponent(n(r))+i;return Array.isArray(e[r])?e[r].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[r]))}).join(t):a?encodeURIComponent(n(a))+i+encodeURIComponent(n(e)):""}},758908:function(e,r,n){r.decode=r.parse=n(847651),r.encode=r.stringify=n(346413)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/11383-d293da056bd3764e.js.map