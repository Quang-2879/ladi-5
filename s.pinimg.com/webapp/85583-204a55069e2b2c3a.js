"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[85583],{576323:function(e,t,o){o.d(t,{Z:function(){return I}});var r=o(258712),n=o(545007),a=o(132227),i=o(346611),l=o(578373),s=o(233846),d=o(174646),c=o(882368),u=o(152),f=o(402888),p=o(772233),h=o(936094),y=o(19035);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_(Object(o),!0).forEach(function(t){B(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,o){return(t=S(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function S(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!=b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}var x={border:"1px solid var(--sema-color-border-focus-inner-default)",outline:"2px solid var(--sema-color-border-focus-outer-default)"},j={dropdown:{alignItems:"center",backgroundColor:"#efefef",border:"none",cursor:"pointer",display:"flex",flexGrow:1,height:40,justifyContent:"space-between",minWidth:0,outline:0,padding:"0 14px",position:"relative"},button:{backgroundColor:i.x_d,border:"none",cursor:"pointer",flex:"none",height:40,outline:0,padding:"0 14px"}},P=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&w(s,e);var t,o,n=(t=g(),function(){var e,o=C(s);return e=t?Reflect.construct(o,arguments,C(this).constructor):o.apply(this,arguments),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function s(){var e;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,o=Array(t),r=0;r<t;r++)o[r]=arguments[r];return B(m(e=n.call.apply(n,[this].concat(o))),"state",{selectedBoard:null,showBoardCreate:!1,showFlyout:!1,suggestedBoardName:"",dropdownFocused:!1}),B(m(e),"_setDefaultBoard",function(){l.Z.create("BoardPickerBoardsResource",{field_set_key:"board_picker",sort:"last_pinned_to",onlyFetchBoards:!0}).callGet({showError:!1}).then(function(t){var o=(((t||{}).resource_response||{}).data||{}).all_boards;if(o&&o.length>0){var r=o[0],n=r.id,a=r.image_cover_url,i=r.owner,l=r.privacy,s=r.name,d=r.url;if(e.props.selectedItem)return;e.handleItemChosen({boardId:n,imageCoverUrl:a,ownerUsername:null==i?void 0:i.username,privacy:l,title:s||"",url:d},!1)}})}),B(m(e),"setButtonRef",function(t){e.buttonRef=t}),B(m(e),"handleBoardDropdownClick",function(){e.setState(function(e){return{showFlyout:!e.showFlyout}})}),B(m(e),"handleSaveButtonClick",function(){var t=e.props,o=t.onSaveClick,r=t.selectedItem,n=t.disabledBoardPicker;(r||n)&&o?o():e.setState({showFlyout:!0})}),B(m(e),"handleFlyoutClose",function(){var t;e.setState({showFlyout:!1}),null==(t=e.buttonRef)||t.focus()}),B(m(e),"handleItemChosen",function(t){var o=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,e.props.onItemChosen)(t),o&&e.handleFlyoutClose()}),B(m(e),"handleCreateSection",function(t){var o=e.state.selectedBoard;if(o){var r=o.id,n=o.privacy,a=t.id,i=t.title;e.handleItemChosen({boardId:r,privacy:n,sectionId:a,title:i||""})}e.handleBoardCreateClose()}),B(m(e),"handleBoardCreateShow",function(t){var o=t.title;e.setState({showBoardCreate:!0,showFlyout:!1,suggestedBoardName:o})}),B(m(e),"handleBoardCreateClose",function(){e.setState({showBoardCreate:!1,selectedBoard:null})}),B(m(e),"handleBoardCreate",function(t){e.props.invalidateBoardPickerBoardsResource();var o=t.id,r=t.name,n=t.privacy,a=t.url;e.handleItemChosen({boardId:o,privacy:n,title:r||"",url:a}),e.handleBoardCreateClose()}),B(m(e),"handleSetBoardWithSection",function(t){e.setState({selectedBoard:t})}),B(m(e),"handleDropdownFocused",function(){e.setState({dropdownFocused:!0})}),B(m(e),"handleDropdownBlur",function(){e.setState({dropdownFocused:!1})}),e}return o=[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedItem,o=e.useDefaultBoard,r=e.disableDefaultBoard;!(void 0!==r&&r)&&(void 0!==o&&o?this._setDefaultBoard():t||this._setDefaultBoard())}},{key:"render",value:function(){var e=this.props,t=e.accessibilityLabelText,o=e.buttonText,n=e.customItem,l=e.disabled,s=e.disabledBoardPicker,d=e.flyoutSize,c=e.flyoutZIndex,u=e.hasError,b=e.idealDirection,_=e.onSaveClick,w=e.placeholder,m=e.requestContext,g=e.selectedItem,C=e.showBoardCover,B=e.showButton,S=e.showCreateBoardButton,P=e.showFlyoutSaveButton,I=e.showSections,O=e.showSectionSaveButton,E=e.boardFilter,T=e.useLayer,D=e.useStoryboardStyle,R=e.useCreateModalWithNoLayer,A=e.showSaveToProfile,k=this.state,F=k.selectedBoard,z=k.showBoardCreate,L=k.showFlyout,N=k.suggestedBoardName,U=k.dropdownFocused,W=m.isRTL,Z=D?16:8,M="".concat(Z,"px 0 0 ").concat(Z,"px"),G="0 ".concat(Z,"px ").concat(Z,"px 0"),H=(g||{}).title,V=C&&!!g&&H,J=l||s,q=v(v({},D?({dropdown:{alignItems:"center",backgroundColor:"".concat(J?"#efefef":"#ffffff"),border:"1px solid ".concat(u?i.LyT:i.P5$),cursor:"pointer",display:"flex",flexGrow:1,height:48,justifyContent:"space-between",minWidth:0,outline:0,position:"relative",borderRadius:16}}).dropdown:j.dropdown),{},{borderRadius:L||!B?Z:W?G:M,padding:V?"0 14px 0 7px":"0 14px",cursor:J?"default":"pointer",pointerEvents:J?"none":"auto"},U?x:{}),X=v(v(v({},j.button),{},{borderRadius:W?M:G},l?{backgroundColor:"#efefef",cursor:"default"}:{}),{},{pointerEvents:l?"none":"auto"});return(0,y.jsxs)(a.xu,{column:12,dangerouslySetInlineStyle:{__style:{borderRadius:8,boxShadow:u&&!D?"0 0 0 1px #e60023":void 0,zIndex:L?c:void 0}},position:"relative",children:[(0,y.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(a.iP,{ref:this.setButtonRef,accessibilityLabel:l?void 0:"","aria-expanded":L,dataTestId:"board-dropdown-select-button",disabled:l,onBlur:this.handleDropdownBlur,onFocus:this.handleDropdownFocused,onTap:this.handleBoardDropdownClick,rounding:4,children:(0,y.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:q},children:[(0,y.jsxs)(a.xu,{alignItems:"center","data-test-id":g?"board-dropdown-item-selected":"board-dropdown-placeholder",display:"flex",marginEnd:2,minWidth:0,overflow:"hidden",children:[V&&(0,y.jsx)(a.xu,{marginEnd:2,children:(0,y.jsx)(a.zd,{height:32,rounding:2,width:32,children:null!=g&&g.imageCoverUrl?(0,y.jsx)(a.Ee,{alt:this.props.i18n._('Board cover', 'boardDropdown.button.selectedBoard.boardCover', 'Board cover image for selected board'),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:g.imageCoverUrl}):(0,y.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})})}),(0,y.jsx)(a.xv,{lineClamp:1,children:(0,y.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:g?"#111":"#6c6c6c"}},children:g&&H?H:w})})]}),(0,y.jsx)(a.xu,{flex:"none",marginEnd:-1,children:(0,y.jsx)(a.JO,{accessibilityLabel:L?this.props.i18n._('Close dropdown', 'createPin.chooseBoardDropdown.iconButton.closeDropdown', 'Icon button for closing choose board dropdown'):this.props.i18n._('Open dropdown', 'createPin.chooseBoardDropdown.iconButton.openDropdown', 'Icon button for opening choose board dropdown'),color:J?"subtle":"default",icon:"arrow-down",size:12})})]})}),!L&&B&&(0,y.jsx)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:X},display:"flex",justifyContent:"center",children:(0,y.jsx)(a.iP,{accessibilityLabel:l?void 0:"",dataTestId:"board-dropdown-save-button",disabled:l,onTap:this.handleSaveButtonClick,children:(0,y.jsx)(a.xv,{color:l?"subtle":"inverse",weight:"bold",children:o||this.props.i18n._('Save', 'Button to create new Pin', 'Button to create new Pin')})})})]}),L&&(0,y.jsx)(a.J2,{anchor:this.buttonRef,idealDirection:b||"down",onDismiss:this.handleFlyoutClose,size:d,children:(0,y.jsx)(p.sR,{accessibilityLabelText:t,boardFilter:E,buttonText:o,customItem:n&&(0,r.cloneElement)(n,{onItemChosen:this.handleFlyoutClose}),onBoardCreate:this.handleBoardCreateShow,onButtonClick:_,onItemChosen:this.handleItemChosen,paneWidth:"number"==typeof d?d:void 0,setBoardWithSection:this.handleSetBoardWithSection,showCreateBoardButton:S,showFlyoutSaveButton:P,showSaveToProfile:A,showSections:I,showSectionSaveButton:O,useLegoLayout:!1,useStoryboardStyle:D})}),z&&!F&&(0,y.jsx)(f.Z,{boardCreateSource:"board_picker",onBoardCreate:this.handleBoardCreate,onClose:this.handleBoardCreateClose,showSecretBoardCreateToggle:"public"===E,suggestedBoardName:N,useModalWithNoLayer:R}),z&&!!F&&(0,y.jsx)(h.default,{onClose:this.handleBoardCreateClose,onSectionCreate:this.handleCreateSection,selectedBoard:F,useLayer:T})]})}}],function(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}(s.prototype,o),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component);function I(e){var t=(0,s.ZP)(),o=(0,n.I0)(),r=(0,c.Z)(),a=(0,u.Z)();return(0,y.jsx)(P,v(v({},e),{},{i18n:t,invalidateBoardPickerBoardsResource:function(){return o((0,p.DR)(r,a))},requestContext:(0,d.B)()}))}B(P,"defaultProps",{flyoutSize:"lg",flyoutZIndex:1,showButton:!0,disabled:!1})},719311:function(e,t,o){o.d(t,{Dk:function(){return d},Fk:function(){return n},fS:function(){return s},lI:function(){return a},mS:function(){return l},qW:function(){return i}});var r=o(132227),n=new r.Ry(1),a=new r.Ry(3),i=2,l=new r.Ry(i),s=3,d=new r.Ry(100)},936094:function(e,t,o){o.r(t),o.d(t,{default:function(){return d}});var r=o(132227),n=o(852015),a=o(233846),i=o(174646),l=o(594457),s=o(19035);function d(e){var t=(0,a.ZP)(),o=e.onSectionCreate,d=e.onClose,c=e.selectedBoard,u=e.useLayer,f=(0,i.B)().isRTL,p=void 0===u||u?n.ZP:r.u_,h=(0,s.jsx)(r.xu,{paddingX:4,paddingY:6,position:"relative",children:(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(r.xu,{maxWidth:400,children:(0,s.jsx)(r.X6,{align:"center",size:"600",children:t._('Add section', 'Modal header for adding a section', 'Modal header for adding a section')})}),(0,s.jsx)(r.xu,{left:f,paddingX:6,paddingY:5,position:"absolute",right:!f,top:!0,children:(0,s.jsx)(r.hU,{accessibilityLabel:t._('Close', 'CreateSection.Modal.Icon', 'Icon to close section create modal'),icon:"cancel",iconColor:"darkGray",onClick:d,size:"lg"})})]})});return(0,s.jsx)(p,{accessibilityModalLabel:t._('Add a section to the board', 'modal to add a section to a board', 'modal to add a section to a board'),heading:h,onDismiss:d,size:"sm",children:(0,s.jsx)(r.xu,{color:"default",display:"flex",rounding:2,children:(0,s.jsx)(l.Z,{board:c,completeCreateSectionAction:o,onClearModal:d,positionRelative:!0,showTitle:!1})})})}},492424:function(e,t,o){function r(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function n(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}o.d(t,{HG:function(){return n},OQ:function(){return a},hd:function(){return r}});var a=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}}},808030:function(e,t,o){o.d(t,{Z:function(){return n}});var r=o(987775);function n(e,t){return function(o){return o((0,r.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}},28755:function(e,t,o){function r(e){return{type:"PIN_BETTER_SAVE",payload:e}}function n(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function i(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function s(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}o.d(t,{ND:function(){return d},Vp:function(){return l},a1:function(){return r},b6:function(){return s},jg:function(){return a},o4:function(){return n},ti:function(){return i}})},720038:function(e,t,o){function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=Array(t);o<t;o++)r[o]=e[o];return r}function n(e){var t,o=function(e){if(Array.isArray(e))return e}(t=e.split(/\/(.*)+/))||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var r,n,a,i,l=[],s=!0,d=!1;try{a=(o=o.call(e)).next,!1;for(;!(s=(r=a.call(o)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){d=!0,n=e}finally{try{if(!s&&null!=o.return&&(i=o.return(),Object(i)!==i))return}finally{if(d)throw n}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return r(e,2);var o=({}).toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=o[0];return{filepath:o[1]||"",site:n||""}}function a(e,t){return t?"".concat(e||"","/").concat(t):"/".concat(e||"")}o.d(t,{ac:function(){return n},ke:function(){return a}})},438596:function(e,t,o){o.d(t,{MM:function(){return l},uo:function(){return s},wH:function(){return i}});var r=o(218291),n=o(720038),a=(0,r.Z)("HandlerId"),i=a.Provider,l=a.useHook;function s(){var e=l();return(0,n.ac)(e).site}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/85583-204a55069e2b2c3a.js.map