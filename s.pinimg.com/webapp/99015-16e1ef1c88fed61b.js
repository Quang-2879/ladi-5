"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[99015],{506213:function(e,n,t){var r=t(258712),o=t(132227),s=t(420205),i=t(236890),a=t(463227),l=t(231333),c=t(233846),u=t(281508),d=t(112800),_=t(19035);function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}n.Z=function(e){var n,t=e.birthday,f=e.onEditBirthday,m=e.onConfirmBirthday,p=void 0===m?function(){}:m,x=(0,c.ZP)(),g=function(e){if(Array.isArray(e))return e}(n=(0,r.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s,i,a=[],l=!0,c=!1;try{s=(t=t.call(e)).next,!1;for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(n,2)||function(e,n){if(e){if("string"==typeof e)return h(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=g[0],P=g[1];return(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(o.xu,{"data-test-id":"underageconfirmation-modal",padding:8,children:(0,_.jsxs)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,_.jsx)(o.xu,{"data-test-id":"underageconfirmation-title",marginBottom:5,width:420,children:(0,_.jsx)(o.X6,{align:"center",size:"700",children:(0,i.ew)(t||"",x)})}),(0,_.jsx)(o.xu,{marginBottom:10,maxWidth:540,children:(0,_.jsx)(o.xv,{align:"center",children:(0,i.Pe)(x)})}),(0,_.jsx)(o.xu,{children:(0,_.jsxs)(o.kC,{children:[(0,_.jsx)(o.xu,{marginEnd:2,children:(0,_.jsx)(o.zx,{onClick:function(){(0,d.My)("dweb.underageconfirmation.edit"),a.t8(s.It,"0",(0,a.kZ)(s.It)),f()},text:x._('Edit', 'signup.underageconfirmation.edit', 'Text on the edit button for birthday collection underage screen')})}),(0,_.jsx)(o.zx,{color:"red",onClick:function(){P(!0),(0,d.My)("dweb.underageconfirmation.confirm"),p(),setTimeout(function(){u.ZP.handleRedirect("/")},4e3)},text:x._('Confirm', 'signup.underageconfirmation.confirm', 'Text on the confirm button for birthday collection underage screen'),type:"submit"})]})})]})}),v&&(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,_.jsx)(l.Z,{duration:3500,onHide:function(){return P(!v)},text:x._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.underageconfirmation.error', 'Error message shown when underage user tries to register')})})]})}},974946:function(e,n,t){t.d(n,{i:function(){return i}});var r=t(779947),o=t(183908),s=t(137130),i=function(e,n,t){var i=window.location.origin,a="/signup/sso-business-account?email=".concat(e);t&&(a=(0,o.Z)(a,t)),i===s.C0?n.push(a):(0,r.Z)("".concat(s.C0).concat(a))}},20992:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(397657),o=t(112800),s=t(857147);function i(e,n,t,r,o,s,i){try{var a=e[s](i),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(r,o)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var s=e.apply(n,t);function a(e){i(s,r,o,a,l,"next",e)}function l(e){i(s,r,o,a,l,"throw",e)}a(void 0)})}}var l=function(e){var n=(0,s.Qc)(e).hostname;return n&&(n.startsWith("www.pinterest")||n.endsWith(".pinterest.com")||n.endsWith(".pinterdev.com"))},c=function(e){var n=e.origin,t=e.data;return l(n)?String(t):null};function u(){var e,n="undefined"!=typeof window;return{verifySsoUser:(e=a(regeneratorRuntime.mark(function e(n){var t,s,i,a,l,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.Z)({url:"/v3/sso/info/",method:"POST",data:{email:n}});case 3:return s=(t=e.sent.resource_response.data).authorization_uri,i=t.existing_user,a=t.existing_user_is_sso,l=t.is_sso,c=t.redirect_uri,u=t.exchange_code_to_token_info_url,e.abrupt("return",{authorizationUri:s,exchangeCodeToTokenUrl:u,existingUser:i,existingUserIsSso:a,isSso:l,redirectUri:c});case 8:return e.prev=8,e.t0=e.catch(0),d=e.t0,(0,o.My)("coreSso.verifyUser.error",{code:d.api_error_code,message:d.message,http_status:d.http_status}),e.abrupt("return",{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null});case 13:case"end":return e.stop()}},e,null,[[0,8]])})),function(n){return e.apply(this,arguments)}),authenticateWithSso:function(e){var t,o,i,l=e.callbacks,u=e.exchangeCodeToTokenUrl,d=e.isLogin,_=e.modalUrl;if(!n){null==(o=l.error)||o.call(l,{api_error_code:0,message:"Window is undefined"});return}var h=(t=a(regeneratorRuntime.mark(function e(n){var t,o,a,_,f,m,p,x,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(t=c(n),!(o=(0,s.mB)(t)).code){e.next=24;break}if(!d){e.next=8;break}return l.success({authCode:o.code,state:o.state}),e.abrupt("return");case 8:return e.prev=8,e.next=11,(0,r.Z)({url:u,method:"POST",data:{code:o.code,state:o.state}});case 11:_=(a=e.sent.resource_response.data).sso_id,f=a.sso_id_token,m=a.sso_email,p=a.sso_user_name,_&&f&&m&&p?l.success({ssoId:_,ssoIdToken:f,ssoEmail:m,ssoUserName:p}):null==(x=l.error)||x.call(l,{api_error_code:0,message:"No tokens returned"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),v=e.t0,null==(g=l.error)||g.call(l,v);case 20:return e.prev=20,i&&!i.closed&&i.close(),window.removeEventListener("message",h),e.finish(20);case 24:case"end":return e.stop()}},e,null,[[8,16,20,24]])})),function(e){return t.apply(this,arguments)});window.addEventListener("message",h),i=window.open(_,"_blank","width=600,height=600")}}}},159434:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(258712),o=t(132227),s=t(19963),i=t(231333),a=t(233846),l=t(51340),c=t(362149),u=t(538645),d=t(19035);function _(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s,i,a=[],l=!0,c=!1;try{if(s=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=s.call(t)).done)&&(a.push(r.value),a.length!==n);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return a}}(e,n)||f(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){if(e){if("string"==typeof e)return m(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var p={terms:"terms",collectionUsePersonalInfo:"collectionUsePersonalInfo",thirdPartyProvisionPersonalInfo:"thirdPartyProvisionPersonalInfo",overseasTransferPersonalInfo:"overseasTransferPersonalInfo"},x={optionalMarketingConsent:"optionalMarketingConsent"};function g(e){var n=e.isBusiness,t=e.isRegistering,f=e.onBackButtonClick,m=e.onSubmitHandler,g=e.removeSpacing,v=e.showConsistentSteps,P=e.validationError,y=(0,a.ZP)(),b=(0,u.HG)(),k=(0,s.v)().logContextEvent,w=h((0,r.useState)([]),2),A=w[0],T=w[1],S=h((0,r.useState)(!1),2),z=S[0],j=S[1],I=[{name:y._('Required', 'consentStep.sections.required.title', 'Title for the Required consents section'),description:y._('I consent to the following:', 'consentStep.sections.required.description', 'Description for Required consents section'),checkboxes:[{key:p.terms,text:n?y._('Business Terms of Service.', 'consentStep.sections.required.checkbox.termOfService.text.business', 'Text for the Business Terms of Service checkbox'):y._('Terms of Service.', 'consentStep.sections.required.checkbox.termOfService.text', 'Text for the Terms of Service checkbox'),learnMore:{text:y._('Learn more', 'consentStep.sections.required.checkbox.termOfService.learnMore', 'Text for the Terms of Service Learn More button'),url:n?"https://business.pinterest.com/business-terms-of-service":"https://policy.pinterest.com/terms-of-service"}},{key:p.collectionUsePersonalInfo,text:y._('Collection and Use of Personal Information.', 'consentStep.sections.required.checkbox.collectionUsePersonalInfo.text', 'Text for the Collection and Use of Personal Information checkbox'),learnMore:{text:y._('Learn more', 'consentStep.sections.required.checkbox.collectionUsePersonalInfo.learnMore', 'Text for the Collection and Use of Personal Information Learn More button'),url:"https://policy.pinterest.com/consents#section-1-collection-and-use-of-personal-information"}},{key:p.thirdPartyProvisionPersonalInfo,text:y._('Third Party Provision of Personal Information.', 'consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.text', 'Text for the Third Party Provision of Personal Information checkbox'),learnMore:{text:y._('Learn more', 'consentStep.sections.required.checkbox.thirdPartProvisionPersonalInfo.learnMore', 'Text for the Third Party Provision of Personal Information Learn More button'),url:"https://policy.pinterest.com/consents#section-2-third-party-provision-of-personal-information"}},{key:p.overseasTransferPersonalInfo,text:y._('Overseas Transfer of Personal Information.', 'consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.text', 'Text for the Overseas Transfer of Personal Information checkbox'),learnMore:{text:y._('Learn more', 'consentStep.sections.required.checkbox.overseasTransferOfPersonalInformation.learnMore', 'Text for the Overseas Transfer of Personal Information Learn More button'),url:"https://policy.pinterest.com/consents#section-3-overseas-transfer-of-personal-information"}}]},{name:y._('Optional', 'consentStep.sections.optional.title', 'Title for the Optional consents section'),checkboxes:[{key:x.optionalMarketingConsent,text:y._('By checking, I consent to the receipt of marketing information and use of personal information for sending marketing communications. You may change this at any time by visiting your settings.', 'consentStep.sections.required.checkbox.optionalMarketingConsent.text', 'Text for the Optional Marketing consent checkbox'),learnMore:{text:y._('Learn more', 'consentStep.sections.required.checkbox.optionalMarketingConsent.learnMore', 'Text for the Optional Marketing consent Learn More button'),url:"https://policy.pinterest.com/consents#section-4-receipt-of-marketing-information-and-use-of-personal-information-for-sending-marketing-information"}}]}],C=I.flatMap(function(e){return e.checkboxes.map(function(e){return e.key})});(0,r.useEffect)(function(){k({event_type:13,view_type:10,view_parameter:4038}),P&&j(!0)},[P]);var M=function(){return Object.values(p).every(function(e){return A.includes(e)})},U=function(e){var n=e.checked,t=e.id,r=[];"agreeToAll"===t&&n?r=["agreeToAll"].concat(_(C)):"agreeToAll"!==t&&(r=n?[].concat(_(A),[t]):A.filter(function(e){return e!==t}),!n&&r.includes("agreeToAll")?r=r.filter(function(e){return"agreeToAll"!==e}):r.length!==C.length||r.includes("agreeToAll")||(r=["agreeToAll"].concat(_(r)))),T(r)},L=(0,d.jsx)(o.zx,{color:"red",dataTestId:"consent-step-next-button",disabled:!M(),fullWidth:!0,onClick:function(){M()&&(k({element:96,event_type:b?101:102,view_type:10,view_parameter:4038}),m({kr_privacy_consent_opt_in:!0,marketing_notifs_opt_out:!A.includes(x.optionalMarketingConsent)}))},size:"lg",text:y._('Next', 'consentStep.button.next', 'Text for the next button'),type:"button"}),O=g?{paddingY:0,paddingX:0}:{paddingY:b?10:8,paddingX:10*!!b},E=O.paddingY,Z=O.paddingX;return(0,d.jsxs)(o.xu,{marginTop:5*!!v,paddingX:Z,paddingY:v?0:E,children:[t&&(0,d.jsx)(c.Z,{rounding:8}),(0,d.jsxs)(o.xu,{marginBottom:9,paddingX:8*!v,children:[(0,d.jsx)(o.xu,{marginBottom:v?6:4,children:(0,d.jsxs)(o.kC,{direction:"column",gap:{column:v?1:4,row:0},children:[(0,d.jsx)(o.kC,{justifyContent:v?"start":"center",children:(0,d.jsx)(o.X6,{accessibilityLevel:2,size:v?"600":"400",children:y._('Consents', 'consentStep.title', 'Title for the Consents Step')})}),(0,d.jsx)(o.xv,{color:"subtle",size:"300",children:y._('Before you can create an account, you\'ll need to agree to the required terms below.', 'consentStep.description', 'Description for the Consents Step')})]})}),(0,d.jsx)(o.xu,{children:(0,d.jsxs)(o.kC,{direction:"column",gap:{column:4,row:0},justifyContent:"start",children:[(0,d.jsx)(o.xu,{marginBottom:4,children:(0,d.jsx)(o.XZ,{checked:A.includes("agreeToAll"),id:"agreeToAll",label:y._('Agree to all', 'consentStep.checkbox.agreeToAll.text', 'Text for the Agree to all checkbox'),name:"agreeToAll",onChange:function(e){return U({checked:e.checked,id:"agreeToAll"})}})}),(0,d.jsx)(o.kC,{direction:"column",gap:{column:6,row:0},children:I.map(function(e){return(0,d.jsx)(o.pg,{legend:e.name,legendDisplay:"hidden",children:(0,d.jsxs)(o.kC,{direction:"column",gap:{column:2,row:0},children:[(0,d.jsxs)(o.xu,{children:[(0,d.jsx)(o.xv,{align:"start",color:"subtle",size:"100",children:e.name}),e.description?(0,d.jsx)(o.xu,{marginBottom:2,marginTop:2,children:(0,d.jsx)(o.xv,{align:"start",size:"300",children:e.description})}):null]}),e.checkboxes.map(function(e,n){return(0,d.jsx)(o.xu,{marginTop:2*(0!==n),children:(0,d.jsxs)(o.kC,{gap:{column:0,row:2},children:[(0,d.jsx)(o.XZ,{checked:A.includes(e.key),id:e.key,name:e.key,onChange:function(n){return U({checked:n.checked,id:e.key})}}),(0,d.jsx)(o.__,{htmlFor:e.key,children:(0,d.jsx)(o.xv,{children:e.learnMore?(0,l.nk)("".concat(e.text," {{ learnMoreLink }}"),{learnMoreLink:(0,d.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(o.rU,{display:"inline",href:e.learnMore.url,target:"blank",underline:"always",children:e.learnMore.text})},"".concat(e.key,"-learnMore"))}):e.text})})]})},e.key)})]})},e.name)})})]})})]}),b?(0,d.jsxs)(o.kC,{gap:{column:0,row:2},justifyContent:"end",children:[(0,d.jsx)(o.xu,{width:117,children:(0,d.jsx)(o.zx,{dataTestId:"consent-step-back-button",fullWidth:!0,onClick:function(){f&&f()},size:"lg",text:y._('Back', 'consentStep.buttons.back', 'Text for the back button'),type:"button"})}),(0,d.jsx)(o.xu,{width:94,children:L})]}):L,z&&(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{bottom:"15%",left:"50%",transform:"translateX(-50%)"}},fit:!0,paddingX:1,position:"fixed",children:(0,d.jsx)(i.Z,{duration:3500,onHide:function(){return j(!z)},text:P})})]})}},269136:function(e,n,t){t.d(n,{l:function(){return d},Z:function(){return _}});var r=t(258712),o=t(233846),s=t(51340),i=t(967312);function a(e,n,t,r,o,s,i){try{var a=e[s](i),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(r,o)}var l=function(e){var n;return n=regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(6194),t.e(27385)]).then(t.bind(t,127385));case 2:return r=n.sent.NewPassword,n.abrupt("return",r(e));case 5:case"end":return n.stop()}},n)}),function(){var e=this,t=arguments;return new Promise(function(r,o){var s=n.apply(e,t);function i(e){a(s,r,o,i,l,"next",e)}function l(e){a(s,r,o,i,l,"throw",e)}i(void 0)})}},c=t(251719),u=t(331935),d=8,_=function(){var e=(0,o.ZP)(),n=(0,i.F)().checkExperiment,t=(0,s.Wc)(e._('Your password is too short! You need {{minPasswordLength}}+ characters.', 'passwordValidation.minLength', 'The minimum password length is 6 characters. minPasswordLength:This variable is used to interpolate the minimum password length'),{minPasswordLength:"6"}),a=(0,s.Wc)(e._('Your password is too short! You need {{minPasswordLength}}+ characters.', 'passwordValidation.minLength', 'The minimum password length is 8 characters. minPasswordLength:This variable is used to interpolate the minimum password length'),{minPasswordLength:d.toString()}),_=e._('Please make your username and password different.', 'passwordValidation.passwordEqualsToUsername', 'This error message is presented when the password is the same as the username'),h=e._('Please make a stronger password.', 'passwordValidation.strongerPassword', 'This error message is presented when the password is weak'),f=e._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'passwordValidation.onlyASCII', 'Only ASCII characters are allowed for password');return(0,r.useCallback)(function(e){var r=e.existingPassword,o=e.useOldPasswordValidation,s=e.username;if(r)return[(0,u.oR)({message:f}),(0,u.aH)({message:t}),(0,u.Gy)({min:6,minErrorString:t})];var i=l;o&&(i=c.Z);var m=n("mweb_strong_password").anyEnabled||n("web_strong_password").anyEnabled;return[(0,u.oR)({message:f}),(0,u.aH)({message:a}),i({shortPassStr:a,samePasswordStr:_,blackPassStr:h,minPasswordLength:d,strongPasswordErrorMsg:h,isStrongPasswordExpEnabled:m,username:s})]},[f,n,t,a,_,h])}},251719:function(e,n,t){function r(e,n,t,r,o,s,i){try{var a=e[s](i),l=a.value}catch(e){return void t(e)}a.done?n(l):Promise.resolve(l).then(r,o)}n.Z=function(e){var n;return n=regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(6194),t.e(27385)]).then(t.bind(t,127385));case 2:return r=n.sent.Password,n.abrupt("return",r(e));case 5:case"end":return n.stop()}},n)}),function(){var e=this,t=arguments;return new Promise(function(o,s){var i=n.apply(e,t);function a(e){r(i,o,s,a,l,"next",e)}function l(e){r(i,o,s,a,l,"throw",e)}a(void 0)})}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/99015-16e1ef1c88fed61b.js.map