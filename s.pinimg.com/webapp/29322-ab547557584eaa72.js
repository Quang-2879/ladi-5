"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[29322,44098],{736180:function(e,t,n){n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};o.hash="cabaa35ed7d59dee006897bf3ef32e3d",t.default=o},860348:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};r.hash="b5b71fb4390c1d3835e468a25f687669",t.default=r},453538:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};r.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",t.default=r},660691:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(1794),o=n(233846),i=n(51340);function l(){var e=(0,o.ZP)();return function(t,n){var o=new Date(t).getTime(),l=Date.now()-o,a=Math.floor(l/r.FS),s=Math.floor(l/r.UK),c=Math.floor(l/r.F4),u=Math.floor(l/r.VL),d=Math.floor(l/r.N9),f=Math.floor(l/r.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', a, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),y=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', u, ' - ', ' -- '),_=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),b=e.ngettext('{{ years }} year ago', '{{ years }} years ago', f, ' - ', ' -- '),v=e.ngettext('{{ minutes }}m', '{{ minutes }}m', a, 'minutes ago abbreviated', 'minutes ago abbreviated'),g=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),w=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),x=e.ngettext('{{ weeks }}w', '{{ weeks }}w', u, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),j=e.ngettext('{{ years }}y', '{{ years }}y', f, 'years ago abbreviated', 'years ago abbreviated');return f>0?(0,i.nk)(n?j:b,{years:f}).join(""):d>0?(0,i.nk)(n?P:_,{months:d}).join(""):u>0?(0,i.nk)(n?x:y,{weeks:u}).join(""):c>0?(0,i.nk)(n?w:h,{days:c}).join(""):s>0?(0,i.nk)(n?g:m,{hours:s}).join(""):a>0?(0,i.nk)(n?v:p,{minutes:a}).join(""):e._('Just now', ' - ', ' -- ')}}},586033:function(e,t,n){n.d(t,{F:function(){return S},Z:function(){return j}});var r=n(258712),o=n(30694),i=n(18644),l=n(992114);function a(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function s(){var e;return e=regeneratorRuntime.mark(function e(t,n,r,a,s,c,u,d,f){var p,m,h,y,_,b,v,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=(p=c||{}).appType,h=p.osType,_="",b="",!(["Pin","pinImpressions"].includes(t)&&n&&(a||d||f))){e.next=31;break}if((0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:h}}),e.prev=5,null!=(v=window.document.featurePolicy)&&v.allowsFeature("attribution-reporting")){e.next=9;break}return(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:h}}),e.abrupt("return");case 9:g={eventSourceEligible:!0,triggerEligible:!1},_=(0,o.Z)(r,[a,d,f],!1,s,u);try{b=new URL(window.location.href).hostname}catch(e){(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(!(b&&"www.pinterest.com"!==b)){e.next=18;break}document.createElement("img").setAttribute("attributionsrc",_),(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:h,hostname:b}}),e.next=23;break;case 18:return e.next=20,window.fetch(_,{keepalive:!0,attributionReporting:g});case 20:if((y=e.sent).ok){e.next=23;break}throw Error("server request failed.");case 23:(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:h}}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,i.Z)(e.t0,"name"),message:(0,i.Z)(e.t0,"message"),appType:m,osType:h,hostname:b,responseStatus:y&&y.status}});case 29:e.next=32;break;case 31:(0,l.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:h}});case 32:case"end":return e.stop()}},e,null,[[5,26]])}),(s=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}var c=n(576183),u=n(19963),d=n(824834),f=n(94970),p=n(174646),m=n(538645),h=n(422908),y=n(813509),_=n(438596),b=["children"];function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n){var r;return(r=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"curatedBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}};function j(e){var t=e.carouselData,n=e.closeupImpressionType,o=e.closeupNavigationType,i=e.componentType,a=e.contextLogData,b=e.clientTrackingParams,v=e.duploShouldTrackPinEvents,g=e.elementType,j=e.impressionAuxFields,S=e.inImpressionExp,O=e.impressionType,A=e.impressionsFramework,T=e.isPaused,C=e.loggingId,I=e.objectIdStr,k=e.slotIndex,z=e.trackCarousel,E=e.viewData,F=e.viewParameter,D=e.viewType,L=e.isPromoted,R=e.storyPinProductEventData,B=(0,u.v)().logContextEvent,H=(0,h.r)().logMrcVideoAdEventOnPlay,Z=(0,p.B)().userAgent.browserName,N=(0,y.Yg)().logStat,M=A||f.Z,U=(0,r.useRef)(null),W=(0,r.useRef)(function(e){});W.current=function(e){var r,l,u,d,f,p,m,h,y=P[O],_=y.idType,S=w(w((x(A={clientTrackingParams:b,endTime:e.endTime},_,C),x(A,"slotIndex",k),x(A,"time",e.startTime),x(A,"renderDuration",e.endTime-e.startTime),x(A,"type",n),A),j),{},{forcedExit:"removed"===e.forcedExit?0:void 0});if("Pin"===O){var A,T,L,M=[],U=e.visibleEvents||new Map,W=e.hiddenEvents||new Map;if([1,50,80,2,102].forEach(function(e){U.has(e)&&M.push({type:e,time:1e6*(U.get(e)||0),visible:!0}),W.has(e)&&M.push({type:e,time:1e6*(W.get(e)||0),visible:!1})}),S=w(w({},S),{},{pinCellWidth:e.pinCellWidth||0,pinCellHeight:e.pinCellHeight||0,windowWidth:null==(T=window)?void 0:T.innerWidth,windowHeight:null==(L=window)?void 0:L.innerHeight,visibleEvents:M.sort(function(e,t){return e.time-t.time})}),(0,c.i7)(Z)&&j&&j.isPromoted){var V=j.attributionSourceId,G=j.isPromoted,Y=j.link,K=j.campaignId,q=j.araAuxData,X=j.advertiserId,$=j.domain,J=j.adDestinationUrl;!function(e,t,n,r,o,i,l,a,c){s.apply(this,arguments)}(O,null!=G?G:null,null!=V?V:null,null!=Y?Y:null,null!=K?K:null,null!=q?q:null,null!=X?X:null,null!=$?$:null,null!=J?J:null)}}var Q={component:i,object_id_str:I,view_type:D,view_data:E||{},view_parameter:F};if(z)t&&z&&B(w(w({event_type:7352,event_data:{pinCarouselSlotImpressions:[w(w({},S),"canonical"===t.type?{carouselDataId:Number(null!=(r=t.carouselId)?r:0),slotIndex:t.index,carouselSlotId:(null==(l=t.carouselSlots)?void 0:l[null!=(u=t.index)?u:0])&&Number(t.carouselSlots[null!=(d=t.index)?d:0].slotId)}:{carouselDataId:Number(null!=(f=t.id)?f:0),carouselSlotId:(null==(p=t.carousel_slots)?void 0:p[null!=(m=t.index)?m:0])&&Number(t.carousel_slots[null!=(h=t.index)?h:0].id),slotIndex:t.index})]}},Q),{},{aux_data:w({},a)}));else{var ee=w(w({clientTrackingParams:b,event_type:y.eventType},Q),{},{element:g,event_data:w(x({},y.impressionType,"Story"===O?S:[S]),R?{storyPinProductEventData:R}:{}),aux_data:w({closeup_navigation_type:o},a)});B(ee),H(ee)}v&&N("log_pin_impression")};var V=(0,d.Z)({skipActivation:!0}),G=V.expName,Y=V.group,K=(0,m.ZP)(),q=(0,_.MM)(),X=(0,p.B)().isAuthenticated,$=(0,r.useCallback)(function(){var e=!1;try{var t=U.current;if(t instanceof HTMLElement&&(!L||t.getElementsByTagName("img").length>0)){var n=M.start(t);n.onExitViewport(W.current).setDebugId(C||"unknown"),v&&n.onEnterViewport(function(){N("log_pin_impression_track_enter_viewport")}),e=!0,Y&&(0,l.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:K,experimentName:G,group:Y,handlerId:q,isAuthenticated:X,slotIndex:null!=k?k:"unknown"}})}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}v&&N("log_pin_impression_track",{didStartTracking:e})},[U.current]);return(0,r.useEffect)(function(){return S&&!M.inExperiment&&M.setExperimentStatus(!0),T||$(),function(){var e=U.current;e instanceof HTMLElement&&(!L||e.getElementsByTagName("img").length>0)&&M.stop(e)}},[T,$]),U}var S=function(e){return(0,e.children)({impressionTrackerRef:j(function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,b))})}},94183:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(258712),o=n(132227),i=n(346611),l=n(640935),a=n(94970),s=n(837509),c=n(19035);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t,n,u=e.children,d=e.footerConfig,p=e.headerConfig,m=e.height,h=e.hideOnScroll,y=e.hideOnScrollState,_=y.isHidden,b=y.updateHiddenState,v=e.noPadding,g=e.paddingY,w=void 0===g?s.og:g,x=e.type,P=e.zIndex,j=p||{},S=j.headerLimitedOverflow,O=j.ignoreObstructions,A=j.zIndexForGestaltBug,T=d||{},C=T.appUpsellFooterConfig,I=T.footerInLego,k=T.navFooterConfig,z=!!C,E="header"===x?"top":"bottom",F=(0,l.vs)(),D=(0,r.useRef)(null),L=(0,r.useRef)(null);(0,r.useEffect)(function(){try{if(!O){var e=D.current;L.current=S&&e&&Array.isArray(e.children)?e.children[0]:e,L.current instanceof HTMLElement&&a.Z.addObstruction(E,L.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return function(){!O&&L.current instanceof HTMLElement&&a.Z.removeObstruction(E,L.current)}},[O,S,E,F]);var R="top"===E?"relative":"fixed",B=(null!=m?m:s.R$)+((null==p?void 0:p.overrideTop)||0),H=h||k?f({transition:I?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear"},_?{transform:"translateY(".concat("top"===E?-B:B,"px)"),opacity:+!I}:Object.freeze({})):{},Z=2*("relative"===R&&(null==p||!p.noGutter)),N=Z?-Z:0;F&&("header"===x?t=-1:n=-1);var M=(null==p?void 0:p.isTransparentBackground)&&i.o7L||(null==p?void 0:p.isTranslucent)&&(F?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||i.k95;return(0,c.jsx)(o.xu,{ref:D,bottom:"footer"===x,dangerouslySetInlineStyle:{__style:f(f(f(f(f({top:t,bottomStyle:n},!P||A?{zIndex:A||1}:Object.freeze({})),S?{background:"transparent",overflow:"hidden",paddingBottom:s.UB,marginBottom:-s.UB,pointerEvents:"none"}:Object.freeze({})),null!=p&&p.hasBorder?{borderBottom:s.dS}:Object.freeze({})),null!=d&&d.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({})),H)},"data-test-id":x,display:z?"flex":void 0,height:m&&!I?m:void 0,left:!0,marginEnd:I?"auto":N,marginStart:I?"auto":N,onTransitionEnd:function(){(h||k)&&L.current&&(_?a.Z.removeObstruction(E,L.current):a.Z.addObstruction(E,L.current))},position:R,right:!0,top:"header"===x,width:I||"fixed"!==R?void 0:"100%",zIndex:A?void 0:P,children:(0,c.jsx)(o.xu,{alignItems:null!=d&&d.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:f(f({backgroundColor:M,height:I?z?void 0:null!=m?m:s.R$:"100%",boxShadow:I?s.KJ:void 0,marginBottom:I&&!(null!=k&&k.docked)?16:void 0},S?{pointerEvents:"auto"}:Object.freeze({})),null!=p&&p.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({}))},display:I||null!=d&&d.alignCenter?"flex":void 0,marginEnd:I?"auto":void 0,marginStart:I?"auto":void 0,paddingX:4*("footer"===x&&!v)+Z,paddingY:v?0:w,position:"relative",rounding:I&&!(null!=k&&k.docked)?"pill":void 0,width:k?k.footerWidth:z?void 0:"100%",children:"function"==typeof u?u({updateHiddenState:b}):u})})}},540547:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(132227),o=n(837509),i=n(94183),l=n(890167),a=n(19035);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=["hasBorder","headerLimitedOverflow","ignoreObstructions","isTranslucent","isTransparentBackground","noGutter","overrideTop","useRoundedCorners","zIndexForGestaltBug"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.hasBorder,n=e.headerLimitedOverflow,s=e.ignoreObstructions,u=e.isTranslucent,f=e.isTransparentBackground,p=e.noGutter,m=e.overrideTop,h=e.useRoundedCorners,y=e.zIndexForGestaltBug,_=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,c),b=_.noPadding,v=_.paddingY,g=void 0===v?o.og:v,w=_.zIndex;return(0,a.jsx)(r.Le,{height:n?o.LV+2*(b?0:g)*4:void 0,top:m||0,zIndex:w||void 0,children:(0,a.jsx)(l.Z,{hideOnScroll:_.hideOnScroll,children:function(e){return(0,a.jsx)(i.Z,d(d({},_),{},{headerConfig:{isTranslucent:u,isTransparentBackground:f,headerLimitedOverflow:n,hasBorder:t,ignoreObstructions:s,noGutter:p,overrideTop:m,zIndexForGestaltBug:y,useRoundedCorners:h},hideOnScrollState:e,type:"header"}))}})})}},890167:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(258712),o=n(169650);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(s=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&l(f,e);var t,n,r=(t=s(),function(){var e,n=c(f);return e=t?Reflect.construct(n,arguments,c(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function f(){if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),l=0;l<n;l++)i[l]=arguments[l];return u(a(t=r.call.apply(r,[this].concat(i))),"state",{isHidden:!!t.props.appUpsellFooterConfig||!!(null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp)}),u(a(t),"lastScrollPos",0),u(a(t),"updateHiddenState",function(e){t.reqAnimationId=window.requestAnimationFrame(function(){t.setState({isHidden:e})})}),u(a(t),"handleScroll",(0,o.Z)(function(){var e,n=t.props,r=n.appUpsellFooterConfig,o=n.navFooterConfig,i=t.state.isHidden,l=window.scrollY,a=l-t.lastScrollPos,s="none",c=document.documentElement||{},u=c.scrollHeight,d=c.clientHeight;Number.isNaN(u)||Number.isNaN(d)||(s=a<0?l<=Math.abs((window.scrollMinY||0)+Math.max(a,20))?"start":"none":l>=(window.scrollMaxY||u-d)-Math.max(a,20)?"end":"none");var f=null!=o&&o.isModal?0:55;r?a>20&&i&&l>=500?r.shouldShowAfterScroll()&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(a<-20&&!i||l<=f)&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)):null!=(e=t.props.navFooterConfig)&&e.isDockedNavOnPlp?"start"===s&&!i||l<=f?(t.updateHiddenState(!0),null==o||o.onScroll(!0)):(l>f||"end"===s)&&i&&(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(a<-20||"start"===s)&&i||l<=f?(t.updateHiddenState(!1),null==o||o.onScroll(!1)):(a>20||"end"===s)&&!i&&(t.updateHiddenState(!0),null==o||o.onScroll(!0)),t.lastScrollPos=l},30)),t}return n=[{key:"componentDidMount",value:function(){try{var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}},{key:"componentWillUnmount",value:function(){var e;(this.props.hideOnScroll||null!=(e=this.props.navFooterConfig)&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o;!e.hideOnScroll&&this.props.hideOnScroll||!(null!=(t=e.navFooterConfig)&&t.isDockedNavOnPlp)&&null!=(n=this.props.navFooterConfig)&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!=(r=e.navFooterConfig)&&r.isDockedNavOnPlp&&!(null!=(o=this.props.navFooterConfig)&&o.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.navFooterConfig,r=this.state.isHidden;return t({isHidden:!(null!=n&&n.forceShow)&&r,updateHiddenState:this.updateHiddenState})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},837509:function(e,t,n){n.d(t,{KJ:function(){return a},LV:function(){return l},R$:function(){return r},UB:function(){return i},dS:function(){return s},og:function(){return o}});var r=64,o=3,i=100,l=44,a="0px 0px 8px rgba(0, 0, 0, 0.1)",s="1px solid #efefef"},74976:function(e,t,n){n.d(t,{P:function(){return x},t:function(){return P}});var r=n(578373),o=n(397657);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,l;r=e,o=t,l=n[t],(o=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n,r,o,i,l){try{var a=e[i](l),s=a.value}catch(e){return void n(e)}a.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){s(i,r,o,l,a,"next",e)}function a(e){s(i,r,o,l,a,"throw",e)}l(void 0)})}}var u=function(){};function d(){return(d=c(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.board_id,e.next=3,(0,o.Z)({url:"/v3/boards/".concat(null!=i?i:"","/follow/"),method:"DELETE"});case 3:r({event_type:27,object_id_str:i}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(){return(f=c(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.board_id,e.next=3,(0,o.Z)({url:"/v3/boards/".concat(null!=i?i:"","/follow/"),method:"PUT"});case 3:r({event_type:26,object_id_str:i}),n();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("UserFollowResource",t),e.next=3,o.callDelete();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){return(m=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("UserFollowResource",t),e.next=3,o.callCreate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=c(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("InterestFollowResource",t),e.next=3,i.callDelete();case 3:n(),o({event_type:602,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=c(regeneratorRuntime.mark(function e(t,n,o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.Z.create("InterestFollowResource",t),e.next=3,i.callCreate();case 3:n(),o({event_type:601,object_id_str:t.interest_id});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t){return b.apply(this,arguments)}function b(){return(b=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("PinFeedbackResource",t),e.next=3,o.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=c(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.Z.create("PinFeedbackResource",t),e.next=3,o.callUpdate();case 3:n();case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Z)({url:"/v3/users/settings/",method:"POST",data:{gen_ai_topics_opt_in:t.gen_ai_topic_ids}});case 2:n();case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var w={complaint:_,followBoard:function(e,t,n){return f.apply(this,arguments)},followPinner:function(e,t){return m.apply(this,arguments)},followTopic:function(e,t,n){return y.apply(this,arguments)},newsHubPinHide:function(e,t){var n,r,i,l;(0,o.Z)({url:e.undo?"/v3/news_hub/".concat(null!=(n=e.news_id)?n:"","/pin/").concat(null!=(r=e.pin_id)?r:"","/undo/"):"/v3/news_hub/".concat(null!=(i=e.news_id)?i:"","/pin/").concat(null!=(l=e.pin_id)?l:"","/hide/"),method:"PUT"}).then(function(){return t()}),_(a({feedback_type:1,pin_id:e.pin_id},e),t)},promotedComplaint:function(e,t){return v.apply(this,arguments)},relatedPinHide:function(e,t){var n,r;(0,o.Z)({url:e.undo?"/v3/p2p/".concat(null!=(n=e.pin)?n:"","/unhide/"):"/v3/p2p/".concat(null!=(r=e.pin)?r:"","/hide/"),method:"PUT"}).then(function(){return t()}),_(a({feedback_type:1,pin_id:e.pin},e),t)},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},undoGenAi:function(e,t){return g.apply(this,arguments)},unfollowBoard:function(e,t,n){return d.apply(this,arguments)},unfollowPinner:function(e,t){return p.apply(this,arguments)},unfollowTopic:function(e,t,n){return h.apply(this,arguments)},unrelatedSearchPin:function(e,t){var n,r;(0,o.Z)({url:e.undo?"/v3/search/".concat(null!=(n=e.pin_id)?n:"","/unhide/"):"/v3/search/".concat(null!=(r=e.pin_id)?r:"","/hide/"),method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then(function(){return t()}),_(a({feedback_type:1},e),t)},showFewerWeightLossAds:function(e,t){t()}},x=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic","undoGenAi"];function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=arguments.length>3?arguments[3]:void 0,o=e?w[e]:null;return o?o(t,n,r):n()}},844379:function(e,t,n){t.Z=(0,n(258712).createContext)("undefined"!=typeof window?window:null)},20365:function(e,t){t.Z={PIN_HIDDEN:function(e){return{title:e._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:e._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},PIN_REPORTED:function(e){return{title:e._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:e._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}}},833741:function(e,t,n){n.d(t,{Z:function(){return O}});var r,o=n(545007);n(53583);var i=n(132227),l=n(219308),a=n(962119),s=n(233846),c=n(967312),u=n(676620),d=n(112800),f=n(677316),p=n(339908),m=n(34632),h=n(538645),y=n(755090),_=n(882368),b=n(412584),v=n(683829),g=n(945011),w=n(647137),x=n(654892),P=n(19035),j=function(e){var t=e.children,n=e.pulsar,r=e.testId;return n.show?(0,P.jsx)(i.xu,{"data-test-id":r,position:"relative",children:(0,P.jsxs)(i.iP,{onTap:n.onClick,tapStyle:"none",children:[(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:t}),(0,P.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,P.jsx)(i.o3,{})})]})}):(0,P.jsx)(i.xu,{"data-test-id":r,children:t})},S=void 0!==r?r:r=n(736180);function O(e){var t,n=e.auxData,r=e.disabled,O=e.disableLog,A=e.followEventType,T=e.id,C=e.inline,I=e.invertColors,k=e.isFollowed,z=e.isIdeaPin,E=e.isLegoEnabled,F=e.isSecondaryButton,D=e.isUserFollowButton,L=e.isUserMe,R=e.onFollow,B=e.onUnfollow,H=e.pinKey,Z=e.shouldUseLegoColors,N=e.showPulsar,M=e.size,U=e.textType,W=void 0===U?"FollowFollowing":U,V=e.unfollowEventType,G=e.viewParameter,Y=e.viewType,K=e.clientTrackingParams,q=(0,s.ZP)(),X=(0,h.HG)(),$=(0,p.F9)().showToast,J=(0,f.Z)(),Q=(0,l.Z)(),ee=(0,u.Z)(),et=(0,c.F)().checkExperiment,en=(0,v.Z)(),er=(0,_.Z)(),eo=er&&er.isAuth,ei=(0,x.f)(),el=ei.unauthFollowUserId,ea=ei.setUnauthFollowUserId,es=(0,g.mN)()(T),ec=(0,o.I0)(),eu=es&&{imageMediumUrl:es.image_medium_url,username:es.username},ed=(0,a.Z)(S,H),ef=null==ed?void 0:ed.linkDomain,ep=null==ed?void 0:ed.nativeCreator,em=null==ed?void 0:ed.originPinner,eh=null==ed?void 0:ed.pinner;t=ep||(ef?ef.officialUser:em||eh);var ey=null!=eu?eu:t;(0,y.Z)(function(){!X&&eo&&el&&T&&el===T&&R(T)});var e_=en({fn:function(){if(eo)k?(B(T),O||Q({event_type:V,view_type:Y,view_parameter:G,object_id_str:T,aux_data:n,clientTrackingParams:K})):(R(T),D&&$(function(e){var t=e.hideToast,n=null!=ey&&ey.username?"/".concat(ey.username,"/"):"";return(0,P.jsx)(w.Z,{handleHide:t,href:n,imageUrl:(null==ey?void 0:ey.imageMediumUrl)||"",text:(0,P.jsx)(i.xv,{lineClamp:4,children:q._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:T})}),O||Q({event_type:A,view_type:Y,view_parameter:G,object_id_str:T,aux_data:n,clientTrackingParams:K}));else{if((0,d.NC)(k?"press_profile_unfollow":"press_profile_follow"),J({action:"click",item:k?"unfollow-button":"follow-button"}),X&&et("dweb_upsell_manager_redux").anyEnabled){var e=et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0;ec((0,m.b9)(!!z,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:z?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:X&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!X&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});X||ea(null!=T?T:""),(0,d.NC)("clickthrough")}},modalHeader:(0,b.N4)({i18n:q,toFollow:!k})}),eb=!k&&!!N,ev=function(){if(L)return q._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===W)return k?q._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):q._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===W?q._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):q._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return k?e:q._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,P.jsx)(j,{pulsar:eb?{show:!0,onClick:e_}:{show:!1},testId:L||k?"board-unfollow-button":"board-follow-button",children:(0,P.jsx)(i.zx,{accessibilityLabel:ev(),color:Z||"AddRemove"===W||!E&&F||I?"gray":"red",disabled:L||r,fullWidth:C,onClick:eb?void 0:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),O||Q({event_type:101,component:13672,element:11951,object_id_str:T,view_type:Y,view_parameter:G,aux_data:n,clientTrackingParams:K}),e_()},selected:k||!1,size:M,text:ev()})})}},139156:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(545007),o=n(833741),i=n(159982),l=n(945011),a=n(19035);function s(e){var t=e.user,n=e.invertColors,s=e.isSecondaryButton,c=e.onTap,u=e.size,d=e.viewParameter,f=e.viewType,p=(0,r.I0)(),m=(null!=t?t:{}).id,h=(0,l.kW)(),y=h[m]?h[m].explicitly_followed_by_me:null==t?void 0:t.explicitly_followed_by_me;return(0,a.jsx)(o.Z,{followEventType:45,id:m,invertColors:n,isFollowed:y,isSecondaryButton:s,isUserFollowButton:!0,onFollow:function(){p((0,i.ZN)(m)),c&&c()},onUnfollow:function(){p((0,i.fv)(m)),c&&c()},pinKey:null,size:u,unfollowEventType:46,viewParameter:d,viewType:f})}},41990:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(132227),o=n(19963),i=n(233846),l=n(258712);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=n(19035);function u(e){var t,n,s,u,d,f,p,m,h,y,_,b,v,g,w=e.auxData,x=e.enabled,P=e.onPull,j=e.refreshing,S=e.viewParameter,O=(0,i.ZP)(),A=(0,o.v)().logContextEvent,T=4079===S,C=(n=(t={enabled:x,onSelect:function(e){var t=e.pullDistance,n=e.resetState;t>=120&&(A({view_type:1,event_type:158,view_parameter:T?4079:92,aux_data:T?w:{}}),P()),n()},refreshing:j}).enabled,s=t.onSelect,u=t.refreshing,d=(0,l.useRef)(null),p=(f=a((0,l.useState)(0),2))[0],m=f[1],y=(h=a((0,l.useState)(!1),2))[0],_=h[1],v=(b=u?0:p/250)>0,g=function(){_(!1),m(0)},(0,l.useEffect)(function(){if(n){var e=function(e){window.scrollY<=0&&!u&&(d.current=e.touches[0].clientY)},t=function(e){if(d.current){var t=(e.touches[0].clientY-d.current)*.5;t>0&&(m(t),e.preventDefault())}},r=function(){d.current&&(_(!0),s({pullDistance:p,position:b,resetState:g}),d.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("touchend",r),function(){window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",t,{passive:!1}),window.removeEventListener("touchend",r)}}},[n,s,p,u,b]),{pullDistance:p,hasStartPulling:v,position:b,startYRefCurrent:d.current,PULL_MENU_DISTANCE:250,isExecuted:y}),I=C.position,k=C.startYRefCurrent,z=C.pullDistance,E=Math.min(I,1),F=O._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,c.jsx)(r.xu,{children:x&&(0,c.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:E,transition:null===k?"all .3s ease-out":void 0}},display:"flex",height:120*I,justifyContent:"center",children:(0,c.jsx)(r.JO,{accessibilityLabel:F,icon:k&&z<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},814692:function(e,t,n){var r=n(132227),o=n(538645),i=n(19035);t.Z=function(){var e=(0,o.HG)();return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},866523:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var r=n(258712),o=n(132227),i=n(174646),l=n(824879),a=n(19035);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.heading,c=e.icon,u=e.placement,d=e.previousUrl,f=e.rightComponent,p=e.legoSettingsEnabled,m=void 0===p||p,h=e.disableRedirect,y=e.viewParameter,_=e.viewType,b=e.onTouch,v=(0,i.B)().isRTL,g=(0,r.useRef)(null),w=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=w[0],P=w[1];return(0,r.useEffect)(function(){g.current&&g.current.offsetWidth&&P(g.current.offsetWidth)},[]),(0,a.jsxs)(o.xu,{alignItems:"center",display:"flex",height:60,position:"relative",children:[(0,a.jsx)(o.xu,{flex:"none",left:!v,marginStart:m?1:-2,position:"absolute",right:v,children:(0,a.jsx)(l.Z,{color:m?"darkGray":void 0,disableRedirect:void 0!==h&&h,fallbackUrl:d,icon:void 0===c?"arrow-back":c,onTouch:b,placement:u||"unknown",shouldUseFallbackUrl:!0,size:m?"sm":"lg",viewParameter:y,viewType:_})}),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 ".concat(f?"".concat(x+12,"px"):"".concat(48,"px"))}},"data-test-id":"header",flex:"grow",marginEnd:m?2:7,paddingX:12,children:(0,a.jsx)(o.X6,{accessibilityLevel:1,align:"center",lineClamp:f?1:void 0,size:"400",children:n})}),m&&!!f&&(0,a.jsx)(o.xu,{ref:g,display:"flex",flex:"none",justifyContent:"end",left:v,marginEnd:1,position:"absolute",right:!v,children:f})]})}},717574:function(e,t,n){n.d(t,{K:function(){return d},T:function(){return f}});var r=n(258712),o=n(19035);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)({getPinFeedbackStatus:function(){},setPinFeedbackStatus:function(){}}),d=function(){return(0,r.useContext)(u)};function f(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(Object.freeze({})))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],d=i[1],f=(0,r.useMemo)(function(){return{getPinFeedbackStatus:function(e){return l[e.pinId]},setPinFeedbackStatus:function(e){var t=e.pinId,n=e.pinFeedbackStatus;return d(a(a({},l),{},s({},t,n)))}}},[l]);return(0,o.jsx)(u,{value:f,children:n})}},472934:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(578373);function o(e){var t=e.resourceOptions,n=e.updatePinFeedbackStatus;n("hidden"),r.Z.create("PinFeedbackResource",t).callUpdate().catch(function(){n("error")})}},68707:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return+!e.isDesktop}},1854:function(e,t,n){n.d(t,{G:function(){return v},Z:function(){return g}});var r=n(258712),o=n(132227),i=n(633569),l=n(399083),a=n(56063),s=n(762422),c=n(844379),u=n(538645),d=n(755090),f=n(607233),p=n(41990),m=n(814692),h=n(862173),y=n(769067),_=n(19035);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=25;function g(e){var t,n=e.align,v=e.customLayoutType,g=e.dynamicHeights,w=e.getColumnSpanConfig,x=e.emptyState,P=e.feedItems,j=e.feedKey,S=e.maxColumns,O=e.minColumns,A=e.pagination,T=A.hasNext,C=A.isLoadingNext,I=A.loadNext,k=A.refetch,z=e.pullToRefresh,E=e.renderFeedItem,F=e.serverRender,D=e.isLoadingStateEnabled,L=e.isLoadingAccessibilityLabel,R=e.isLoadedAccessibilityLabel,B=(0,u.HG)(),H=(0,l.Z)(),Z=H.experimentalColumnWidth,N=H.experimentalGutter,M=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),U=M[0],W=M[1],V=1===S?window.innerWidth:void 0,G="userSearch"===v?window.innerWidth-16:200,Y=C&&0===P.length&&!U&&!D,K="desktopFlashlight"===v||"ideaPage"===v&&B?-2:a.qG,q=null!=O?O:2;return"userSearch"===v&&(q=1),(0,d.Z)(function(){return window.addEventListener("online",I),function(){return window.removeEventListener("online",I)}}),(0,_.jsxs)(o.xu,{"data-test-id":"MobileFeed",children:[(0,_.jsx)(p.Z,{enabled:!!z,onPull:function(){k(),W(!0)},refreshing:U}),(0,_.jsxs)(o.xu,{"data-test-id":"grid",marginEnd:K,marginStart:K,opacity:U?.5:1,children:[(0,_.jsx)(s.Z,{isAtEndOfFeed:!T,isPlaceholderGrid:D&&C&&!P.length,itemCount:P.length,children:P.length?(0,_.jsx)(o.xu,{"data-test-id":"feed",marginTop:(0,f.kk)({isDesktop:B}),children:(0,_.jsx)(c.Z.Consumer,{children:function(e){return(0,_.jsx)(r.Fragment,{children:(0,_.jsx)(y.Z,{children:(0,_.jsx)(i.default,{_dynamicHeights:g,_getColumnSpanConfig:w,align:"ideaPage"===v?"start":n,cacheKey:j,columnWidth:B?null!=Z?Z:a.yF:null!=V?V:G,gutterWidth:B?null!=N?N:4*a.jC:void 0,id:F?j:void 0,isFetching:C,isLoadedAccessibilityLabel:null!=R?R:"",isLoadingAccessibilityLabel:null!=L?L:"",isLoadingStateEnabled:!!D,items:P,loadItems:I,maxColumns:S,minCols:q,optOutFluidGridExperiment:null!=S,renderItem:function(e){return E(e.data,e.itemIdx)},scrollContainerRef:e,serverRender:F})})})}})}):C?(0,_.jsx)(m.Z,{}):null!=x?x:null}),Y&&(0,_.jsx)(o.xu,{column:12,paddingY:2,children:(0,_.jsx)(h.Z,{partialViewportWidth:"desktopFlashlight"===v})})]})]})}},769067:function(e,t,n){var r=n(538645),o=n(882368),i=n(415042),l=n(19035);t.Z=function(e){var t=e.children,n=(0,r.HG)();return!(0,o.Z)().isAuth&&n?(0,l.jsx)(i.x,{children:t}):t}},837439:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(69401),o=n(121006),i=n(331935);function l(e){var t=e.enableBizEmailValidator,n=e.i18n,l=(0,i.GT)({message:n._('Not a valid email.', 'Validation error message for an improperly formated email address', 'Validation error message for an improperly formated email address')}),a=function(e){return(0,i.Gy)({max:e,maxErrorString:(0,o.Z)(n._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:e})})},s=(0,i.aH)({message:n._('Your profile needs a name', 'settingsValidators.nameValidator.message', 'Error message when missing input value for name')}),c=(0,i.aH)({message:n._('Your profile needs a username. Choose wisely so others can find you', 'settingsValidators.usernameValidator.message', 'Error message when missing input value for username')}),u=(0,i.aH)({message:n._('Missed a spot!', 'Missing input value', 'Missing input value')}),d=(0,i.aH)({message:n._('Required', 'Validation error when user input is missing', 'Validation error when user input is missing')}),f=(0,i.Jx)({message:n._('Not a valid URL', 'settingsValidators.urlValidator.message', 'Validation error for an improperly formated url')}),p=(0,i.vd)({pattern:/^[\u0590-\u05FF\u0400-\u04FF\w\s]*$/,message:n._('Please do not include any special characters.', 'profile.AccountSettings.customGender.charactersValidationError', 'Error message when custom gender contains special chars')});return{about:[a(500)],biz_email:t?[d,l]:[],business_name:[s,a(65)],contact_name:[u],custom_gender:[u,p],email:[d,l],first_name:[s,a(r.ZP.MAX_CHARS_FOR_FIRST_NAME)],full_name:[s,a(65)],last_name:[a(30)],location:[a(50)],username:[c],website_url:[f]}}},419020:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(132227),o=n(233846),i=n(19035);function l(){var e=(0,o.ZP)();return(0,i.jsx)(r.JO,{accessibilityLabel:e._('Secret board', 'Accessibility label for icon indicating a secret board', 'Accessibility label for icon indicating a secret board'),color:"default",icon:"lock",inline:!0})}},607233:function(e,t,n){n.d(t,{G9:function(){return l},SY:function(){return s},kk:function(){return i},mb:function(){return c},s:function(){return a}});var r=n(56063),o=n(68707),i=function(e){var t=e.isDesktop,n=(0,o.Z)({isDesktop:t});return n?-n:0},l=-2,a=function(e){var t=e.trafficSource,n=e.deviceType,o=e.experimentalGutter,i=null!=o?o:4*r.jC;return"desktop"===n?i:"board"===t?4:void 0},s=function(e){var t=e.deviceType,n=e.customMWebColumnWidth,o=e.experimentalColumnWidth,i=null!=o?o:r.yF;return"desktop"===t?i:n||200},c=function(e){var t=e.gutterWidth,n=e.itemWidth,o=e.className,i=e.minColumns,l=void 0===i?r.yc:i,a=e.maxColumns,s=void 0===a?r.g5:a,c=n+t;return Array.from({length:s+1-l},function(e,t){return t+l}).map(function(e){return{minWidth:e===l?0:e*c,maxWidth:e===s?null:(e+1)*c-1,styles:"\n      .".concat(o," {\n        max-width: ").concat(e*c-t,"px;\n      }\n      ")}}).map(function(e){var t=e.minWidth,n=e.maxWidth,r=e.styles;return"\n    @media (min-width: ".concat(t,"px) ").concat(n?"and (max-width: ".concat(n,"px)"):""," {\n      ").concat(r,"\n    }\n  ")}).join("")}},415042:function(e,t,n){n.d(t,{D:function(){return c},x:function(){return s}});var r=n(258712),o=n(112800),i=n(19035);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=(0,r.createContext)(function(){}),s=function(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,r.useCallback)(function(e){(0,o.My)("dweb.unauth.context_menu.open_menu"),u(e)},[]),f=!!c;return(0,r.useEffect)(function(){var e=function(){u(null),(0,o.My)("dweb.unauth.context_menu.click_away")};return f&&document.addEventListener("click",e),function(){f&&document.removeEventListener("click",e)}},[f]),(0,i.jsx)(a,{value:d,children:(0,i.jsxs)(r.Fragment,{children:[n,c]})})},c=function(){return(0,r.useContext)(a)}},862173:function(e,t,n){var r=n(258712),o=n(132227),i=n(56063),l=n(970601),a=n(538645),s=n(9930),c=n(19035),u="PinGridSkeletonLoader__tall",d="PinGridSkeletonLoader__short",f=function(e){var t=e.size;return(0,c.jsx)(o.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===t?u:d})})},p=function(e){var t=e.children;return(0,c.jsx)(o.kC,{direction:"column",gap:{row:0,column:2},children:t})};t.Z=function(e){var t=e.partialViewportWidth,n="desktop"===(0,a.ZP)(),m=n?i.yF:i.tG;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(l.Z,{unsafeCSS:[{name:u,height:250},{name:d,height:150}].map(function(e){var t=e.name,n=e.height;return(0,s.Z)({name:t,width:m,height:n})}).join("")}),(0,c.jsx)(o.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:i.qG,marginStart:i.qG,children:n?(0,c.jsxs)(o.kC,{direction:"row",gap:{row:i.jC,column:0},children:[(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"tall"})}),(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"short"})}),(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"tall"})}),!t&&(0,c.jsx)(p,{children:(0,c.jsx)(f,{size:"short"})})]}):(0,c.jsxs)(o.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,c.jsxs)(p,{children:[(0,c.jsx)(f,{size:"tall"}),(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"})]}),(0,c.jsxs)(p,{children:[(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"}),(0,c.jsx)(f,{size:"short"}),(0,c.jsx)(f,{size:"tall"})]})]})})]})}},9930:function(e,t){t.Z=function(e){var t=e.name,n=e.width,r=e.height,o="".concat(n).concat("number"==typeof n?"px":""),i="".concat(r).concat("number"==typeof r?"px":""),l="number"==typeof n?n:236;return"\n.".concat(t," {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ").concat(t,"_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ").concat(l," ").concat(i,";\n  width: ").concat(o,";\n  height: ").concat(i,";\n}\n\n@keyframes ").concat(t,"_placeHolderShimmer{\n  0% {\n      background-position: -").concat(l,"px 0;\n  }\n  100% {\n      background-position: ").concat(l,"px 0;\n  }\n}\n")}},683829:function(e,t,n){var r=n(233846),o=n(538645),i=n(316866),l=n(412584);t.Z=function(){var e=(0,r.ZP)(),t=(0,o.HG)(),n=(0,i.H)(),a=n.viewer,s=n.loginForMore,c=n.limitedLoginModalSubheader,u=n.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===a.type?function(n){var r=n.modalHeader,o=n.nextLocation;return function(n){var i=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?i=n:n.event&&(i=n.event)),i&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),null==s||s.setVisible(!0),null==c||c.setText(r||(t?(0,l.hr)(e):(0,l.Wh)(e))),o&&(null==u||u.setRoute(o))}}:function(e){return e.fn}}},688079:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(132227),o=n(640935),i=n(19035);function l(e){var t,n,l=e.color,a=e.image,s=e.isSelected,c=e.title,u=(0,o.vs)();return(0,i.jsxs)(r.xu,{alignItems:"center","aria-selected":s,dangerouslySetInlineStyle:{__style:{backgroundColor:u?s?"#fff":"#767676":s?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,i.jsx)(r.zd,{height:48,rounding:"circle",width:48,children:a.url&&(0,i.jsx)(r.Ee,{alt:"",color:l,fit:"cover",naturalHeight:null!=(t=a.height)?t:1,naturalWidth:null!=(n=a.width)?n:1,src:a.url})}),(0,i.jsx)(r.xu,{marginEnd:3,marginStart:2,children:(0,i.jsx)(r.xv,{color:s?"inverse":u?"light":"dark",weight:"bold",children:c})})]})}},915769:function(e,t,n){n.d(t,{Z:function(){return tD}});var r=n(284987),o=n(538645),i=n(882368),l=n(258712),a=n(132227),s={activityTypeValues:{ALL:"all",SAVED:"saved",VIEWED:"viewed"}},c=n(233846),u=n(19035),d=function(e){var t=e.title,n=e.activityTypeFilter,r=void 0===n?null:n,o=e.allDisabled,i=void 0!==o&&o,s=e.handleButtonToggle,d=e.isToggleDisabled,f=(0,c.ZP)(),p=i?f._('Turn on all', 'Caption for button to enable all recommendations from Pins below', 'Caption for button to enable all recommendations from Pins below'):f._('Turn off all', 'Caption for button to stop all recommendations from Pins below', 'Caption for button to stop all recommendations from Pins below');return(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,children:[(0,u.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(a.xu,{tabIndex:0,children:(0,u.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:void 0===t?"":t})}),(0,u.jsx)(a.xu,{marginStart:4,children:(0,u.jsx)(a.Fm,{accessibilityLabel:p,disabled:void 0===d||d,onClick:void 0===s?function(){}:s,selected:i,size:"lg",text:p})})]}),(0,l.isValidElement)(r)&&(0,u.jsx)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"end",children:r})]})},f=n(545007),p=n(346611),m=n(660691),h=n(51340);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g={backgroundSize:"cover",backgroundPosition:"50% 50%",cursor:"zoom-in"},w={backgroundColor:"rgba(0,0,0,0.4)"};function x(e){var t,n,o,s,d,f,y,_,x,P,j=e.isDisabled,S=e.onSelectPin,O=e.pin,A=e.enabledDSALaunch,T=e.disabledByDSA,C=(0,m.Z)(),I=(0,c.ZP)(),k=(0,r.k6)(),z=(0,i.Z)().isAuth,E=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=E[0],D=E[1],L=null!=(d=null==(f=O.images)||null==(y=f["474x"])?void 0:y.url)?d:"",R=(null==(_=O.grid_title)?void 0:_.trim())||(null==(x=O.title)?void 0:x.trim())||(null==(P=O.description)?void 0:P.trim())||I._('Pin without title or description', 'HomefeedControlActivityItem.Pin.without.title', 'Text when there is no pin title, grid title or description in the pin for accesibility'),B=b({backgroundImage:'url("'.concat(L,'")'),opacity:1},g),H=b({backgroundImage:'url("'.concat(L,'")'),opacity:1},g),Z=b({opacity:1},w),N={opacity:0};return(0,u.jsxs)(a.xu,{children:[(0,u.jsx)(a.st,{children:(0,u.jsx)(a.zd,{rounding:4,wash:!0,children:(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:b({},F?{border:"2px solid ".concat(p.qtB)}:{})},height:304,overflow:"hidden",position:"relative",rounding:4,width:236,children:[(0,u.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:j?B:H},"data-test-id":"pin",left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:(0,u.jsx)(a.iP,{accessibilityLabel:R,disabled:T,fullHeight:!0,fullWidth:!0,mouseCursor:z?void 0:"zoomIn",onBlur:function(){return D(!1)},onFocus:function(){return D(!0)},onTap:function(){return k.push("/pin/".concat(O.id))},rounding:4})}),j&&(0,u.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:j?Z:N},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0}),j&&(0,u.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:j?{opacity:1}:N},"data-test-id":"homefeed-control-pin-recommendations-disabled",display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,rounding:4,top:!0,children:(0,u.jsx)(a.xu,{alignItems:"center","aria-hidden":!j,direction:"column",display:"flex",justifyContent:"start",paddingX:3,paddingY:6,children:(0,u.jsx)(a.xv,{align:"center",color:"inverse",children:I._('Recommendations are turned off for this Pin', 'Caption where Pin will no longer be used for recommendations', 'Caption where Pin will no longer be used for recommendations')})})}),(0,u.jsx)(a.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new a.Ry(1e3),children:(0,u.jsx)(a.XZ,{checked:!j&&!T,disabled:T,helperText:"",id:"checkbox-".concat(O.id),label:"".concat(I._('Checkbox for enabling or disabling recommendations for', 'HomefeedControlActivityItem.Checkbox.Recommendations', 'Accesibility label for enabling or disabling a pin recommendations')," ").concat(R||""),labelDisplay:"hidden",onChange:function(){S()}})})]})})}),A&&(0,u.jsx)(a.xu,{marginStart:2,marginTop:2,children:(0,u.jsx)(a.xv,{size:"200",weight:"bold",children:(n=1e3*O.activity_timestamp,o=new Date(n),(s=Math.floor((new Date().getTime()-o.getTime())/1e3))<60?I._('Just now', 'homefeedControlActivity.activityItem.justAgoTimeCaption', 'Caption for pin just ago activity time.'):s<120?I._('1 minute ago', 'homefeedControlActivity.activityItem.justAMinuteAgoTimeCaption', 'Caption for pin just a minute ago activity time.'):(0,h.nk)(I._('{{ timesince }} ago', 'HomefeedControlActivity.ActivityItem.timeCaption', 'Caption for pin activity time. timesince: Time when pin was added to recent activity'),{timesince:C(n,!0)}).join(""))})})]})}var P=n(19963),j=n(142212),S=function(){var e=(0,c.ZP)(),t=(0,P.v)().logContextEvent,n=(0,r.k6)();return(0,u.jsx)(a.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,u.jsx)(a.XA,{message:(0,u.jsx)(a.xv,{children:(0,u.jsx)(a.xu,{maxWidth:450,children:(0,h.nk)(e._('Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}', 'HomefeedControl.Activity.upsellMessage', 'Message for activity recomendations upsell tab in homefeed, learnMore: link to learn more'),{learnMore:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{accessibilityLabel:"Learn more about profiling",display:"inlineBlock",href:j.fPu,target:"blank",underline:"hover",children:e._('Learn more', 'HomefeedControl.Activity.searchPrivacyLink', 'Link to privacy and data settings')})},"profiling-learn-more")})})}),primaryAction:{accessibilityLabel:"Update settings",label:e._('Update setting', 'HomefeedControl.Activity.updateSettingButton', 'Text on go to settings button'),onClick:function(){t({event_type:101,element:13581,view_type:255}),n.push(j.Gxc)}},title:e._('Add more personalization', 'HomefeedControl.Activity.upsellTitle', 'Message for activity recomendations upsell tab in homefeed')})})},O=n(20365),A=n(62861),T=n(903683);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(D=function(){return!!e})()}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}var H=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&E(i,e);var t,n,r,o=(t=D(),function(){var e,n=L(i);return e=t?Reflect.construct(n,arguments,L(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==C(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return F(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(F(e=o.call.apply(o,[this].concat(n))),"state",{previousDisabledPins:{},disabledPins:{},isAllDisabled:!1}),R(F(e),"handleSelectPin",function(t){var n=e.props,r=n.reduxPins,o=n.onSelectPin,i=n.showPinFeedback,l=n.hidePinFeedback,a=e.state,s=a.disabledPins,c=a.isAllDisabled,u=k({},s),d=!s[t.id];u[t.id]=d;var f=r.reduce(function(e,t){return e&&u[t.id]},!0);e.setState({disabledPins:u,isAllDisabled:(!c||!s[t.id])&&(c||f)}),o(t,u[t.id]),d?i({pinId:t.id,nodeId:t.node_id}):l({pinId:t.id,nodeId:t.node_id})}),R(F(e),"handleSelectAll",function(){var t=e.props,n=t.reduxPins,r=t.onSelectPin,o=t.showPinFeedback,i=t.hidePinFeedback,l=e.state,a=l.isAllDisabled,s=l.disabledPins,c=k({},s),u=!a;n.forEach(function(e){(u&&!s[e.id]||!u&&s[e.id])&&(c[e.id]=!c[e.id],r(e,c[e.id])),u?o({pinId:e.id,nodeId:e.node_id}):i({pinId:e.id,nodeId:e.node_id})}),e.setState({isAllDisabled:u,disabledPins:c})}),R(F(e),"renderPin",function(t){var n=e.state.disabledPins[t.id],r=e.props.enabledDSALaunch,o=r&&t.is_disabled_by_dsa||!1;return(0,u.jsx)(a.xu,{paddingX:2,paddingY:3,children:(0,u.jsx)(x,{disabledByDSA:o,enabledDSALaunch:r,isDisabled:n||o,onSelectPin:function(){e.handleSelectPin(t)},pin:t})},t.id)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.reduxPins,n=e.title,r=e.isFirstSection,o=e.enabledDSALaunch,i=e.isDSAOptedOut,l=e.selectedActivityFilter,c=e.activityTypeFilter,f=this.state.isAllDisabled;return(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:36}},marginBottom:2,marginTop:2,children:[o&&i&&r&&l!==s.activityTypeValues.SAVED&&(0,u.jsx)(S,{}),(0,u.jsx)(d,{activityTypeFilter:o&&r?c:null,allDisabled:f,handleButtonToggle:this.handleSelectAll,isToggleDisabled:o&&i&&l!==s.activityTypeValues.SAVED,title:n}),(0,u.jsx)(a.xu,{display:"flex",marginEnd:-2,marginStart:-2,marginTop:2,wrap:!0,children:t.map(this.renderPin)})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.reduxPins,r=t.previousDisabledPins,o=!1,i={};if(n.forEach(function(e){var t=void 0===e.showFeedback?e.is_blocked:e.showFeedback;i[e.id]=t,r[e.id]!==t&&(o=!0)}),o){var l=n.reduce(function(e,t){return e&&i[t.id]},!0);return{previousDisabledPins:k({},i),disabledPins:i,isAllDisabled:l}}return null}}],n&&z(i.prototype,n),r&&z(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent);function Z(e){var t=(0,c.ZP)(),n=(0,P.v)().logContextEvent,o=(0,f.I0)(),i=(0,T.AF)(),l=[];e.pins.forEach(function(e){l.push(i[e.id]||e)});var a=(0,r.k6)();return(0,u.jsx)(H,k(k({},e),{},{hidePinFeedback:function(e){var t=e.pinId,n=e.nodeId;return o((0,A.I1)({id:t,nodeId:n}))},history:a,i18n:t,logContextEvent:n,reduxPins:l,showPinFeedback:function(e){var n=e.pinId,r=e.nodeId;return o((0,A.q1)({id:n,text:O.Z.PIN_HIDDEN(t),nodeId:r}))}}))}R(H,"defaultProps",{isDSAOptedOut:!1});var N=n(74976);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q=function(){return!!e})()}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return(t=J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=M(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}var Q=a.Rk.createMeasurementStore(),ee=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Y(i,e);var t,n,r,o=(t=q(),function(){var e,n=X(i);return e=t?Reflect.construct(n,arguments,X(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==M(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return K(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(K(e=o.call.apply(o,[this].concat(n))),"state",{blocks:[],pinIndex:0,selectedFilterOption:s.activityTypeValues.ALL}),$(K(e),"handleSelectPin",function(t,n){var r=t.id,o=t.is_promoted,i=t.is_downstream_promotion,l=t.is_disabled_by_dsa,a=e.props.logContextEvent;l||((0,N.t)("complaint",{pin_id:r,complaint_reason:0,feedback_type:4,promoted:o&&!i,recommendation_reason_id:4,through_id:r,undo:!n},void 0,a),a({event_type:n?107:106,view_type:255,view_parameter:3290,object_id_str:r,element:11352}))}),$(K(e),"renderBlock",function(t){var n=t.data,r=t.itemIdx,o=n.title,i=n.pins,l=e.props,s=l.isDSAOptedOut,c=l.activityTypeFilter,d=l.enabledDSALaunch,f=l.selectedActivityFilter;return(0,u.jsx)(a.xu,{children:(0,u.jsx)(Z,{activityTypeFilter:c,enabledDSALaunch:d,isDSAOptedOut:s,isFirstSection:0===r,onSelectPin:e.handleSelectPin,pins:i,selectedActivityFilter:f,title:o})},r)}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.pins,r=t.i18n,o=t.enabledDSALaunch,i=t.activityTypeFilter,l=this.state.blocks;return(0,u.jsxs)(a.xu,{maxWidth:922,children:[(0,u.jsx)(a.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,u.jsx)(a.xv,{color:"subtle",size:"300",children:r._('Hide ideas related to Pins you recently saved or tapped to view close-up.', 'HomefeedControl.Activity.headingMessage', 'Heading message for activity tab in homefeed')})}),n.data&&0===n.data.length&&(0,u.jsx)(d,{activityTypeFilter:o?i:null,title:""}),(0,u.jsx)(a.Rk,{columnWidth:922,gutterWidth:0,items:l,loadItems:n.fetchMore,measurementStore:Q,minCols:1,renderItem:function(t){var n=t.data,r=t.itemIdx;return e.renderBlock({data:n,itemIdx:r})},scrollContainer:function(){return window}}),n.isFetching&&(0,u.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingY:3,children:(0,u.jsx)(a.xH,{accessibilityLabel:this.props.i18n._('Loading', ' - ', ' -- '),show:!0})})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.pins.data,r=e.i18n,o=e.getHumanizedTimeSince,i=e.selectedActivityFilter,l=t.blocks,a=t.pinIndex,s=t.selectedFilterOption,c=i!==s,u=c?0:a,d=c?[]:l.slice();if(!n||n.length===u)return null;var f=n.slice(u),p={};f.forEach(function(e){void 0===p[e.id]&&(p[e.id]=e.activity_timestamp)});var m={},h={},y=[],_=d.map(function(e){return e.title});return f.filter(function(e){return p[e.id]}).sort(function(e,t){return p[t.id]-p[e.id]}).forEach(function(e){if(!m[e.id]){m[e.id]=!0;var t,n,i,l,a=(t=1e3*parseInt(p[e.id],10),n=Math.floor((Date.now()-t)/864e5),i=Date.now(),0===n?r._('Today', 'Caption when pin was interacted with today', 'Caption when pin was interacted with today'):1===n?r._('Yesterday', 'Caption when pin was interacted with yesterday', 'Caption when pin was interacted with yesterday'):o(new Date(i-864e5*n).toString()));h[a]=[].concat(function(e){if(Array.isArray(e))return V(e)}(l=h[a]||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return V(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(l)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e]),-1===y.indexOf(a)&&y.push(a)}}),y.forEach(function(e){var t=e,n=h[e],r=_.indexOf(e);if(0===d.length)d.push({title:t,pins:n});else if(-1===r)t=e,d.push({title:t,pins:n});else if(-1!==r){var o=d.find(function(t){return t.title===e});if(o&&o.pins){o.pins=o.pins.concat(n);var i=o.pins.length,l=Math.ceil(i/3),a=Math.ceil((i+n.length)/3);if(l!==a){var s=d[r],c=Q.map.get(s);c&&Q.map.set(s,c+(a-l)*400)}}}}),{pinIndex:n.length,blocks:d,selectedFilterOption:i||s}}}],n&&G(i.prototype,n),r&&G(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent),et=function(e){var t=(0,P.v)().logContextEvent,n=(0,c.ZP)(),r=(0,m.Z)();return(0,u.jsx)(ee,W(W({},e),{},{getHumanizedTimeSince:r,i18n:n,logContextEvent:t}))};function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function er(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return en(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],o=n[1],i=(0,l.useRef)(null),s=e.activityFilter,c=e.setActivityFilter,d=e.activityTypeOptions,f=function(e){c(e.item),o(!1)};return(0,u.jsxs)(a.kC,{justifyContent:"center",children:[(0,u.jsx)(a.hU,{ref:i,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:r,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:function(){return o(function(e){return!e})},selected:r,size:"xl"}),r&&(0,u.jsx)(a.Lt,{anchor:i.current,disableMobileUI:!0,id:"activity-type-filter-dropdown",onDismiss:function(){return o(!1)},children:d.length>0&&d.map(function(e){return(0,u.jsx)(a.Lt.Item,{onSelect:f,option:e,selected:s},e.value)})})]})}var eo=n(69401),ei=n(419020);function el(e){var t=e.board,n=t.id,r=t.name,o=t.image_cover_url,i=t.pin_count,s=t.section_count,d=t.privacy,f=t.board_order_modified_at,p=t.is_collaborative,y=t.collaborating_users,_=t.url,b=e.onToggle,v=e.isEnabled,g=e.enabledDSALaunch,w=e.isDSAOptedOut,x=(0,c.ZP)(),P=(0,m.Z)(),j=d===eo.ZP.BoardPrivacy.SECRET,S=f&&P(f,!0);return(0,u.jsx)(a.xu,{"data-test-id":"homefeed-board-item",marginEnd:-2,marginStart:-2,children:(0,u.jsx)(a.iP,{disabled:g&&w,onTap:b,rounding:2,children:(0,u.jsx)(a.xu,{padding:2,children:(0,u.jsx)(a.st,{children:(0,u.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(a.xu,{flex:"none",marginEnd:2,overflow:"hidden",rounding:1,children:(0,u.jsxs)(a.Tg,{accessibilityLabel:(0,h.nk)(x._('{{name}} board', 'homefeedControlBoardItem.tapArea.accessibilityLabel', 'Accessibility label for the tap area that navigates to a board. name: the name of the board'),{name:r}).join(""),disabled:g&&w,href:void 0===_?"":_,onTap:function(e){return e.event.stopPropagation()},rounding:2,children:[(0,u.jsx)(a.zd,{height:60,rounding:4,wash:!0,width:60,children:o?(0,u.jsx)(a.Ee,{alt:(0,h.nk)(x._('{{name}} board cover', 'homefeedControlBoardItem.imageCover.accessibilityLabel', 'Accessibility label for board covers. name: the name of the board'),{name:r}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:o}):(0,u.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"})}),j&&(0,u.jsx)(a.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,u.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,u.jsx)(ei.Z,{})})})]})}),(0,u.jsxs)(a.xu,{opacity:g&&w?.7:1,children:[(0,u.jsx)(a.xu,{marginBottom:1,children:(0,u.jsx)(a.xv,{lineClamp:1,size:"400",weight:"bold",children:r})}),(0,u.jsxs)(a.kC,{gap:2,children:[(0,u.jsxs)(a.xv,{inline:!0,size:"100",children:[(0,h.nk)(x.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != i ? i : 0, 'HomefeedControlBoardItem.pinCount', 'Number of Pins on board or section'),{pinCount:i})," ",(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)("span",{children:"  "}),(0,h.nk)(x.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', null != s ? s : 0, 'HomefeedControlBoardItem.boardDetails.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:s})," "]})]}),(0,u.jsx)(a.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:S})]})]}),(0,u.jsx)(a.xu,{flex:"grow"}),p&&(0,u.jsx)(a.xu,{flex:"none",marginStart:3,children:y&&(0,u.jsx)(a.HE,{accessibilityLabel:x._('Collaborative board', 'HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:y.map(function(e){var t,n,r;return{name:null!=(t=e.full_name)?t:"",src:null!=(n=e.image_medium_url)?n:"",color:null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0}}),size:"xs"})}),(0,u.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"end",marginStart:3,children:(0,u.jsxs)(a.xu,{paddingX:1,children:[(0,u.jsx)(a.xu,{display:"visuallyHidden",children:(0,u.jsx)(a.__,{htmlFor:n,children:(0,h.nk)(x._('Select {{name}}', 'homefeedcontrolboarditem.select.accessibilityLabel', 'Accessibility label for the homefeedcontrolboarditem'),{name:r})})}),(0,u.jsx)(a.rs,{disabled:g&&w,id:n,onChange:function(){},switched:!(g&&w)&&v})]})})]})})})})})}var ea=n(65157),es=n(63500);function ec(e){return(ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){ey(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ef(e,t){return(ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ep(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function em(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(em=function(){return!!e})()}function eh(e){return(eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ey(e,t,n){return(t=e_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e){var t=function(e,t){if("object"!=ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ec(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ec(t)?t:t+""}var eb=a.Rk.createMeasurementStore(),ev=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&ef(o,e);var t,n,r=(t=em(),function(){var e,n=eh(o);return e=t?Reflect.construct(n,arguments,eh(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ec(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ep(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ey(ep(e=r.call.apply(r,[this].concat(n))),"state",{updatedBoardRecommendations:{}}),ey(ep(e),"getBoardRecommendationsState",function(t){var n,r=e.props.reduxBoards,o=e.state.updatedBoardRecommendations,i=r[t.id];return null!=(n=o[t.id])?n:!!(null==i?void 0:i.allow_homefeed_recommendations)}),ey(ep(e),"handleBoardToggle",function(t){var n=t.category,r=t.collaborator_invites_enabled,o=t.collaborator_requests_enabled,i=t.description,l=t.id,a=t.name,s=t.privacy,c=e.props.updateBoard,u=!e.getBoardRecommendationsState(t),d={category:n,collaborator_invites_enabled:r,collaborator_requests_enabled:o,description:null!=i?i:"",name:a,privacy:s,allow_homefeed_recommendations:u};c(l,d),e.setState(function(e){return{updatedBoardRecommendations:ed(ed({},e.updatedBoardRecommendations),{},ey({},l,u))}});var f=d.allow_homefeed_recommendations?106:107;e.props.logContextEvent({event_type:f,view_type:255,view_parameter:3291,object_id_str:t.id,element:11351})}),ey(ep(e),"renderHeader",function(){return(0,u.jsx)(a.xu,{alignItems:"center","data-test-id":"homefeed-control-message-text",display:"flex",marginBottom:3,width:488,children:(0,u.jsx)(a.xv,{color:"subtle",size:"300",children:e.props.i18n._('Switch off a board to stop seeing ideas related to it. Don\'t worry, this won\'t affect your board.', 'HomefeedControl.Board.headingMessage', 'Heading message for board tab in homefeed')})})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.boards,r=t.enabledDSALaunch,o=t.isDSAOptedOut;return(0,u.jsxs)(a.xu,{"data-test-id":"boards_table",width:e8,children:[this.renderHeader(),r&&o&&(0,u.jsx)(S,{}),(0,u.jsx)(a.Rk,{columnWidth:e8,gutterWidth:0,items:n.data||[],loadItems:n.fetchMore,measurementStore:eb,minCols:1,renderItem:function(t){var n=t.data;return(0,u.jsx)(el,{board:n,enabledDSALaunch:r,isDSAOptedOut:o,isEnabled:e.getBoardRecommendationsState(n),onToggle:function(){return e.handleBoardToggle(n)}},n.id)},scrollContainer:function(){return window}})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e_(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent);function eg(e){var t=(0,P.v)().logContextEvent,n=(0,c.ZP)(),r=(0,es.bn)(),o=(0,f.I0)();return(0,u.jsx)(ev,ed(ed({},e),{},{i18n:n,logContextEvent:t,reduxBoards:r,updateBoard:function(e,t){return o((0,ea.V)(e,t))}}))}var ew=n(756815);function ex(e){for(var t=e.emptyState,n=e.handleFollowingCountChange,r=e.suppressToasts,o=e.usersResource,i=e.truncateName,l=void 0!==i&&i,s=(0,c.ZP)(),d=o.data,f=o.fetchMore,p=o.isFetching,m=o.isAtEnd,h=o.isLoaded,y=[],_=0;_<12;_+=1)y.push((0,u.jsx)(a.xu,{width:260},_));return(0,u.jsxs)(a.xu,{"data-test-id":"profile-users-feed",children:[(0,u.jsxs)(a.xu,{children:[(0,u.jsx)(a.gr,{fetchMore:f,isAtEnd:m,isFetching:p}),h&&d&&0===d.length&&t?t:(0,u.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:4,justifyContent:"between",wrap:!0,children:[d&&d.map(function(e){return(0,u.jsx)(ew.Z,{data:e,handleFollowingCountChange:n,invertButtonColor:!1,suppressToasts:r,truncateName:l,viewParameter:50,viewType:4},e.id)}),y.length>0&&y.map(function(e){return e})]})]}),(0,u.jsx)(a.xu,{marginBottom:1,children:(0,u.jsx)(a.xH,{accessibilityLabel:s._('Loading additional users', 'Label for the loading state spinner in the People section of the Follower/Following page', 'Label for the loading state spinner in the People section of the Follower/Following page'),show:p||!h})})]})}function eP(e){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=eO(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eO(e){var t=function(e,t){if("object"!=eP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eP(t)?t:t+""}function eA(e,t){return(eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eT=function(){return!!e})()}function eC(e){return(eC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eI=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eA(o,e);var t,n,r=(t=eT(),function(){var e,n=eC(o);return e=t?Reflect.construct(n,arguments,eC(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eP(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var n=e;if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this.props.users;return(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(a.xu,{marginBottom:3,children:(0,u.jsx)(a.xv,{align:"start",color:"subtle",size:"300",children:this.props.i18n._('Unfollow a person or brand to stop seeing their published Pins. They won\u2019t be notified.', 'HomefeedControl.following.headingMessage', 'Heading message for following tab on Home Feed Tuner')})}),e.data&&e.data.length>0&&(0,u.jsx)(ex,{suppressToasts:!0,truncateName:!0,usersResource:e})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eO(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent),ek=function(e){var t=(0,c.ZP)();return(0,u.jsx)(eI,eS(eS({},e),{},{i18n:t}))},ez=n(718747),eE=n(182700),eF=n(377231);function eD(e){return(eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eL(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=eB(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eB(e){var t=function(e,t){if("object"!=eD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eD(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eD(t)?t:t+""}function eH(e,t){return(eH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eZ=function(){return!!e})()}function eN(e){return(eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eM=a.Rk.createMeasurementStore(),eU=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eH(o,e);var t,n,r=(t=eZ(),function(){var e,n=eN(o);return e=t?Reflect.construct(n,arguments,eN(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eD(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var n=e;if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this,t=this.props,n=t.topics,r=t.i18n;return(0,u.jsxs)(a.xu,{children:[(0,u.jsx)(a.xu,{alignItems:"center",display:"flex",marginBottom:3,width:488,children:(0,u.jsx)(a.xv,{color:"subtle",size:"300",children:r._('Add interests to start seeing related ideas. Remove interests to hide related ideas you\u2019re no longer interested in.', 'HomefeedControl.Interests.headingMessage', 'Heading message for Interests tab in homefeed')})}),(0,u.jsx)(a.xu,{marginTop:7,children:(0,u.jsx)(a.Rk,{columnWidth:176,gutterWidth:16,items:n.data||[],loadItems:n.fetchMore,measurementStore:eM,minCols:4,renderItem:function(t){var n=t.data,r=n.id,o=void 0===r?"":r,i=n.images,l=n.name,s=n.background_color,c=n.is_followed,d=void 0!==c&&c,f=n.url_name,p=(0,eF.Z)(void 0===f?"":f).urlName,m=e.props.i18n,h=m._('Remove', 'homefeedControl.topics.remove', 'Button label when to remove an interest when user is currently following the topic'),y=m._('Add', 'homefeedControl.topics.add', 'Button label when to add an interest when user is not currently following the topic'),_=function(t){e.props.logContextEvent({event_type:t?106:107,view_type:255,view_parameter:3293,object_id_str:n.id,element:11353})};return(0,u.jsx)(a.xu,{height:248,marginBottom:2,children:(0,u.jsx)(eE.Z,{backgroundColor:void 0===s?"":s,followedByMe:d,followingButton:(0,u.jsx)(ez.Z,{isFollowed:d,isFollowedText:h,isNotFollowedText:y,onFollow:function(){return _(!0)},onUnFollow:function(){return _(!1)},primaryAction:!0,size:"lg",topicId:o}),height:176,id:o,image:(void 0===i?{}:i)["400x"],name:void 0===l?"":l,url:p,width:176})},o)},scrollContainer:function(){return window},virtualize:!0})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eB(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.PureComponent),eW=function(e){var t=(0,P.v)().logContextEvent,n=(0,c.ZP)();return(0,u.jsx)(eU,eR(eR({},e),{},{i18n:n,logContextEvent:t}))},eV=n(967312),eG=n(174646),eY=n(113474),eK=n(12624),eq=n(648558);function eX(e){return(eX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(t){e6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e4(r.key),r)}}function e1(e,t){return(e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e2(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e3=function(){return!!e})()}function e5(e){return(e5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e6(e,t,n){return(t=e4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e4(e){var t=function(e,t){if("object"!=eX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eX(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eX(t)?t:t+""}var e8=740,e7={ACTIVITY:0,TOPICS:1,BOARDS:2,PROFILES:3},e9="/edit/history",te=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&e1(i,e);var t,n,r,o=(t=e3(),function(){var e,n=e5(i);return e=t?Reflect.construct(n,arguments,e5(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eX(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e2(e)}(this,e)});function i(e){if(!(this instanceof i))throw TypeError("Cannot call a class as a function");e6(e2(t=o.call(this,e)),"handleTabChange",function(e){var n,r,o,i=e.activeTabIndex,l=t.props.history;i===e7.BOARDS?(n="/edit/boards",r=3291,o=11348):i===e7.ACTIVITY?(n=e9,r=3290,o=11349):i===e7.TOPICS?(n="/edit/topics",r=3293,o=11350):i===e7.PROFILES&&(n="/edit/profiles",r=3555,o=12271),t.props.logContextEvent({event_type:101,view_type:255,view_parameter:r,element:o}),t.setState({activeTabIndex:i,viewParameter:r||3555}),n&&l.push(n)}),e6(e2(t),"renderMenu",function(){var e=t.props.i18n,n=t.state.activeTabIndex,r=[{text:e._('Activity', 'homefeedControl.tabs.activity', 'Menu item for controlling recent pin activity options'),href:"#"},{text:e._('Interests', 'homefeedControl.tabs.interests', 'Menu item for controlling followed interests'),href:"#"},{text:e._('Boards', 'homefeedControl.tabs.boards', 'Menu item for controlling board options'),href:"#"},{text:e._('Following', 'homefeedControl.tabs.following', 'Menu item for controlling following options'),href:"#"}];return(0,u.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,u.jsx)(a.mQ,{activeTabIndex:n,onChange:function(e){var n=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;e.event.preventDefault(),r(),t.handleTabChange({activeTabIndex:n})},tabs:r})})}),e6(e2(t),"renderData",function(){var e=t.props,n=e.boards,r=e.pins,o=e.topics,i=e.users,l=e.enabledDSALaunch,a=e.isDSAOptedOut,s=e.activityTypeFilter,c=e.selectedActivityFilter;switch(t.state.activeTabIndex){case e7.BOARDS:return(0,u.jsx)(eg,{boards:n,enabledDSALaunch:l,isDSAOptedOut:a});case e7.ACTIVITY:return(0,u.jsx)(et,{activityTypeFilter:s,enabledDSALaunch:l,isDSAOptedOut:a,pins:r,selectedActivityFilter:c});case e7.TOPICS:return(0,u.jsx)(eW,{topics:o});case e7.PROFILES:return(0,u.jsx)(ek,{users:i});default:return null}}),e6(e2(t),"renderEmptyState",function(){var e,n=t.props.i18n,r=t.state.activeTabIndex;return r===e7.BOARDS?e=n._('It looks like you don\u2019t have any boards yet. As you save Pins onto boards, your home feed will get better and better.', 'Empty state caption when user does not have any boards', 'Empty state caption when user does not have any boards'):r===e7.ACTIVITY?e=n._('You haven\u2019t visited any Pins yet. When you explore Pins, they\u2019ll show up here.', 'homefeedControl.empty.activity', 'Empty state caption when user does not have recent activity'):r===e7.TOPICS?e=n._('You haven\u2019t added any topics to your home feed', 'homefeedControl.empty.topics', 'Empty state caption when user is not following any topics'):r===e7.PROFILES&&(e=n._('It looks like you aren\u2019t following any Pinners.', 'homefeedControl.empty.profiles', 'Empty state caption when user is not following any Pinners')),(0,u.jsx)(a.xu,{display:"flex",height:"100%",justifyContent:"center",padding:8,width:"100%",children:(0,u.jsx)(a.xu,{width:540,children:(0,u.jsx)(a.xv,{align:"center",overflow:"normal",children:e})})})}),e6(e2(t),"renderBody",function(){var e=t.props,n=e.topics,r=e.pins,o=e.boards,i=e.users,l=t.state.activeTabIndex,s=o;return(l===e7.ACTIVITY?s=r:l===e7.TOPICS?s=n:l===e7.PROFILES&&(s=i),s.isLoaded)?(0,u.jsxs)(a.xu,{children:[t.renderData(),s.data&&0===s.data.length&&t.renderEmptyState()]}):(0,u.jsx)(a.xH,{accessibilityLabel:"",show:!s.isLoaded})});var t,n=t.props.page,r=e7.ACTIVITY;return"boards"===n?r=e7.BOARDS:"topics"===n?r=e7.TOPICS:"profiles"===n&&(r=e7.PROFILES),t.state={activeTabIndex:r,viewParameter:3290},t}return n=[{key:"render",value:function(){var e=this,t=this.props.i18n,n=(0,h.XB)({text:t._('Make your Pinterest more <em id="1">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details won\u2019t be shown publicly.', 'homefeedControl.instructions', 'instructions message on turning off recommendations from activity, interests, boards and following'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,u.jsx)(a.xv,{inline:!0,italic:!0,children:t})}}});return(0,u.jsx)(eq.default,{activeItem:"HomeFeedTuner",settingsHeaderDescription:n,viewParameter:this.state.viewParameter,viewType:255,children:(0,u.jsx)(eK.c,{children:function(t){return(0,u.jsx)(a.kC,{alignItems:"stretch",height:"100%",justifyContent:"center",width:"100%",children:(0,u.jsxs)(a.xu,{alignItems:"start",direction:"column",display:"flex",minHeight:"calc(100vh - ".concat(t,"px)"),paddingY:4,width:"100%",children:[(0,u.jsx)(a.xu,{"data-test-id":"settings-menu-items",flex:"none",width:e8,children:e.renderMenu()}),(0,u.jsx)(a.xu,{flex:"grow",paddingY:1,width:"100%",children:e.renderBody()})]})})}})})}}],r=[{key:"getDerivedStateFromProps",value:function(e){var t=e.page,n=e.boards,r=e.history;return!t&&n.isLoaded&&n.data&&0===n.data.length&&r.push(e9),null}}],n&&e0(i.prototype,n),r&&e0(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent);function tt(e){var t,n,o=(0,P.v)().logContextEvent,a=(0,c.ZP)(),d=(0,i.Z)(),f=(0,r.k6)(),p=(0,eG.B)(),m=[{value:s.activityTypeValues.ALL,label:a._('All', 'HomefeedControlActivity.Filter.All', 'Option to show all pins with recent activity')},{value:s.activityTypeValues.SAVED,label:a._('Saved', 'HomefeedControlActivity.Filter.Saved', 'Option to show saved pins from recent activity')},{value:s.activityTypeValues.VIEWED,label:a._('Viewed', 'HomefeedControlActivity.Filter.Viewed', 'Option to show viewed pins from recent activity')}],h=(e6(n={},s.activityTypeValues.ALL,13578),e6(n,s.activityTypeValues.SAVED,13579),e6(n,s.activityTypeValues.VIEWED,13580),n),y=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(m[0]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eQ(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eQ(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=y[0],b=y[1],v=(0,eY.Z)({name:"UserRecentActivityResource",options:{filter_type:_.value}}),g=(0,eY.Z)({name:"UserFollowingResource",options:{username:d.isAuth?d.username:"",exclude_not_explictly_followed:!0},enabledRouteRefresh:!0}),w=(0,eY.Z)({name:"BoardsResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item",page_size:25}}),x=(0,eY.Z)({name:"InterestFollowingResource",options:{username:d.isAuth?d.username:"",page_size:30}}),j=(0,(0,eV.F)().checkExperiment)("uup_dsa_launch_web").anyEnabled,S=(0,eY.Z)({name:"UserSettingsResource"}).data;return(0,u.jsx)(te,eJ(eJ({},e),{},{activityTypeFilter:(0,u.jsx)(er,{activityFilter:_,activityTypeOptions:m,setActivityFilter:function(e){b(e),o({event_type:101,element:h[e.value],view_type:255})}}),boards:w,enabledDSALaunch:j,history:f,i18n:a,isDSAOptedOut:null==S?void 0:S.dsa_opted_out,logContextEvent:o,pins:v,requestContext:p,selectedActivityFilter:_.value,topics:x,users:g}))}e6(te,"defaultProps",{enabledDSALaunch:!1});var tn=n(892671),tr=n(95460),to=n(181710);function ti(){var e,t=(0,r.UO)().page;return"boards"===t?e=3291:"history"===t?e=3290:"topics"===t?e=3293:"quiz"===t&&(e=3358),(0,tn.Q)({view_type:255,view_parameter:e}),(0,u.jsx)(tr.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControl",children:(0,u.jsx)(to.Z,{children:(0,u.jsx)(tt,{page:t})})})}var tl=n(852015),ta=n(540547),ts=n(864339),tc=n(219308);function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var td=function(e){var t,n=e.boardId,r=e.enabledDSALaunch,o=e.isDSAOptedOut,i=(0,tc.Z)(),s=(0,f.I0)(),d=(0,c.ZP)(),p=(0,m.Z)(),y=(0,es.gC)()(null!=n?n:""),_=y||{},b=_.id,v=_.name,g=_.allow_homefeed_recommendations,w=_.image_cover_url,x=_.privacy,P=_.section_count,j=_.collaborating_users,S=_.board_order_modified_at,O=_.pin_count,A=S&&p(S,!0),T=x===eo.ZP.BoardPrivacy.SECRET,C=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)(!g))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tu(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=C[0],k=C[1];if(!y)return null;var z=function(){var e=!I;s((0,ea.V)(b,{allow_homefeed_recommendations:!e})),i({event_type:e?106:107,view_type:255,view_parameter:3291,object_id_str:b,element:11351}),k(e)};return(0,u.jsx)(a.xu,{width:"100%",children:(0,u.jsx)(a.iP,{disabled:r&&o,onTap:z,children:(0,u.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",padding:2,children:[(0,u.jsxs)(a.kC,{alignItems:"center",dataTestId:"board-data-container",direction:"row",flex:"shrink",justifyContent:"start",children:[(0,u.jsx)(a.xu,{flex:"none",children:(0,u.jsxs)(a.zd,{height:60,rounding:4,width:60,children:[w?(0,u.jsx)(a.Ee,{alt:(0,h.nk)(d._('{{ boardName }} cover image', 'HomefeedControlBoardItem.coverImageAlt', 'Board cover image alt for homefeed control boards section. boardName: name of board'),{boardName:null!=v?v:""}).join(""),fit:"cover",naturalHeight:1,naturalWidth:1,src:w}):(0,u.jsx)(a.xu,{color:"secondary",height:"100%",width:"100%"}),T&&(0,u.jsx)(a.xu,{display:"flex",height:60,left:!0,position:"absolute",top:!0,width:60,children:(0,u.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",margin:"auto",rounding:"circle",width:24,children:(0,u.jsx)(ei.Z,{})})})]})}),(0,u.jsxs)(a.xu,{"data-test-id":"board-info",opacity:r&&o?.7:1,paddingX:2,children:[(0,u.jsx)(a.__,{htmlFor:b,children:(0,u.jsx)(a.X6,{accessibilityLevel:2,lineClamp:2,overflow:"breakAll",size:"400",children:v})}),(0,u.jsxs)(a.kC,{gap:2,children:[(0,u.jsxs)(a.xv,{inline:!0,size:"100",children:[(0,h.nk)(d.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', null != O ? O : 0, 'HomefeedControlBoardItem.pinCount', 'pinCount: Number of Pins on board or section'),{pinCount:O})," ",(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)("span",{children:"  "}),(0,h.nk)(d.ngettext('{{ sectionCount }} Section', '{{ sectionCount }} Sections', null != P ? P : 0, 'HomefeedControlBoardItem.boardDetails.sectionCount', 'sectionCount: Number of sections on the board'),{sectionCount:P})," "]})]}),(0,u.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:A})]})]})]}),(0,u.jsxs)(a.kC,{dataTestId:"switch-container",gap:3,children:[j&&(0,u.jsx)(a.HE,{accessibilityLabel:d._('Collaborative board', 'HomefeedControlBoardItem.avatarGroup.isCollaborativeBoard', 'Accessibility label for avatar group indicating a collaborative board'),collaborators:j.map(function(e){var t,n,r;return{name:null!=(t=e.full_name)?t:"",src:null!=(n=e.image_medium_url)?n:"",color:null!=(r=null==e?void 0:e.avatar_color_index)?r:void 0}}),size:"xs"}),(0,u.jsx)(a.rs,{disabled:r&&o,id:b,onChange:z,switched:!(r&&o)&&!I})]})]})})})},tf=n(971518),tp=n(41086),tm=n(139156),th=function(e){var t=e.userId,n=e.viewType,r=e.viewParameter,o=(0,c.ZP)(),i=(0,f.v9)(function(e){return e.users[t]}),l=i.follower_count,s=void 0===l?0:l,d=i.full_name,p=i.image_medium_url,m=i.username,y=i.avatar_color_index;return(0,u.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",width:"100%",children:[(0,u.jsx)(a.Tg,{href:"/".concat(m),children:(0,u.jsxs)(a.kC,{alignItems:"center",gap:2,children:[(0,u.jsx)(tf.qE,{color:y,name:d||"",size:"md",src:p||""}),(0,u.jsxs)(a.kC,{alignContent:"center",direction:"column",justifyContent:"center",children:[(0,u.jsx)(a.xv,{lineClamp:1,overflow:"breakAll",size:"400",weight:"bold",children:d}),(0,u.jsx)(a.xv,{size:"100",children:(0,h.nk)(o.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', s, 'settings.homefeedTuner.profiles.followersCount', 'follower count on usercard followerCount: number of followers'),{followerCount:(0,u.jsx)(tp.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:s},s)})})]})]})}),(0,u.jsx)(tm.Z,{isSecondaryButton:!0,size:"md",user:i,viewParameter:r,viewType:n})]})},ty=function(e){var t=e.altText,n=e.imageUrl,o=e.imageHeight,l=e.imageWidth,s=e.disabledText,d=e.onChange,f=e.isDisabled,p=e.isDisabledByDSA,m=e.pinId,h=(0,c.ZP)(),y=(0,i.Z)().isAuth,_=!o||!l,b=t?t.trim():"",v=(0,r.k6)();return(0,u.jsxs)(a.xu,{"data-test-id":b?"homefeed-control-card":"homefeed-control-card-missing-alt-text",direction:"column",display:"flex",marginBottom:4,padding:1,position:"relative",children:[(0,u.jsx)(a.iP,{accessibilityLabel:b,mouseCursor:y?void 0:"zoomIn",onTap:function(){return v.push("/pin/".concat(m))},tapStyle:"none",children:(0,u.jsx)(a.xu,{height:_?100:"auto",overflow:"hidden",position:"relative",rounding:4,children:(0,u.jsx)(a.Ee,{alt:b,fit:_?"cover":"none",naturalHeight:o||1,naturalWidth:l||1,src:n,children:f&&(0,u.jsx)(a.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",padding:4,children:(0,u.jsx)(a.xv,{align:"center",color:"light",size:"200",children:s})})})})}),(0,u.jsx)(a.xu,{bottom:!0,padding:2,position:"absolute",right:!0,rounding:4,zIndex:new a.Ry(1e3),children:(0,u.jsx)(a.xu,{alignItems:"end",direction:"column",display:"flex",justifyContent:"end",padding:2,children:(0,u.jsx)(a.XZ,{checked:!f,disabled:p,helperText:"",id:"checkbox-".concat(m),label:"".concat(h._('Checkbox for enabling or disabling ', 'HomefeedControlCard.Checkbox.Recommendations', 'Accesibility label for enabling or disabling a pin recomendations')," ").concat(b),labelDisplay:"hidden",onChange:d})})})]})},t_=n(717574),tb=n(472934);function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tg=function(e){var t,n,r=e.pinId,o=e.enabledDSALaunch,i=(0,c.ZP)(),a=(0,tc.Z)(),s=(0,T.S6)()(r),d=(0,t_.K)(),f=d.getPinFeedbackStatus,p=d.setPinFeedbackStatus,m=f({pinId:r}),h=null==s?void 0:s.is_blocked,y=o&&(null==s?void 0:s.is_disabled_by_dsa)||!1,_=function(e){if(Array.isArray(e))return e}(t=(0,l.useState)((void 0===m?h:"hidden"===m)||y))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tv(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tv(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=_[0],v=_[1];if(!s)return null;var g=s.is_promoted,w=s.is_downstream_promotion,x=s.images,P=s.image_signature,j=null==x?void 0:x["170x"];return(0,u.jsx)(ty,{altText:s.alt_text||s.title||s.description||"",disabledText:i._('Recommendations are turned off for this Pin', ' - ', ' -- '),imageHeight:null==j?void 0:j.height,imageUrl:null!=(n=null==j?void 0:j.url)?n:"",imageWidth:null==j?void 0:j.width,isDisabled:b||y,isDisabledByDSA:y,onChange:function(){(0,tb.Z)({resourceOptions:{pin_id:r,complaint_reason:0,feedback_type:4,promoted:g&&!w,recommendation_reason_id:4,through_id:r,undo:b},updatePinFeedbackStatus:function(e){return p({pinId:r,pinFeedbackStatus:e})}}),b&&p({pinId:r,pinFeedbackStatus:""}),a({event_type:b?107:106,view_type:255,view_parameter:3290,object_id_str:r,element:11352,aux_data:{pin_id:r,image_signature:P}}),v(!b)},pinId:r})},tw=n(866523),tx=n(1854),tP=n(786072);function tj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,l,a=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tS(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tS(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tO={ACTIVITY:0,TOPICS:1,BOARDS:2,PROFILES:3},tA=function(e){return(0,u.jsx)(a.xu,{paddingX:4,paddingY:4,children:(0,u.jsx)(a.X6,{align:"center",color:"subtle",size:"400",children:e})})},tT=function(){var e=(0,c.ZP)(),t=(0,r.k6)(),n=(0,P.v)().logContextEvent;return(0,u.jsx)(a.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"start",marginBottom:3,maxWidth:750,width:"100%",children:(0,u.jsx)(a.XA,{message:(0,u.jsx)(a.xv,{children:(0,u.jsxs)(a.xu,{children:[(0,u.jsx)(a.xv,{children:e._('Add more personalization', 'HomefeedControlPage.Activity.upsellTitle', 'Message for activity recomendations upsell tab in homefeed')}),(0,u.jsx)(a.xu,{children:(0,u.jsx)(a.xv,{underline:!1,weight:"bold",children:(0,h.nk)(e._('Turn on inferred signals about you for ideas even more in tune with your interests. {{ learnMore }}', 'HomefeedControl.Activity.upsellMessage', 'Message for activity recomendations upsell tab in homefeed, learnMore: link to learn more'),{learnMore:(0,u.jsx)(a.rU,{accessibilityLabel:"Learn more",display:"inline",href:j.fPu,target:"blank",underline:"none",children:e._('Learn more', 'HomefeedControl.Activity.searchPrivacyLink', 'Link to privacy and data settings')})})})})]})}),primaryAction:{accessibilityLabel:"Update settings",label:e._('Update setting', 'HomefeedControlPage.Activity.updateSettingButton', 'Text on go to settings button'),onClick:function(){n({event_type:101,element:13581,view_type:255}),t.push(j.Gxc)}},title:""})})},tC=function(e){var t=e.enabledDSALaunch,n=e.isDSAOptedOut,r=(0,c.ZP)(),o=(0,eY.Z)({name:"BoardsFeedResource",options:{username:"me",sort:"last_pinned_to",field_set_key:"profile_grid_item"},noCache:t}),i=o.data,a=o.fetchMore,s=o.isAtEnd,d=o.isFetching;return(0,u.jsxs)(l.Fragment,{children:[t&&n&&(0,u.jsx)(tT,{}),(0,u.jsx)(tx.Z,{emptyState:tA(r._('You don\'t have any boards yet', 'settings.homefeedTuner.boardEmptyState', 'Empty state message when user has no boards')),feedItems:null!=i?i:[],feedKey:"profile-boards:me",maxColumns:1,minColumns:1,pagination:{loadNext:a||function(){},hasNext:!s,isLoadingNext:d||!1,refetch:function(){}},renderFeedItem:function(e){return(0,u.jsx)(td,{boardId:e.id,enabledDSALaunch:t,isDSAOptedOut:n})}})]})},tI=function(e){var t=e.enabledDSALaunch,n=e.isDSAOptedOut,r=(0,c.ZP)(),o=(0,P.v)().logContextEvent,i=(0,l.useRef)(null),s=tj((0,l.useState)(!1),2),d=s[0],f=s[1],p=[{value:"all",label:r._('All', 'HomefeedControlActivity.Filter.All', 'Option to show all pins with recent activity')},{value:"saved",label:r._('Saved', 'HomefeedControlActivity.Filter.Saved', 'Option to show saved pins from recent activity')},{value:"viewed",label:r._('Viewed', 'HomefeedControlActivity.Filter.Viewed', 'Option to show viewed pins from recent activity')}],m=tj((0,l.useState)(p[0]),2),h=m[0],y=m[1],_=function(e,t){o({event_type:101,element:t,view_type:255}),y(e),f(!1)},b=(0,eY.Z)({name:"UserRecentActivityResource",options:{username:"me",filter_type:h.value},noCache:t}),v=b.data,g=b.fetchMore,w=b.isAtEnd,x=b.isFetching;return(0,u.jsxs)(l.Fragment,{children:[t&&(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",maxWidth:750,width:"100%",children:[(0,u.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(a.xu,{tabIndex:0,children:(0,u.jsx)(a.X6,{accessibilityLevel:2,size:"400",children:function(){switch(h.value){case p[1].value:return r._('Saved Pins', 'HomefeedControl.Activity.savedPinsHeader', 'Caption for pins that were saved. timesince: Time when save activity was performed');case p[2].value:return r._('Viewed Pins', 'HomefeedControl.Activity.viewedPinsHeader', 'Caption for pins that were viewed. timesince: Time when view activity was performed');default:return r._('Viewed and saved Pins', 'HomefeedControl.Activity.savedAndViewedPinsHeader', 'Caption for pins that were saved or viewed. timesince: Time when activity was performed')}}()})})}),(0,u.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",padding:2,children:(0,u.jsx)(a.hU,{ref:i,accessibilityControls:"activity-type-filter-button",accessibilityExpanded:d,accessibilityHaspopup:!0,accessibilityLabel:"More Options",icon:"filter",iconColor:"darkGray",onClick:function(){return f(function(e){return!e})},selected:d,size:"xl"})})]}),t&&n&&h.value!==p[1].value&&(0,u.jsx)(tT,{}),(0,u.jsx)(tx.Z,{emptyState:tA(r._('You haven\u2019t been on Pinterest in a while, so you don\u2019t have any recommendations based on your history', 'settings.homefeedTuner.historyEmptyState', 'Empty state message when user has not repinned any Pins')),feedItems:null!=v?v:[],feedKey:"user-recent-activity:".concat(h.value),pagination:{loadNext:g,hasNext:w,isLoadingNext:x,refetch:function(){}},renderFeedItem:function(e){return(0,u.jsx)(tg,{enabledDSALaunch:t,pinId:e.id})}}),(0,u.jsxs)(tl.ZP,{accessibilityModalLabel:"",heading:r._('Filter by', 'settings.homefeedTuner.activityType.filterHeading', 'Heading for activity type filter in activity tab'),isOpen:d,mobileAccessibilityCloseIconLabel:r._('Close context modal for activity filter', 'settings.homefeedTuner.activityType.filterCloseIcon', 'Label for the close button on the activity type filter modal'),onDismiss:function(){return f(!1)},type:"contextual_menu",children:[(0,u.jsx)(a.xu,{padding:3,children:(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(a.Lt.Item,{onSelect:function(e){_(e.item,13578)},option:p[0],selected:h},"all_key"),(0,u.jsx)(a.Lt.Item,{onSelect:function(e){_(e.item,13579)},option:p[1],selected:h},"saved_key"),(0,u.jsx)(a.Lt.Item,{onSelect:function(e){_(e.item,13580)},option:p[2],selected:h},"viewed_key")]})}),(0,u.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,marginTop:6,children:(0,u.jsx)(a.zx,{color:"gray",onClick:function(){return f(!1)},size:"lg",text:"Close"})})]})]})},tk=function(){var e=(0,c.ZP)(),t=(0,eY.Z)({name:"InterestFollowingResource",options:{username:"me"}}),n=t.data,r=t.fetchMore,o=t.isAtEnd,i=t.isFetching;return(0,u.jsx)(tx.Z,{emptyState:tA(e._('You haven\u2019t added any topics to your home feed', 'settings.homefeedTuner.topicsEmptyState', 'Empty state message when user is not following any topics')),feedItems:null!=n?n:[],feedKey:"topic-following:me",pagination:{loadNext:r,hasNext:o,isLoadingNext:i,refetch:function(){}},renderFeedItem:function(e){return(0,u.jsx)(a.xu,{paddingX:1,paddingY:2,children:(0,u.jsx)(tP.Z,{id:e.id,isHomefeedTuner:!0,showFollowButton:!0,viewParameter:3293,viewType:255})})}})},tz=function(){var e=(0,c.ZP)(),t=(0,eY.Z)({name:"UserFollowingResource",options:{username:"me",exclude_not_explictly_followed:!0}}),n=t.data,r=t.fetchMore,o=t.isAtEnd,i=t.isFetching;return(0,u.jsx)(tx.Z,{emptyState:tA(e._('You aren\'t following anyone', 'settings.homefeedTuner.profilesEmptyState', 'Empty state message when user is not following any users')),feedItems:null!=n?n:[],feedKey:"user-following:me",maxColumns:1,minColumns:1,pagination:{loadNext:r,hasNext:o,isLoadingNext:i,refetch:function(){}},renderFeedItem:function(e){return(0,u.jsx)(a.xu,{paddingX:1,paddingY:3,children:(0,u.jsx)(th,{userId:e.id,viewParameter:3555,viewType:255})})}})},tE=function(e,t,n){var r=11348;e===tO.ACTIVITY?r=11349:e===tO.BOARDS?r=11350:e===tO.PROFILES&&(r=12271),n({event_type:101,view_type:255,view_parameter:t,element:r})},tF=function(){var e=(0,r.$B)(),t=(0,c.ZP)(),n=(0,P.v)().logContextEvent,o=(0,(0,eV.F)().checkExperiment)("uup_dsa_launch_mweb").anyEnabled,i=(0,eY.Z)({name:"UserSettingsResource",noCache:!0}).data,s=e.params.page,d={viewParameter:3290,selectedTabIndex:tO.ACTIVITY,component:(0,u.jsx)(tI,{enabledDSALaunch:o,isDSAOptedOut:null==i?void 0:i.dsa_opted_out}),title:t._('Activity', 'homefeedControlPage.tabs.activity', 'Menu item for controlling recent pin activity options'),description:t._('Hide ideas related to Pins you recently saved or tapped to view close-up.', 'homefeedControlPage.activity.descriptionMessage', 'Description message for activity tab in homefeed tuner')},f={viewParameter:3291,selectedTabIndex:tO.BOARDS,component:(0,u.jsx)(tC,{enabledDSALaunch:o,isDSAOptedOut:null==i?void 0:i.dsa_opted_out}),title:t._('Boards', 'homefeedControlPage.tabs.boards', 'Menu item for controlling board options'),description:t._('Switch off a board to stop seeing ideas related to it. Don\'t worry, this won\'t affect your board.', 'homefeedControlPage.boards.descriptionMessage', 'Description message for boards tab in homefeed tuner')},p={activity:d,interests:{viewParameter:3293,selectedTabIndex:tO.TOPICS,component:(0,u.jsx)(tk,{}),title:t._('Interests', 'homefeedControlPage.tabs.interests', 'Menu item for controlling followed interests'),description:t._('Hide ideas related to topics you\u2019re no longer interested in.', 'homefeedControlPage.interests.descriptionMessage', 'Description message for interests tab in homefeed tuner')},following:{viewParameter:3555,selectedTabIndex:tO.PROFILES,component:(0,u.jsx)(tz,{}),title:t._('Following', 'homefeedControlPage.tabs.following', 'Menu item for controlling following options'),description:t._('Unfollow a person or brand to stop seeing their published Pins. They won\u2019t be notified.', 'homefeedControlPage.following.descriptionMessage', 'Description message for following tab in homefeed tuner')},boards:f},m=Array(p.length);for(var y in p){var _=p[y];m[_.selectedTabIndex]={text:_.title,href:"/edit/".concat(y)}}var b=p[s&&s in p?s:Object.keys(p)[0]],v=b.viewParameter,g=b.selectedTabIndex,w=b.component,x=b.description,j=t._('Tune your home feed', 'settings.homefeedTuner.title', 'Title for homefeed control');return(0,tn.Q)({view_type:255,view_parameter:v}),(0,u.jsxs)(ts.default,{hasFixedHeader:!0,children:[(0,u.jsxs)(ta.default,{children:[(0,u.jsx)(tw.default,{heading:j,legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0,viewParameter:v,viewType:252}),(0,u.jsx)(a.xu,{marginTop:-2,padding:3,children:(0,u.jsx)(a.xv,{align:"center",children:(0,u.jsx)(l.Fragment,{children:(0,h.XB)({text:t._('Make your Pinterest more <em id="1">you</em>. Edit the details Pinterest uses to recommend ideas to you. These details won\u2019t be shown publicly.', 'homefeedControl.instructions', 'instructions message on turning off recommendations from activity, interests, boards and following'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,u.jsx)(a.xv,{inline:!0,italic:!0,children:t})}}})})})}),(0,u.jsx)(a.xu,{marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,u.jsx)(a.mQ,{activeTabIndex:g,onChange:function(e){return tE(e.activeTabIndex,v,n)},tabs:m})}),x&&(0,u.jsx)(a.xu,{alignItems:"center","data-test-id":"homefeed-tab-description",display:"flex",justifyContent:"center",margin:"auto",marginBottom:3,maxWidth:310,children:(0,u.jsx)(a.xv,{align:"center",color:"subtle",size:"300",children:x})})]}),(0,u.jsx)(tr.Z,{name:"SafeSuspense_HomefeedControlPage_HomefeedControlPageComponent",children:(0,u.jsx)(to.Z,{children:w})})]})};function tD(){var e=(0,o.HG)();return(0,i.Z)().isAuth?e?(0,u.jsx)(ti,{}):(0,u.jsx)(tF,{}):(0,u.jsx)(r.l_,{to:"/"})}},65157:function(e,t,n){n.d(t,{V:function(){return c},u:function(){return s}});var r=n(578373),o=n(488267);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,l;r=e,o=t,l=n[t],(o=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e){return function(t){return r.Z.create("BoardResource",{board_id:e}).callGet().then(function(e){var n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,o.yT)(n)),e})}};function c(e,t,n){return function(i,l){var s=l().boards[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},u=a(a(a({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description},t.name&&{name:t.name}),{},{privacy:t.privacy,sensitivity:t.sensitivity||null},n?{orbac_subject_id:n}:Object.freeze({})),c);return i((0,o.yT)(a(a({},u),{},{id:e}))),r.Z.create("BoardResource",a(a({},u),{},{board_id:e})).callUpdate().then(function(e){var n=e&&e.resource_response&&e.resource_response.data||t;return null!=t.allow_homefeed_recommendations&&(n.allow_homefeed_recommendations=t.allow_homefeed_recommendations),i((0,o.yT)(n)),e}).catch(function(e){throw s&&i((0,o.yT)(s)),e})}}},62861:function(e,t,n){function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e){return{type:"PIN_SAVE",payload:e}}function l(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function a(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function f(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function m(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}n.d(t,{Gb:function(){return l},I1:function(){return s},Ib:function(){return u},JU:function(){return m},Ur:function(){return i},Vw:function(){return a},au:function(){return h},b9:function(){return f},i0:function(){return d},mO:function(){return o},q1:function(){return c},yR:function(){return r},yj:function(){return p}})},647137:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(132227),o=n(231333),i=n(233846),l=n(113474),a=n(538645),s=n(19035);function c(e){var t=e.ideaPinImages,n=t.map(function(e,t){var n,o;return(0,s.jsx)(r.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(null==e?void 0:e.url)&&(0,s.jsx)(r.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!=(n=null==e?void 0:e.height)?n:1,naturalWidth:null!=(o=null==e?void 0:e.width)?o:1,src:e.url})},t)});return(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[t.length],children:n})})}function u(e){var t=e.handleHide,n=e.text,u=e.userId,d=e.href,f=e.imageUrl,p=(0,i.ZP)(),m=(0,a.HG)(),h=(0,l.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:u}}),y=Array.isArray(n)?n.join(" "):n;if(0===(h.data||[]).length)return(0,s.jsx)(o.Z,{duration:5e3,href:d,onHide:t,text:y,thumbnail:f?{image:(0,s.jsx)(r.Ee,{alt:p._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:f})}:void 0});var _=(h.data||[]).slice(0,3).map(function(e){var t;return null==(t=e.images)?void 0:t[m?"236x":"170x"]}),b=(0,s.jsx)(c,{ideaPinImages:_});return(0,s.jsx)(o.Z,{_dangerouslySetThumbnail:b,duration:5e3,href:d,onHide:t,text:y})}},786072:function(e,t,n){n.d(t,{Z:function(){return k}});var r,o,i=n(545007),l=n(53583),a=n(132227),s=n(219308),c=n(174646),u=n(833741),d=n(646292),f=n(233846),p=n(650376),m=n(688079),h=n(19035);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _=["topicRef"],b=["topic","topicBlob","topicInfoForContextualExp"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var x=function(e){var t=e.backgroundColor,n=e.decreaseNamePadding,r=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,l=e.locale,s=e.nameTextSize,c=e.renderAsPill,u=e.showFollowerCount,d=e.topicName,y=e.followerCount,_=e.image,b=(0,f.ZP)(),v=(0,p.Z)(),g=(0,h.jsx)(a.JO,{accessibilityLabel:b._('Selected', ' - ', ' -- '),color:"light",icon:o?"check":"check-circle",size:o?12:24});return c?(0,h.jsx)(m.Z,{color:t||"#767676",image:_,isSelected:null!=i&&i,title:d}):(0,h.jsxs)(a.xu,{"aria-selected":i,position:"relative",children:[(0,h.jsx)(a.zd,{rounding:o||r?4:2,children:(0,h.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,h.jsx)(a.xu,{bottom:!0,left:!0,padding:o&&i?1:0,position:"absolute",right:!0,rounding:o&&i?4:0,top:!0,children:_.url&&(0,h.jsx)(a.Ee,{alt:d,color:t||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:_.url})}),(0,h.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:o&&i?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:o?4:void 0,top:!0}),o&&i&&(0,h.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),r?(0,h.jsx)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(a.xv,{align:"center",color:"light",size:s,weight:"bold",children:d})}):(0,h.jsxs)(a.xu,{bottom:!0,left:!0,padding:n?1:2,position:"absolute",right:!0,children:[(0,h.jsx)(a.xv,{color:"light",size:s,weight:"bold",children:d}),u&&y>=0&&(0,h.jsx)(a.xu,{paddingY:1,children:(0,h.jsxs)(a.xv,{color:"inverse",size:"100",children:[(0,h.jsx)(a.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:v(l,y,{shortform:!0,shortform_maximum_fraction_digits:1})}),b._('followers', ' - ', ' -- ')]})})]}),i&&(0,h.jsx)(a.xu,{margin:2,position:"absolute",right:!0,top:!0,children:o?(0,h.jsx)(a.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:g}):g})]})},P=void 0!==r?r:r=n(860348),j=function(e){var t,n,r,o,i,a,s=e.topicRef,c=w(e,_),u=(0,l.useFragment)(P,s),d=u.images?{url:null!=(t=u.images.url)?t:"",width:null!=(n=u.images.width)?n:0,height:null!=(r=u.images.height)?r:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,h.jsx)(x,g({backgroundColor:null!=(o=u.background_color)?o:"",followerCount:null!=(i=u.follower_count)?i:0,image:d,topicName:null!=(a=u.name)?a:""},c))},S=function(e){var t,n,r,o,i=e.topic,l=e.topicBlob,a=e.topicInfoForContextualExp,s=w(e,b),c=a||i||l,u=(null==c||null==(t=c.images)?void 0:t["236x"])||(null==c||null==(n=c.images)?void 0:n["400x"])||(null==c||null==(r=c.images)?void 0:r["474x"])||(null==c||null==(o=c.images)?void 0:o.orig)||{height:1,url:"",width:1},d=c&&"follower_count"in c&&void 0!==c.follower_count?c.follower_count:-1;return(0,h.jsx)(x,g({backgroundColor:(null==c?void 0:c.background_color)||"",followerCount:d,image:u,topicName:(null==c?void 0:c.name)||""},s))},O=["decreaseNamePadding","isHomefeedTuner","isLego","isSelected","nameTextSize","onTouch","padding","renderAsPill","showFollowButton","showFollowerCount","shouldClickthrough","viewParameter","viewType"],A=function(e){var t=e.decreaseNamePadding,n=void 0!==t&&t,r=e.isHomefeedTuner,o=e.isLego,l=e.isSelected,f=void 0!==l&&l,p=e.nameTextSize,m=void 0===p?"lg":p,y=e.onTouch,_=e.padding,b=e.renderAsPill,v=e.showFollowButton,g=e.showFollowerCount,w=void 0!==g&&g,x=e.shouldClickthrough,P=e.topic,O=e.viewParameter,A=e.viewType,T=(0,i.I0)(),C=(0,s.Z)(),I=(0,c.B)().locale,k=(0,h.jsxs)(a.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==P.type?(0,h.jsx)(S,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:f,locale:I,nameTextSize:m,renderAsPill:b,showFollowerCount:w,topic:P.topic,topicBlob:P.topicBlob,topicInfoForContextualExp:P.topicInfoForContextualExp}):(0,h.jsx)(j,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:f,locale:I,nameTextSize:m,renderAsPill:b,showFollowerCount:w,topicRef:P.topicRef}),!!P&&void 0!==v&&v&&(0,h.jsx)(a.xu,{paddingY:2,children:(0,h.jsx)(u.Z,{followEventType:601,id:P.id,inline:r,invertColors:r,isFollowed:P.is_followed,onFollow:function(e){return T((0,d.ZN)(e,C))},onUnfollow:function(e){return T((0,d.fv)(e,C))},pinKey:null,size:"md",textType:r?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:O||void 0,viewType:A||void 0})})]}),z="/";return P&&(z="/topics/".concat(P.id)),void 0!==x&&x&&P.slug?(0,h.jsx)(a.Tg,{href:z,onTap:function(e){var t=e.event;null==y||y(t)},rounding:2,tapStyle:"compress",children:(0,h.jsx)(a.xu,{padding:void 0===_?2:_,children:k})}):k},T=void 0!==o?o:o=n(453538),C=function(e){var t,n,r=e.topicRef,o=e.decreaseNamePadding,i=e.isHomefeedTuner,a=e.isLego,s=e.isSelected,c=e.nameTextSize,u=e.onTouch,d=e.padding,f=e.renderAsPill,p=e.showFollowButton,m=e.showFollowerCount,y=e.shouldClickthrough,_=e.viewParameter,b=e.viewType,v=(0,l.useFragment)(T,r);return(0,h.jsx)(A,{decreaseNamePadding:void 0!==o&&o,isHomefeedTuner:i,isLego:a,isSelected:void 0!==s&&s,nameTextSize:void 0===c?"lg":c,onTouch:u,padding:void 0===d?2:d,renderAsPill:f,shouldClickthrough:void 0!==y&&y,showFollowButton:void 0!==p&&p,showFollowerCount:void 0!==m&&m,topic:{id:null!=(t=v.entityId)?t:"",type:"graphql",is_followed:null!=(n=v.is_followed)&&n,topicRef:v},viewParameter:_,viewType:b})},I=function(e){var t=e.id,n=e.topic,r=e.topicBlob,o=e.topicInfoForContextualExp,l=e.decreaseNamePadding,a=e.isHomefeedTuner,s=e.isLego,c=e.isSelected,u=e.nameTextSize,d=e.onTouch,f=e.padding,p=e.renderAsPill,m=e.showFollowButton,y=e.showFollowerCount,_=e.shouldClickthrough,b=e.viewParameter,v=e.viewType,g=(0,i.v9)(function(e){return e.topics[t]}),w=null!=n?n:g;return(0,h.jsx)(A,{decreaseNamePadding:void 0!==l&&l,isHomefeedTuner:a,isLego:s,isSelected:void 0!==c&&c,nameTextSize:void 0===u?"lg":u,onTouch:d,padding:void 0===f?2:f,renderAsPill:p,shouldClickthrough:void 0!==_&&_,showFollowButton:void 0!==m&&m,showFollowerCount:void 0!==y&&y,topic:{id:t,is_followed:!!(null!=w&&w.is_followed),topic:w,topicBlob:r,topicInfoForContextualExp:o,type:"resource"},viewParameter:b,viewType:v})},k=function(e){var t=e.decreaseNamePadding,n=void 0!==t&&t,r=e.isHomefeedTuner,o=e.isLego,i=e.isSelected,l=void 0!==i&&i,a=e.nameTextSize,s=void 0===a?"lg":a,c=e.onTouch,u=e.padding,d=void 0===u?2:u,f=e.renderAsPill,p=e.showFollowButton,m=void 0!==p&&p,y=e.showFollowerCount,_=void 0!==y&&y,b=e.shouldClickthrough,v=void 0!==b&&b,g=e.viewParameter,w=e.viewType,x=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,O);return x.topicRef?(0,h.jsx)(C,{decreaseNamePadding:n,isHomefeedTuner:r,isLego:o,isSelected:l,nameTextSize:s,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:v,showFollowButton:m,showFollowerCount:_,topicRef:x.topicRef,viewParameter:g,viewType:w}):(0,h.jsx)(I,{decreaseNamePadding:n,id:x.id,isHomefeedTuner:r,isLego:o,isSelected:l,nameTextSize:s,onTouch:c,padding:d,renderAsPill:f,shouldClickthrough:v,showFollowButton:m,showFollowerCount:_,topic:x.topic,topicBlob:x.topicBlob,topicInfoForContextualExp:x.topicInfoForContextualExp,viewParameter:g,viewType:w})}},540826:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}},440314:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}},850681:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(540826);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/29322-ab547557584eaa72.js.map