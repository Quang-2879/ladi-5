"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[26038],{971518:function(e,t,n){n.d(t,{qE:function(){return s},u_:function(){return a.ZP},FN:function(){return l.Z}});var o=n(132227),r=n(19035);function i(e){var t=e.accessibilityLabel,n=e.color,i=e.name,s=e.outline,a=e.size,l=e.src,c=e.verified;return(0,r.jsx)(o.qE,{accessibilityLabel:t,color:n,name:i,outline:s,size:a,src:(null==l?void 0:l.includes("images/user/default"))&&i?void 0:l,verified:c})}i.displayName="Avatar";var s=i,a=n(852015),l=n(231333)},900957:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z3:function(){return g},LU:function(){return b},ZP:function(){return _}});function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}var s,a=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,l={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},c={},u={background:"#FF8A8A",transform:"scale(.98)"},d=(r(s={init:function(e){return{transform:"scale(".concat(c[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},l.enter,{background:"#A0DCC8",transform:"scale(.99)"}),r(s,l.exit,u),r(s,l.stopped,u),r(s,l.paused,u),r(s,l.resumed,{background:"#0FA573",transform:"scale(.99)"}),s),h=function(){var e;function t(e){var n=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");r(this,"setMutationObserver",function(e){return n.mutationObserver=e,n}),r(this,"startMutationObserver",function(e){n.mutationObserver&&n.mutationObserver.observe(n.node,e)}),r(this,"stopMutationObserver",function(){n.mutationObserver&&n.mutationObserver.disconnect()}),r(this,"handleIntersectionChange",function(e){var t=e.intersectionRatio>0||e.isIntersecting,o=Date.now();e.intersectionRatio>0&&!n.visibleEvents.has(1)&&n.visibleEvents.set(1,o),e.intersectionRatio>.5?n.visibleEvents.has(50)||n.visibleEvents.set(50,o):n.visibleEvents.has(50)&&!n.hiddenEvents.has(50)&&n.hiddenEvents.set(50,o),e.intersectionRatio>.8?n.visibleEvents.has(80)||n.visibleEvents.set(80,o):n.visibleEvents.has(80)&&!n.hiddenEvents.has(80)&&n.hiddenEvents.set(80,o),1!==e.intersectionRatio||n.visibleEvents.has(2)||n.visibleEvents.set(2,o),e.boundingClientRect.top<=143&&n.visibleEvents.has(1)&&!n.hiddenEvents.has(1)&&n.hiddenEvents.set(1,o),e.boundingClientRect.bottom<=143&&n.visibleEvents.has(2)&&!n.hiddenEvents.has(2)&&n.hiddenEvents.set(2,o),t&&!n.inViewport?(n.startTime=o,n.pinCellWidth=n.node.offsetWidth,n.pinCellHeight=n.node.offsetHeight,n._debug(l.enter,{startTime:o,node:n.node}),n.enterCallbacks.forEach(function(e){return e()})):!t&&n.inViewport&&(n._debug(l.exit,!0),n.exitCallbacks.forEach(function(e){return e(n.toJSON())})),n.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.visibleEvents=new Map,this.hiddenEvents=new Map,this.pinCellWidth=0,this.pinCellHeight=0}return e=[{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,a&&Object.assign(this.node.style,d.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this.hiddenEvents.set(102,Date.now()),this._debug(l.paused,!0),this.exitCallbacks.forEach(function(t){return t(e.toJSON())})),this}},{key:"resume",value:function(){if(this.inViewport){var e=Date.now();this._debug(l.resumed,{startTime:e}),this.startTime=e,this.visibleEvents.set(102,e)}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(l.stopped,!0),this.exitCallbacks.forEach(function(n){return n(t.toJSON(e))})),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,hiddenEvents:this.hiddenEvents,visibleEvents:this.visibleEvents,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds"),pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}},{key:"_debug",value:function(e,t){if(a)switch(window.console.log("\uD83D\uDCCC ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===o(t)&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case l.flushed:case l.paused:case l.exit:c[this.debugId]=!0}}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=p(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var g=!0,b=!1,_=function(){var e;function t(){var e=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");m(this,"_delegateChange",function(t){t.forEach(function(t){var n=e.activeImpressions.get(t.target);n&&n.handleIntersectionChange(t)})}),m(this,"_handleMutations",function(t,n){var o=e.mutationObservers.get(n);o&&o.offsetHeight<1&&o&&e.stop(o,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=b,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}return e=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.activeImpressions.get(e);r&&(r.stop(o),r.mutationObserver&&this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),null==(t=window.activeImpressions)||t.delete(e),null==(n=this.observer)||n.unobserve(e))}},{key:"start",value:function(e){var t,n,o=this,r=this.activeImpressions.get(e);return r||(r=new h(e),this.activeImpressions.set(e,r),null==(t=window.activeImpressions)||t.set(e,r),null==(n=this.observer)||n.observe(e),r.setMutationObserver(new window.MutationObserver(function(e,t){return o._handleMutations(e,t)})),r.mutationObserver&&this.mutationObservers.set(r.mutationObserver,e),r.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),r}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;this.paused||(Array.from(this.activeImpressions.values()).forEach(function(e){return e.pause()}),this.paused=!0,this.pausePriority===b&&(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;(e!==b||this.pausePriority!==g)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(function(e){return e.resume()}),this.paused=!1,this.pausePriority=b)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce(function(e,t){var n=t.getBoundingClientRect().bottom;return n>e?n:e},0),n=window.innerHeight-Array.from(this.bottomObstructions).reduce(function(e,t){var n=t.getBoundingClientRect().top;return n<e?n:e},window.innerHeight);if(t!==this.topHeight||n!==this.bottomHeight){var o,r={rootMargin:"".concat(-t,"px 0px ").concat(-n,"px"),threshold:[0,.5,.8,1]};null==(o=this.observer)||o.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,r),Array.from(this.activeImpressions.values()).forEach(function(t){var n;return null==(n=e.observer)?void 0:n.observe(t.node)}),this.topHeight=t,this.bottomHeight=n}}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,f(o.key),o)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()},94970:function(e,t,n){t.Z=new(n(900957)).ZP},694602:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(379466),r=n(857147);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!(t&&t.search))return"";var i=(0,r.mB)(t.search).message,s=(0,r.mB)(t.search).username||n,a="true"===(0,r.mB)(t.search).multiple_accounts;return(0,o.Z)({i18n:e,message:i,multipleAccounts:a,username:s})}},379466:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(132227),r=n(51340),i=n(578415),s=n(19035);function a(e,t,n){return(0,s.jsx)(o.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,s.jsx)(o.xv,{inline:!0,weight:"bold",children:t})})})}function l(e){var t=e.i18n,n=e.message,o=e.multipleAccounts,r=e.username,s=void 0===r?"":r;switch(n){case i.R:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case i.j2:if(o)return a(t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'),s);return a(t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),s);case i.Di:return a(o?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),s);case i.aU:return a(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),s,"start");case i.pN:return a(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),s,"start");default:return""}}},839284:function(e,t,n){var o=n(258712),r=function(){return function(){}},i=function(){return!1},s=function(){return!0};t.Z=function(){return(0,o.useSyncExternalStore)(r,i,s)}},20561:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(132227),r=n(19035);function i(e){var t=e.children,n=e.onMouseEnter,i=e.onMouseLeave,s=e.onTouch,a=e.rounding,l=e.fullWidth,c=e.pressState,u=void 0===c?"none":c,d=e.accessibilityLabel,h=e.role,p=e.dataTestId,m=(Array.isArray(u)?u:[u]).includes("compress");return(0,r.jsx)(o.iP,{accessibilityLabel:d,dataTestId:p,fullWidth:void 0!==l&&l,onMouseEnter:n&&function(e){return n(e.event)},onMouseLeave:i&&function(e){return i(e.event)},onTap:s&&function(e){return s(e.event)},role:h,rounding:a,tapStyle:m?"compress":"none",children:t})}},903683:function(e,t,n){n.d(t,{AF:function(){return l},H0:function(){return c},S6:function(){return u},_S:function(){return d}});var o=n(545007),r=n(218291),i=n(19035),s=(0,r.Z)("Pins"),a=s.Provider,l=s.useHook,c=s.useMaybeHook;function u(){var e=l();return function(t){return e[t]}}function d(e){var t=e.children,n=(0,o.v9)(function(e){return e.pins},o.wU);return(0,i.jsx)(a,{value:n,children:t})}},945011:function(e,t,n){n.d(t,{Tt:function(){return h},cm:function(){return d},kW:function(){return c},kY:function(){return p},mN:function(){return u}});var o=n(545007),r=n(218291),i=n(882368),s=n(19035),a=(0,r.Z)("Users"),l=a.Provider,c=a.useHook;function u(){var e=c();return function(t){return e[t]}}function d(){var e=c();return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=Object.keys(e).find(function(n){return e[n].username===t});if(o||!n)return e[null!=o?o:""]}}function h(){var e=(0,i.Z)();return c()[e.isAuth?e.id:""]}function p(e){var t=e.children,n=(0,o.v9)(function(e){return e.users},o.wU);return(0,s.jsx)(l,{value:n,children:t})}},245461:function(e,t,n){function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,{B:function(){return u},Z:function(){return c}});var r="gmail.com",i="yahoo.com",s="hotmail.com",a="icloud.com",l={AR:[r,s,"yahoo.com.ar"],AU:[r,s,"bigpond.com"],BR:[r,s,"yahoo.com.br"],CA:[r,s,i],DE:[r,"web.de","gmx.de"],ES:[r,s,"hotmail.es"],FR:[r,"hotmail.fr","orange.fr"],GB:[r,"hotmail.co.uk","hotmail.com"],IN:[r,i,"rediffmail.com"],IT:[r,"libero.it","hotmail.it"],JP:[r,"yahoo.co.jp","ezweb.ne.jp"],MX:[r,s,"outlook.com"],US:[r,s,i],KR:[r,"naver.com","hanmail.net","nate.com","daum.net"],ID:[r,i,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[r,i,"yahoo.com.ph",a,"ymail.com"],TH:[r,s,"hotmail.co.th",i,a],VN:[r,i,"yahoo.com.vn",a,s],DEFAULT:[r,s,i]};function c(e){return e&&e.toUpperCase()in l?l[e.toUpperCase()]:l.DEFAULT}function u(e){var t,n=function(e){if(Array.isArray(e))return e}(t=e.split("@"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,s,a=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(o=i.call(n)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0],i=n[1],s="",a=r.length;return s=a>3?r.substring(0,3)+r.substring(3,a).replace(/\w/g,"*"):r.replace(/\w/g,"*"),"".concat(s,"@").concat(i)}},464389:function(e,t,n){function o(e){return!!(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:function(){return s},V0:function(){return o},Wn:function(){return i},xT:function(){return r}});var r=function(e){return!!e&&2===e.login_state},i=function(e){return!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/))};function s(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},641289:function(e,t,n){n.d(t,{Z:function(){return p}});var o=n(132227),r=n(174646),i=n(839284),s=n(20561),a=n(245461),l=n(19035);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var o,r,i;o=e,r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=c(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={border:"1px solid rgb(181, 181, 181)",zIndex:1};function p(e){var t=e.email,n=e.emailFieldElement,c=e.handleEmailSuggestionClick,u=e.showUsername,p=(0,r.B)().country,m=(0,a.Z)(p),f=function(e){if((0,i.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};var t=e.getBoundingClientRect();return{width:t.width,top:t.y+t.height}}(n),g=f.width,b=f.top;return(0,l.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:d(d({},h),{},{top:b})},direction:"column",display:"flex",position:"absolute",width:g,children:m.map(function(e){var n=u?t.concat(e):e;return(0,l.jsx)(o.xu,{children:(0,l.jsx)("div",{onMouseDown:function(){c(t.concat(e))},role:"button",tabIndex:0,children:(0,l.jsx)(s.Z,{pressState:"none",children:(0,l.jsx)(o.xu,{paddingX:3,paddingY:2,children:(0,l.jsx)(o.xv,{children:n})})})})},n)})})}},800593:function(e,t,n){n.d(t,{Z:function(){return eC}});var o=n(258712),r=n(545007),i=n(284987),s=n(132227),a=n(547504),l=n(219308),c=n(182997),u=n(338418),d=n(197748),h=n(397657),p=n(971518),m=n(231333),f=n(233846),g=n(51340),b=n(578415),_=n(694602),v=n(693806),y=n(243694),w=n(964273),x=n(20992),P=n(967312),S=n(289257),j=n(174646),E=n(943369),O=n(112800),k=n(358549),A=n(339908),C=n(857147),T=n(839284),L=n(331935),z=n(352437),F=n(464389),I=n(674573),B=n(326528),U=n(970601),R=n(677316),D=n(538645),M=n(641289),Z=n(19035);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y=function(){return!!e})()}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,n){return(t=X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=V(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}var K=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&N(i,e);var t,n,r=(t=Y(),function(){var e,n=J(i);return e=t?Reflect.construct(n,arguments,J(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==V(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return G(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return q(G(e=r.call.apply(r,[this].concat(n))),"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1}),q(G(e),"handleChangeEmail",function(t){var n=t.value,o=e.props.handleChangeEmail;if(e.state.shouldShowEmailSuggestion)e.setState({shouldShowEmailSuggestion:!1});else if(n.endsWith("@")){var r=e.emailInputRef;e.setState({shouldShowEmailSuggestion:!0,emailFieldElement:r})}o&&o({value:n})}),q(G(e),"handlePasswordFocus",function(){(0,O.NC)("focus_password")}),q(G(e),"handleEmailSuggestionClick",function(t){var n=e.props.trackInteraction;n&&n({action:"click",item:"email-suggestions",within:"login-page"}),e.setState({shouldShowEmailSuggestion:!1}),e.handleChangeEmail({value:t})}),q(G(e),"passwordReset",function(t){(0,O.NC)("click_forget_password"),e.props.handlePasswordReset&&e.props.handlePasswordReset(t)}),q(G(e),"handleLoginClick",function(){(0,O.EX)({event:"start",provider:"email"}),(0,O.NC)("press_login_continue"),e.props.onLoginClick&&e.props.onLoginClick()}),q(G(e),"handleSignupClick",function(){var t=e.props.onSignUpClick;t&&t()}),e}return n=[{key:"componentDidMount",value:function(){this.handleChangeEmail({value:this.props.email})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.email,i=n.handleChangePassword,a=n.hideEmailField,l=n.hideLoginBtn,c=n.hidePasswordField,u=n.i18n,d=n.passwordValidationError,h=n.emailValidationError,p=n.emailLoginOnlyForRecoverAccount,m=n.validateEmailOnBlur,f=n.validatePasswordOnBlur,g=n.isSIWAError,b=n.isValid,_=n.isSsoFlow,v=n.onSubmit,y=n.password,w=n.requestContext,x=n.shouldShowSignUpButton,P=n.showEmailAsText,S=n.onForgetPasswordForFacebookRecover,j=this.state,E=j.emailFieldElement,O=j.shouldShowEmailSuggestion,k=g&&d,A=u._('Log in', 'Label for log in button', 'Label for log in button'),C=!c;return _&&(A=u._('Continue with SSO', 'login.sso.continue_button.text', 'Label for continue with SSO button'),C=!1),(0,Z.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,Z.jsxs)("form",{autoCapitalize:"none",autoCorrect:"off",onSubmit:v,children:[!a&&P&&(0,Z.jsx)(s.xu,{marginBottom:5,children:(0,Z.jsx)(s.xv,{align:"center",children:r})}),!a&&!P&&(0,Z.jsxs)(o.Fragment,{children:[O?(0,Z.jsx)(M.Z,{email:r,emailFieldElement:E,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,(0,Z.jsx)(s.xu,{marginTop:1,children:(0,Z.jsx)(s.nv,{ref:function(e){t.emailInputRef=e},errorMessage:h,id:"email",onBlur:m,onChange:this.handleChangeEmail,placeholder:u._('Email', 'Prompt for user to enter in email on the mobile web login page', 'Prompt for user to enter in email on the mobile web login page'),size:"lg",type:"email",value:r})})]}),C?(0,Z.jsxs)(s.xu,{children:[(0,Z.jsxs)(s.xu,{marginTop:2,position:"relative",children:[(null==(e=w.userAgent.browserName)?void 0:e.includes("Edge"))&&(0,Z.jsx)(U.Z,{unsafeCSS:I.Kz}),(0,Z.jsx)(s.nv,{autoComplete:"on",errorMessage:d,id:"password",onBlur:f,onChange:i,onFocus:this.handlePasswordFocus,placeholder:u._('Password', 'Prompt for user to enter in password on the mobile web login page', 'Prompt for user to enter in password on the mobile web login page'),size:"lg",type:"password",value:y})]}),p?(0,Z.jsx)(s.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,Z.jsx)(s.iP,{onTap:function(){null==S||S(t.props.email)},children:(0,Z.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:u._('Forgot your password', 'pass_word_reset_page.fb_multi_auth_login.send_forgot_password_email', 'Link for fb multi-auth user to reset their email if they are eligible for email password sign-in')})})}):(0,Z.jsx)(s.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,Z.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:(0,Z.jsx)(s.rU,{display:"inlineBlock",href:"/password/reset",onClick:function(e){var n=e.event;return t.passwordReset(n)},tapStyle:"none",underline:"hover",children:k?u._('Reset your password', 'Heading displayed when email is entered on the password reset page', 'Heading displayed when email is entered on the password reset page'):u._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]}):null,x&&(0,Z.jsx)(s.xu,{marginTop:3,children:(0,Z.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:this.handleSignupClick,text:u._('Sign up with this email', 'Label for sign up button', 'Label for sign up button'),type:"submit"})}),!l&&(0,Z.jsx)(s.xu,{"data-test-id":"log-in-button",marginTop:4,children:(0,Z.jsx)(B.Z,{color:"red",disabled:!b||x,fullWidth:!0,onClick:this.handleLoginClick,size:"md",text:A,type:"submit"},!b||x?"disabled":"enabled")})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,X(o.key),o)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.PureComponent),$=function(e){var t=(0,f.ZP)(),n=(0,D.ml)(),o=(0,R.Z)(),r=(0,l.Z)(),i=(0,j.B)();return(0,Z.jsx)(K,W(W({},e),{},{i18n:t,isPhoneDevice:n,logContextEvent:r,requestContext:i,trackInteraction:o}))},Q=n(852015),ee=n(787052);function et(e){var t=e.onDismiss,n=(0,f.ZP)();(0,o.useEffect)(function(){(0,O.My)("unauth.mweb.login_assistance_google_modal.view")},[]);var r=n._('Having trouble logging in?', 'mweb.accountRecovery.loginAssistance.googleModal.heading', 'Modal heading for users who failed to login through password and are connected through Google');return(0,Z.jsxs)(Q.ZP,{accessibilityModalLabel:r,heading:(0,Z.jsxs)(s.xu,{children:[(0,Z.jsx)(s.xu,{left:!0,marginStart:6,marginTop:-10,position:"absolute",children:(0,Z.jsx)(s.hU,{accessibilityLabel:n._('Dismiss modal button', 'dismiss button accessibilityLabel', 'accessibilityLabel.dismiss.link_modal'),bgColor:"transparent",icon:"cancel",onClick:function(){t()},size:"sm"})}),(0,Z.jsx)(s.xu,{display:"flex",justifyContent:"center",marginBottom:4,marginTop:10,children:(0,Z.jsx)(s.JO,{accessibilityLabel:n._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",icon:"pinterest",size:32})}),(0,Z.jsx)(s.X6,{accessibilityLevel:1,align:"center",size:"400",children:r})]}),isOpen:!0,onDismiss:t,children:[(0,Z.jsx)(s.xu,{marginBottom:4,marginTop:4,paddingX:12,children:(0,Z.jsx)(s.xv,{align:"center",children:n._('Looks like your account is connected to Google. Log in with Google to get back into your account.', 'mweb.accountRecovery.loginAssistance.googleModal.text', 'Modal text for users who failed to login through password and are connected through Google')})}),(0,Z.jsx)(s.xu,{marginBottom:8,paddingX:14,children:(0,Z.jsx)(ee.Z,{google:!0})})]})}var en=n(996096),eo=n(840962);function er(e){return(er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function es(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach(function(t){var o,r,i;o=e,r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=er(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=er(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==er(t)?t:t+""}(r))in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ea=function(e){var t=e.href,n=e.state,o=e.onClick,r=e.children,a=(0,i.TH)().state,l=(0,eo.Z)({href:{pathname:t,state:es(es({},a),n)}});return(0,Z.jsx)(s.rU,{href:t,onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),o(),l({event:t})},children:r})},el=n(523429),ec=n(945011),eu=n(824879),ed=n(313420),eh=n(192946),ep=["userInfo"],em=["shouldShowAccountExistsToast"];function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eg(e,t,n,o,r,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,r)}function eb(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var i=e.apply(t,n);function s(e){eg(i,o,r,s,a,"next",e)}function a(e){eg(i,o,r,s,a,"throw",e)}s(void 0)})}}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(t){eE(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ey(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if(({}).hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ew(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,eO(o.key),o)}}function ex(e,t){return(ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eP(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eS=function(){return!!e})()}function ej(e){return(ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eE(e,t,n){return(t=eO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eO(e){var t=function(e,t){if("object"!=ef(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=ef(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ef(t)?t:t+""}var ek=function(e){return(0,C.mB)(e.search).next||e.state&&e.state.next||"/"},eA=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&ex(l,e);var t,n,r,i=(t=eS(),function(){var e,n=ej(l);return e=t?Reflect.construct(n,arguments,ej(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ef(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eP(e)}(this,e)});function l(){var e,t,n,r;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];return eE(eP(e=i.call.apply(i,[this].concat(d))),"state",{apiErrorCode:0,email:(t=e.props.location).state&&t.state.email||"",isLoading:!1,isValid:!1,isSsoFlow:!1,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,showLoginRateLimitedModal:!1,showLoginAssistanceGoogleModal:!1,shouldHideFBButtonForSignup:!1,isSsoEmail:!1,exchangeCodeToTokenUrl:"",existingUserSso:!1,existingUserIsSso:!1,ssoAuthorizationUri:"",showInfoBanner:!1,infoBannerMessage:""}),eE(eP(e),"clearPersonalizedLoginFromEmail",function(t){var n=e.props,o=n.history,r=n.location;if(r.state&&r.state.userInfo){var i=r.state,s=(i.userInfo,ey(i,ep));o.replace({pathname:t?"/":"/login",state:s})}}),eE(eP(e),"onLoginClick",function(){e.trackButtonTap(30),e.props.emailLoginOnlyForRecoverAccount&&e.props.logContextEvent({event_type:15392,component:15214,element:30})}),eE(eP(e),"onSignUpClick",function(){var t=e.props,n=t.history,o=t.location,r=t.isAppFactoryOAuth,i=t.attributionLabel,s=t.trackConversionUpsell;e.trackButtonTap(31),s({eventType:14688,component:14215,upsellReason:i,incrementUpsellReasonCounter:!1}),n.push({pathname:"/signup/step1/",state:ev(ev({email:e.state.email,password:e.state.password,isSignUpFromLoginError:!0},o.state),{},{isAppFactoryOAuth:r,attributionLabel:i})})}),eE(eP(e),"trackButtonTap",function(t){var n=e.props,o=n.isAuthenticated,r=n.isLimitedLoginUser,i=n.logContextEvent,s=n.trackConversionUpsell;i({view_type:9,element:t,event_type:102,aux_data:ev({},o?{login_state:r?y.Z.LIMITED:y.Z.DEFAULT}:{})}),s({eventType:14689,element:t})}),eE(eP(e),"handleNotYouClick",function(){e.clearPersonalizedLoginFromEmail(),e.trackButtonTap(10879),e.setState({email:"",optOutFromPersonalizedForm:!0}),(0,O.NC)("click_change_signin_account")}),eE(eP(e),"handleNoAccountClick",function(){var t=e.props,n=t.attributionLabel,o=t.trackConversionUpsell;e.clearPersonalizedLoginFromEmail(!0),e.trackButtonTap(10880),o({eventType:14688,component:14215,upsellReason:n,incrementUpsellReasonCounter:!1,viewType:10,viewParameter:47}),(0,O.NC)("click_toggle_signup")}),eE(eP(e),"handlePasswordReset",function(){var t=e.props,n=t.history,o=t.logContextEvent,r=t.attributionLabel,i=e.state.email,s=(0,P.F)().checkExperiment;e.trackButtonTap(10881);var a=(0,L.a3)(i,e.emailValidators());i&&!a&&(o({event_type:51,view_type:9,view_parameter:63}),(0,h.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:i,type:s("unauth_mweb_unified_ar").anyEnabled?"unified":"reset"}}).then(function(){n.replace({pathname:"/password/reset/sent/",state:{destinationEmail:i,fromLogin:!0,attributionLabel:r}}),e.setState({apiErrorCode:0})}))}),eE(eP(e),"validateEmail",(n=eb(regeneratorRuntime.mark(function t(n){var o,r,i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=n.showTooltip,r=e.state.email,(s=!(i=(0,L.a3)(r,e.emailValidators()))&&!e.state.passwordValidationError)&&e.checkIfUserIsSso({isEmailPasswordValid:s}),o||s?e.setState({emailValidationError:i,isValid:s}):e.setState({isValid:s});case 6:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})),eE(eP(e),"checkIfUserIsSso",(r=eb(regeneratorRuntime.mark(function t(n){var o,r,i,s,a,l,c,u,d,h,p,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.hasInitialEmail,r=n.isEmailPasswordValid,i=e.state.email,s=e.props.verifySsoUser,a=null!=r?r:e.state.isValid,t.next=6,s(i);case 6:c=(l=t.sent).isSso,u=l.existingUser,d=l.existingUserIsSso,h=l.authorizationUri,p=l.exchangeCodeToTokenUrl,m=!!(c&&(!u||d)),e.setState({exchangeCodeToTokenUrl:null!=p?p:"",isSsoEmail:c,isSsoFlow:m,existingUserSso:!!u,existingUserIsSso:!!d,ssoAuthorizationUri:null!=h?h:"",isValid:!!m&&!!o||a});case 14:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)})),eE(eP(e),"debouncedCheckIfSsoUser",(0,c.Z)(eb(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.email,(0,L.a3)(n,e.emailValidators())||e.checkIfUserIsSso({hasInitialEmail:!1});case 3:case"end":return t.stop()}},t)})),300)),eE(eP(e),"validatePassword",function(t){var n=e.state.password,o=(0,L.a3)(n,[(0,L.aH)({message:e.props.i18n._('The password you entered is incorrect.', 'Password validation error', 'Password validation error')})]),r=!o&&!e.state.emailValidationError;t||r?e.setState({passwordValidationError:o,isValid:r}):e.setState({isValid:r})}),eE(eP(e),"validateEmailOnBlur",function(){setTimeout(function(){e.validateEmail({showTooltip:!0})},0)}),eE(eP(e),"validatePasswordOnBlur",function(){e.state.password&&setTimeout(function(){e.validatePassword(!0)},0)}),eE(eP(e),"emailValidators",function(){return[(0,L.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')}),(0,L.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')})]}),eE(eP(e),"getSoftBannedErrorMsg",function(){var t=e.props.i18n;return(0,Z.jsx)(s.xv,{color:"error",size:"200",children:(0,g.nk)(t._('We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'duplo.loginForm.softBanned.errorMessage', 'Error message when user is soft banned, resetPasswordLink: link to reset password flow with text \'Reset your password\''),{resetPasswordLink:(0,Z.jsx)(s.xu,{display:"inlineBlock",children:(0,Z.jsx)(s.iP,{onTap:e.handlePasswordReset,children:(0,Z.jsx)(s.xv,{inline:!0,underline:!0,children:t._('Reset your password', 'duplo.loginForm.SoftBanned.passwordReset', 'Link text for password reset')},"err_reset_link")})})})},"err_text")}),eE(eP(e),"handleChangeEmail",function(t){var n=t.value;e.setState({email:n,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,isSsoEmail:!1,isSsoFlow:!1,showInfoBanner:!1},function(){e.validateEmail({}),e.debouncedCheckIfSsoUser()})}),eE(eP(e),"handleChangePassword",function(t){var n=t.value;return e.setState({password:n,hasKeychainErrorShown:!0},e.validatePassword)}),eE(eP(e),"handleLoginFailure",function(t){var n=e.props,o=n.showToast,r=n.i18n,i=n.checkExperiment,s=e.state.email,a=t.api_error_code===v.yV||t.api_error_code===v.$j,l={},c=t.api_error_code===v.oP||t.message?{passwordValidationError:t.message}:{};if(a)c={passwordValidationError:e.getSoftBannedErrorMsg()};else if(t.api_error_code===v.q1){(0,O.My)("unauth.mweb.login_form.error.invalid_password_google_user");var u=i("mweb_unauth_assist_google_connected_users",{dangerouslySkipActivation:!0}).group.includes("banner");u&&(l={showInfoBanner:!0,infoBannerMessage:r._('Looks like your account is connected to Google. Use Google button to log in', 'mweb.unauth.loginForm.badPassword.googleConnected.bannerMessage', 'A banner message that directs the user to login using the Google sign-in button')}),c={passwordValidationError:r._('The password you entered is incorrect.', 'mweb.unauth.loginForm.badPassword.googleConnected.passwordError', 'An error message under the password input field warning the user that they inputted a bad password'),showLoginAssistanceGoogleModal:!u}}else t.api_error_code===v.nY&&t.message?(o(function(e){var n=e.hideToast;return(0,Z.jsx)(m.Z,{onHide:n,text:t.message||""})}),c={}):t.api_error_code===v.hU?c=s?{emailValidationError:t.message,shouldShowSignUpButton:!0}:{emailValidationError:t.message}:v.ik.includes(t.api_error_code)&&(c={emailValidationError:"",showLoginRateLimitedModal:!0});e.setState(ev(ev({isLoading:!1,apiErrorCode:t.api_error_code||0},c),l)),(0,S.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},S.xW)}),eE(eP(e),"handleLogin",function(t){t&&t.preventDefault();var n=e.props,o=n.history,r=n.location,i=n.login,s=n.showToast,a=n.isAuthenticated,l=n.isLimitedLoginUser,c=n.isSwitchAccount,u=n.noImmediateRedirect,d=n.attributionLabel,h=e.state,p=h.email,f=h.password,g=h.recaptchaV3Token,b=e.props.authenticateWithSso,_=e.state,v=_.isSsoEmail,x=_.exchangeCodeToTokenUrl,P=_.existingUserSso,S=_.existingUserIsSso,j=_.ssoAuthorizationUri;if(v){if(!P)return void o.push({pathname:"/signup/step1/",state:ev(ev({email:e.state.email,isSignUpFromLoginError:!1},r.state),{},{attributionLabel:d})});else if(S){e.trackButtonTap(14367),b({callbacks:{success:function(t){var n=t.authCode,s=t.state;p&&n&&i({sso_user_email:p,sso_auth_code:n,sso_state:s},o,ek(r),{isSwitchAccount:c,recaptchaV3Token:g,noImmediateRedirect:u},{event_type:7534,view_type:9,view_parameter:63,aux_data:ev(ev({},a?{login_state:l?y.Z.LIMITED:y.Z.DEFAULT}:{}),{},{signup_login_method:w.Z.SSO,upsell_reason:d})}).catch(function(t){(0,O.My)("unauth.mweb.login.sso.login.error",{code:t.api_error_code,message:t.message}),e.handleLoginFailure(t)})},error:function(t){(0,O.My)("unauth.mweb.login.sso.autheticateWithSso.error",{code:t.api_error_code,message:t.message}),e.setState({isLoading:!1}),t.message&&s(function(e){var n=e.hideToast;return(0,Z.jsx)(m.Z,{onHide:n,text:t.message||""})})}},exchangeCodeToTokenUrl:x,isLogin:!0,modalUrl:null!=j?j:""});return}}i({username_or_email:p,password:f},o,ek(r),{isSwitchAccount:c,recaptchaV3Token:g,noImmediateRedirect:u},{event_type:7534,view_type:9,view_parameter:63,aux_data:ev(ev({},a?{login_state:l?y.Z.LIMITED:y.Z.DEFAULT}:{}),{},{signup_login_method:w.Z.EMAIL,upsell_reason:d})}).catch(function(t){return e.handleLoginFailure(t)}),e.setState({isLoading:!0})}),eE(eP(e),"handleLoginTouch",function(e){"Facebook"===e?(0,O.My)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&(0,O.My)("unauth_mweb.google_connect.manual.attempt")}),eE(eP(e),"handleDisableFBSignup",function(){e.setState({shouldHideFBButtonForSignup:!0}),e.props.history.push({pathname:"/login/"})}),eE(eP(e),"renderPersonalizedLogin",function(t){var n=e.props,r=n.isAppFactoryOAuth,i=n.location,a=n.noImmediateRedirect,l=n.attributionLabel,c=n.checkExperiment,u=n.emailLoginOnlyForRecoverAccount,d=n.onForgetPasswordForFacebookRecover,h=n.lookedupEmail,m=e.state,f=m.emailValidationError,b=m.passwordValidationError,_=m.isSsoFlow,v=m.isValid,y=m.password,w=m.shouldShowSignUpButton,x={connectedToFacebook:t.connected_to_facebook,connectedToGoogle:t.connected_to_google||!!t.gplus_url,email:t.email,firstName:t.first_name,hasPassword:t.has_password,avatarSrc:t.image_medium_url||t.medium_image_url||""},P=x.connectedToFacebook,S=x.connectedToGoogle,j=x.email,E=x.firstName,O=x.hasPassword,k=x.avatarSrc,A=!!i.state&&!!i.state.userInfo,C=!O&&!P&&!S,T=O||C,L=S||C,z=T&&(P||C||L),F=E?(0,g.nk)(e.props.i18n._('Welcome back, {{name}}!', 'Heading on personalized login page, followed by user\'s name', 'Heading on personalized login page, followed by user\'s name'),{name:E}):e.props.i18n._('Welcome back!', 'Welcome message on user login page', 'Welcome message on user login page');return(0,Z.jsxs)(o.Fragment,{children:[A&&(0,Z.jsx)(eu.Z,{}),(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:T?-3:5,marginTop:5,children:[(0,Z.jsx)(s.kC,{alignItems:"stretch",justifyContent:"center",children:(0,Z.jsx)(s.X6,{accessibilityLevel:1,overflow:"normal",size:"400",children:F})}),(0,Z.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,Z.jsx)(p.qE,{name:E||"",size:"lg",src:k})}),!T&&(0,Z.jsx)(s.xu,{children:(0,Z.jsx)(s.xv,{align:"center",children:j})})]}),(0,Z.jsxs)(s.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[T&&(0,Z.jsx)($,{email:(null!=j?j:"")||(null!=h?h:""),emailLoginOnlyForRecoverAccount:u,emailValidationError:f,handleChangeEmail:e.handleChangeEmail,handleChangePassword:e.handleChangePassword,handlePasswordReset:e.handlePasswordReset,hideEmailField:!1,isSsoFlow:_,isValid:v,onForgetPasswordForFacebookRecover:d,onLoginClick:e.onLoginClick,onSignUpClick:e.onSignUpClick,onSubmit:e.handleLogin,password:y,passwordValidationError:b,shouldShowSignUpButton:w,showEmailAsText:!0,validateEmailOnBlur:e.validateEmailOnBlur,validatePasswordOnBlur:e.validatePasswordOnBlur}),z&&(0,Z.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,Z.jsx)(s.xv,{align:"center",size:"100",weight:"bold",children:e.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,Z.jsx)(ee.Z,{attributionLabel:l,disableFBSignup:e.handleDisableFBSignup,facebook:!c("mweb_unauth_fb_login_account_recovery_flow").anyEnabled&&!e.state.shouldHideFBButtonForSignup,google:L,line:C,next:ek(i),noImmediateRedirect:a,onFacebookTouch:function(){return e.handleLoginTouch("Facebook")}})]})]}),(0,Z.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,Z.jsxs)(s.xu,{alignItems:"start","data-test-id":"login-switch-account",direction:"row",display:"flex",justifyContent:"center",wrap:!0,children:[(0,Z.jsx)(s.xu,{marginEnd:1,children:(0,Z.jsx)(s.xv,{align:"center",inline:!0,children:e.props.i18n._('Not you?', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})}),(0,Z.jsx)(s.xv,{color:"default",inline:!0,weight:"bold",children:(0,Z.jsx)(ea,{href:"/login/".concat(i.search||""),onClick:e.handleNotYouClick,children:e.props.i18n._('Log in with a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})})]}),(0,Z.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginTop:4,children:[(0,Z.jsx)(s.xu,{"data-test-id":"signup-modal-personalized",marginEnd:1,children:(0,Z.jsx)(s.xv,{children:e.props.i18n._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,Z.jsx)(s.xv,{color:"default",weight:"bold",children:(0,Z.jsx)(ea,{href:"/signup/step1/",onClick:e.handleNoAccountClick,state:ev(ev({},i.state),{},{isAppFactoryOAuth:r,attributionLabel:l}),children:e.props.i18n._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]})]})]})}),eE(eP(e),"renderLoginButtons",function(t){var n=e.props,o=n.isAppFactoryOAuth,r=n.isBeforeHydration,i=n.location,l=n.noImmediateRedirect,c=n.attributionLabel,u=n.checkExperiment,d=(0,E.M0)().getItem(a.TB),h=u("mweb_unauth_fb_login_account_recovery_flow").anyEnabled,p=(0,Z.jsx)(ee.Z,{apple:!r&&!!d||o,attributionLabel:c,disableFBSignup:e.handleDisableFBSignup,facebook:!h&&!e.state.shouldHideFBButtonForSignup,google:!0,line:!0,next:ek(i),noImmediateRedirect:l,onFacebookTouch:function(){return e.handleLoginTouch("Facebook")}}),m=(0,Z.jsx)(s.xu,{marginBottom:2*!!t,marginTop:2*!t,children:(0,Z.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:e.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})});return t?(0,Z.jsxs)(s.xu,{children:[m,p]}):(0,Z.jsxs)(s.xu,{children:[p,m]})}),eE(eP(e),"renderInfoBanner",function(){var t=e.state.infoBannerMessage,n=e.props.i18n;return(0,Z.jsxs)(s.xu,{alignItems:"center",color:"infoWeak",direction:"row",display:"flex",paddingX:4,paddingY:4,rounding:4,children:[(0,Z.jsx)(s.xu,{marginEnd:4,children:(0,Z.jsx)(s.JO,{accessibilityLabel:n._('Info icon on the login form info banner', 'mweb.unauth.loginForm.infoBanner.icon', 'Info icon on the login form info banner'),color:"info",icon:"info-circle",size:20})}),(0,Z.jsx)(s.xv,{inline:!0,children:t})]})}),e}return n=[{key:"componentDidMount",value:function(){var e,t,n=this,o=this.props,r=o.history,i=o.location,s=o.showToast;if(i.state&&i.state.shouldShowAccountExistsToast&&(s(function(e){var t=e.hideToast;return(0,Z.jsx)(m.Z,{onHide:t,text:n.props.i18n._('Looks like you already have a Pinterest account. Please log in.', 'Toast showing that a user already has a Pinterest account and can login normally', 'Toast showing that a user already has a Pinterest account and can login normally')})}),i.state)){var a=i.state,l=(a.shouldShowAccountExistsToast,ey(a,em));r.replace("/login/",l)}(0,C.mB)(i.search).message===b.R&&s(function(e){var t=e.hideToast;return(0,Z.jsx)(m.Z,{duration:b.Jl,onHide:t,text:(0,_.Z)(n.props.i18n,i)})});var c=function(){(0,S.rY)(function(e){return n.setState({recaptchaV3Token:e})},function(){},S.xW)};if(c(),setInterval(c,S.yc),i.state&&i.state.keychainiOSAutologinError){var u=i.state.keychainiOSAutologinError,d=u.code,h=d===v.hU?{emailValidationError:u.message}:{passwordValidationError:u.message};this.setState(ev({apiErrorCode:d,hasKeychainErrorShown:!1},h))}null!=(e=i.state)&&null!=(t=e.userInfo)&&t.email&&this.checkIfUserIsSso({hasInitialEmail:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLimitedLoginUser,r=t.location,i=t.loggedOutUserInfo,a=t.isAppFactoryOAuth,l=t.viewingUser,c=t.showPLPBanner,h=t.plpBannerPin,p=t.i18n,m=t.showKeychainError,f=t.attributionLabel,g=t.checkExperiment,b=t.emailLoginOnlyForRecoverAccount,_=t.onForgetPasswordForFacebookRecover,y=t.lookedupEmail,w=r.state&&r.state.shouldShowLoginBelow||!1,x=this.state,P=x.apiErrorCode,S=x.email,j=x.emailValidationError,E=x.passwordValidationError,O=x.isLoading,k=x.isSsoFlow,A=x.isValid,T=x.optOutFromPersonalizedForm,L=x.password,F=x.shouldShowSignUpButton,I=x.hasKeychainErrorShown,B=x.showLoginRateLimitedModal,U=x.showLoginAssistanceGoogleModal,R=x.showInfoBanner,D=x.infoBannerMessage,M=n?l:i;r.state&&r.state.userInfo&&(M=r.state.userInfo);var V=g("mweb_unauth_fb_login_account_recovery_flow").anyEnabled,H=P>0&&P===v.nf,W=(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsxs)(s.xu,{"data-test-id":"duplo-login-form",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[!w&&!b&&this.renderLoginButtons(w),(0,Z.jsx)($,{email:S||(null!=y?y:""),emailLoginOnlyForRecoverAccount:null!=b&&b,emailValidationError:j,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isSIWAError:H,isSsoFlow:k,isValid:A,onForgetPasswordForFacebookRecover:_,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:L,passwordValidationError:E,shouldShowSignUpButton:F,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),w&&!b&&this.renderLoginButtons(w)]}),!b&&(0,Z.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,Z.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,Z.jsx)(s.xu,{"data-test-id":"signup-link",marginEnd:1,children:(0,Z.jsx)(s.xv,{children:p._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,Z.jsx)(s.xv,{color:"default",weight:"bold",children:(0,Z.jsx)(ea,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{email:S,isAppFactoryOAuth:a,next:(0,C.mB)(r.search).next,attributionLabel:f},children:p._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]}),!a&&(0,Z.jsx)(ed.Z,{})]})]});return m?(0,Z.jsxs)(o.Fragment,{children:[(0,Z.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(230, 0, 35, 0.08)",transition:"transform 400ms ease-in-out",transform:I?"translateY(-120%)":"translateY(0%)"}},display:"flex",height:52,justifyContent:"center",children:[(0,Z.jsx)(s.qb,{accessibilityLabel:p._('Workflow status problem accessibility label', 'mweb.unauth.keychain_autologin.login_page.error_message.icon', 'Accessibility label for error message icon'),type:"problem"}),(0,Z.jsx)(s.xu,{marginStart:2,children:(0,Z.jsx)(s.xv,{color:"default",children:p._('Oops! We couldn\'t log you in', 'mweb.unauth.keychain_autologin.login_page.error_message', 'Error message to let user know there was an issue logging them in')})})]}),(0,Z.jsxs)(s.xu,{paddingX:4*!!c,children:[M&&!T?this.renderPersonalizedLogin(M):W,O&&(0,Z.jsx)(z.Z,{})]})]}):(0,Z.jsxs)(o.Fragment,{children:[B&&(0,Z.jsx)(en.Z,{onDismiss:function(){return e.setState({showLoginRateLimitedModal:!1})}}),U&&(0,Z.jsx)(et,{onDismiss:function(){return e.setState({showLoginAssistanceGoogleModal:!1})}}),this.state.shouldHideFBButtonForSignup&&(0,Z.jsx)(d.Z,{}),!b&&V&&(0,Z.jsx)(u.Z,{}),R&&D&&this.renderInfoBanner(),c&&h&&!this.state.shouldHideFBButtonForSignup&&(0,Z.jsx)(eh.Z,{pin:h}),(0,Z.jsxs)(s.xu,{paddingX:4*!!c,children:[M&&!T?this.renderPersonalizedLogin(M):W,O&&(0,Z.jsx)(z.Z,{})]})]})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.isAuthenticated,o=e.isLimitedLoginUser,r=e.location,i=e.loggedOutUserInfo,s=e.viewingUser;return r.state&&r.state.userInfo?{email:r.state.userInfo.email}:n||!i||t.optOutFromPersonalizedForm?o&&s&&!t.optOutFromPersonalizedForm?{email:s.email}:null:{email:i.email}}}],n&&ew(l.prototype,n),r&&ew(l,r),Object.defineProperty(l,"prototype",{writable:!1}),l}(o.PureComponent);function eC(e){var t,n=(0,f.ZP)(),o=(0,i.k6)(),s=(0,i.TH)(),a=(0,r.I0)(),c=(0,el.f)(),u=(0,A.F9)().showToast,d=(0,r.v9)(function(e){return e.session}),h=d.isAuthenticated,p=d.loggedOutUserInfo,m=(0,ec.Tt)(),g=(0,l.Z)(),b=(0,T.Z)(),_=(0,k.Z)().trackConversionUpsell,v=(0,j.B)(),y=(0,x.Z)(),w=y.authenticateWithSso,P=y.verifySsoUser;return(0,Z.jsx)(eA,ev(ev({},e),{},{attributionLabel:null==(t=s.state)?void 0:t.attributionLabel,authenticateWithSso:w,dispatch:a,history:o,i18n:n,isAuthenticated:h,isBeforeHydration:b,isLimitedLoginUser:(0,F.xT)(m),location:s,logContextEvent:g,loggedOutUserInfo:p,login:c,requestContext:v,showToast:u,trackConversionUpsell:_,verifySsoUser:P,viewingUser:m}))}},192946:function(e,t,n){n.d(t,{Z:function(){return b}});var o=n(545007),r=n(284987),i=n(233846),s=n(139714),a=n(174646),l=n(903683),c=n(258712),u=n(132227),d=n(19035),h=function(e){var t=e.pin,n=t.image,o=t.pinDescription,r=t.dominantColor,i=t.bannerCopy;return(0,d.jsx)(c.Fragment,{children:(0,d.jsxs)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,d.jsx)(u.xu,{height:40,margin:4,width:30,children:(0,d.jsx)(u.zd,{height:"100%",rounding:2,width:"100%",children:(null==n?void 0:n.url)&&(0,d.jsx)(u.Ee,{alt:o||"",color:r||"",fit:"cover",naturalHeight:(n||{}).height||1,naturalWidth:(n||{}).width||1,src:n.url})})}),(0,d.jsx)(u.xv,{children:i})]})})};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){var o;return(o=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=p(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==p(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t=e.pin,n=(0,i.ZP)(),c=(0,o.v9)(function(e){var t=e.session;return t&&t.unauthSavePinId}),u=(0,l.S6)()(null!=c?c:""),p=(0,a.B)(),m=p.isBot,b=p.isSocialBot,_=(0,r.TH)();if(!t&&!c)return null;var v=_.pathname.startsWith("/signup");if(!(_.pathname.startsWith("/login")||v))return null;if(u){var y,w,x=_.pathname.startsWith("/signup"),P={url:(0,s.Z)({imagesUrls:u.images?Object.keys(u.images).reduce(function(e,t){var n,o;return t&&null!=(n=u.images)&&null!=(o=n[t])&&o.url?f(f({},e),{},g({},t,u.images[t].url)):e},{}):void 0,embedSrc:null==(y=u.embed)?void 0:y.src,embedType:null==(w=u.embed)?void 0:w.type,excludeOriginals:!m&&!b}),height:1,width:1},S=u.description||"",j=u.dominant_color||"",E=x?n._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):n._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,d.jsx)(h,{pin:{image:P,pinDescription:S,dominantColor:j,bannerCopy:E}})}return t?(0,d.jsx)(h,{pin:t}):null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/26038-09e29412919a9ece.js.map