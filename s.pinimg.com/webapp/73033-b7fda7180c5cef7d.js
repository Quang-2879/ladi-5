"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[73033],{69401:function(e,t,n){n.d(t,{Gt:function(){return r},LG:function(){return o},UO:function(){return i},ZB:function(){return a}});var r=function(e){return e.replace(/\s+/g,"-")},o=100,i=10,a=28;t.ZP={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},810139:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(741594),o=n(292643);function i(e){var t=null!=e?e:{name:r.fY,options:null},n=t.enabledRouteRefresh,i=t.headers,a=t.name,c=t.noCache,u=t.options,s=t.schema,l=!e,d=(0,o.Z)({enabledRouteRefresh:n,headers:i,name:a,noCache:c,options:u,schema:s},l,!1),f=d.fetchResource,_=d.ref,v=d.fetchMore,b=d.isFetching,p=d.isLoaded,h=d.isRefreshing,m=d.refresh;return l||f(),{ref:_,fetchMore:v,isFetching:b,isLoaded:p,isRefreshing:h,refresh:m}}},712151:function(e,t){t.Z=function(e){return e?"string"==typeof e?e:e.pathname?e.pathname:"":""}},573033:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(258712),o=n(545007),i=n(284987),a=n(132227),c=n(219308),u=n(18644),s=n(397657),l=n(231333),d=n(233846),f=n(810139),_=n(113474),v=n(339908),b=n(712151),p=n(971518),h=n(174646),m=n(882368),y=n(748929),g=n(19035);function S(e){var t=e.username,n=e.senderName,r=e.createdAtDate,o=e.isInviteToGroupChat,i=e.avatarImg,c=e.handleBlock,u=e.handleUnblock,s=e.handlePreview,l=e.handleDecline,f=e.handleReport,_=e.declineInvite,v=e.blockedInvite,b=(0,d.ZP)(),S=(0,h.B)().locale,x=new Date(r),I=(0,y.Z)(x,S),P=(0,m.Z)(),j=P.isAuth?null==P?void 0:P.avatar_color_index:void 0,A=(0,g.jsx)(a.Tg,{href:"/".concat(t),children:(0,g.jsx)(p.qE,{accessibilityLabel:b._('User`s avatar', 'InviteSubSection.InviteSubSectionItem.usersAvatar', 'avatar image'),color:j,name:n,size:"md",src:i})}),w=v?(0,g.jsx)(a.zx,{accessibilityLabel:b._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request'),onClick:u,size:"lg",text:b._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request')}):(0,g.jsx)(a.zx,{accessibilityLabel:b._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request'),onClick:c,size:"lg",text:b._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request')}),O=(0,g.jsx)(a.zx,{accessibilityLabel:b._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request'),onClick:f,size:"lg",text:b._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request')}),E=(0,g.jsx)(a.zx,{accessibilityLabel:b._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request'),color:"transparent",onClick:l,size:"lg",text:b._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request')}),R=(0,g.jsx)(a.zx,{accessibilityLabel:b._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request'),color:void 0,onClick:s,size:"lg",text:b._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request')});return(0,g.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,marginTop:4,width:"100%",children:[(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,g.jsx)(a.xu,{marginEnd:4,children:A}),(0,g.jsxs)(a.kC,{direction:"column",flex:"grow",children:[(0,g.jsxs)(a.xu,{display:"flex",justifyContent:"between",marginBottom:1,children:[(0,g.jsx)(a.kC,{flex:"grow",children:(0,g.jsx)(a.rU,{display:"inlineBlock",href:"/".concat(t),tapStyle:"none",underline:"hover",children:(0,g.jsx)(a.xv,{lineClamp:1,children:n})})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:4,children:(0,g.jsx)(a.xv,{align:"end",color:"subtle",size:"100",children:I})})]}),(0,g.jsx)(a.iP,{onTap:s,children:(0,g.jsx)(a.xu,{children:(0,g.jsx)(a.xv,{color:"subtle",inline:!0,lineClamp:1,children:o?b._('Added you to a group message', 'InviteSubSection.InvitePreviewSubSectionItem.groupMessageDescription', 'text for group message request description'):b._('Sent you a message', 'InviteSubSection.InvitePreviewSubSectionItem.messageDescription', 'text for message request description')})})})]})]}),(0,g.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:2,width:"100%",children:[(0,g.jsx)(a.xu,{width:64}),_?(0,g.jsxs)(a.kC,{gap:2,children:[w,O]}):(0,g.jsxs)(a.kC,{children:[R,E]})]})]})}var x=n(640935);function I(e){var t=e.boardName,n=e.createdAtDate,r=e.username,o=e.boardUrl,i=e.boardInviteSenderAvatarUrl,c=e.boardInviteSenderFullName,u=e.boardInviteCoverImageUrl,s=e.handleDecline,l=e.isInboxRequestsSectionView,f=(0,d.ZP)(),_=(0,h.B)().locale,v=new Date(n),b=(0,y.Z)(v,_),S=(0,m.Z)(),I=S.isAuth?null==S?void 0:S.avatar_color_index:void 0,P=(0,g.jsx)(a.Tg,{href:o,rounding:2,children:(0,g.jsxs)(a.zd,{height:48,rounding:2,width:48,children:[u?(0,g.jsx)(a.Ee,{alt:f._('board cover image', 'InviteSubSection.InviteSubSectionItem.boardCoverImage', 'cover image'),fit:"cover",naturalHeight:48,naturalWidth:48,src:u}):(0,g.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(0,x.Yc)()?"#4A4A4A":"#E9E9E9"}},display:"flex",height:48,width:48,children:[(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRight:(0,x.Yc)()?"1px solid black":"1px solid white"}},width:"50%"}),(0,g.jsxs)(a.kC,{direction:"column",width:"50%",children:[(0,g.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:(0,x.Yc)()?"1px solid black":"1px solid white"}},height:"50%"}),(0,g.jsx)(a.xu,{height:"50%"})]})]}),(0,g.jsx)(a.xu,{bottom:!0,height:20,position:"absolute",right:!0,width:20,children:(0,g.jsx)(p.qE,{accessibilityLabel:f._('board owner avatar', 'InviteSubSection.InviteSubSectionItem.boardInvites.userAvatar', 'avatar image of board owner that displays on board invites'),color:I,name:c,outline:!0,size:"fit",src:i})})]})});return(0,g.jsxs)(a.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,marginTop:4,width:"100%",children:[(0,g.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,g.jsx)(a.xu,{marginEnd:4,children:P}),(0,g.jsxs)(a.kC,{direction:"column",flex:"grow",children:[(0,g.jsxs)(a.xu,{alignItems:"stretch",display:"flex",flex:"grow",justifyContent:"between",marginBottom:1,width:"100%",children:[(0,g.jsx)(a.kC,{flex:"grow",justifyContent:"start",children:l?(0,g.jsx)(a.Tg,{href:o,children:(0,g.jsx)(a.xv,{children:f._('Board Invite', 'InviteSubSection.InviteSubSectionItem.boardInviteText', 'text to indicate a board invite')})}):(0,g.jsx)(a.rU,{display:"inlineBlock",href:"/".concat(r),underline:"hover",children:(0,g.jsx)(a.xv,{lineClamp:1,children:c})})}),(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:4,children:(0,g.jsx)(a.xv,{align:"end",color:"subtle",size:"100",children:b})})]}),(0,g.jsx)(a.Tg,{href:o,children:(0,g.jsx)(a.xv,{color:"subtle",lineClamp:1,children:t})})]})]}),(0,g.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:2,width:"100%",children:[(0,g.jsx)(a.xu,{width:64}),(0,g.jsx)(a.ZP,{accessibilityLabel:f._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request'),href:o,size:"lg",text:f._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request')}),(0,g.jsx)(a.zx,{accessibilityLabel:f._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request'),color:"transparent",onClick:s,size:"lg",text:f._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request')})]})]})}var P=n(914092),j=n(554334),A=n(192500),w=n(488267),O=n(827684),E=n(142691);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=R(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function C(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return k(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e){var t=function(e){var t;return new Date(null!=(t=e.created_at)?t:0)};return C(e).sort(function(e,n){return t(e)>t(n)?-1:+(t(n)>t(e))})},q=function(e,t){t.push(e)},L=function(e,t,n,r){var o=e||t?r._('Board invite declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a board invite'):r._('Message request declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a message request');n(function(e){var t=e.hideToast;return(0,g.jsx)(l.Z,{duration:3e3,onHide:t,text:o})})},U=function(e,t,n,r){t(function(e){var t=e.hideToast;return(0,g.jsx)(l.Z,{duration:5e3,onHide:t,primaryAction:{accessibilityLabel:r._('Undo blocking', 'InviteSubSection.InvitePreviewSubSection.declineToast.a11yUndo', 'Accessibility label for toast to undo comment highlight or comment highlight removal'),label:r._('Undo', 'InviteSubSection.InvitePreviewSubSection.declineToast.undo', 'Toast Undo button do undo a block'),size:"lg",onClick:n},text:r._('Message declined!', 'InviteSubSection.InvitePreviewSubSection.declineToast', 'Toast alerting user that they declined a message request')})})},N=function(e,t,n,r){var o=function(){return q(e,t)};n(function(t){var n=t.hideToast;return(0,g.jsx)(l.Z,{_dangerouslySetPrimaryAction:(0,g.jsx)(a.hU,{accessibilityLabel:r._('Arrow button to navigate to board', 'InviteSubSection.InviteSubSectionItem.arrowButton', 'toast with Button for user to navigate to board'),bgColor:"white",icon:"directional-arrow-right",iconColor:"darkGray",onClick:o,size:"md"}),duration:4e3,href:e,onHide:n,text:(0,g.jsx)(a.xv,{children:r._('You\'re in! Save Pins, plan with collaborators, and more!', 'InviteSubSection.InviteSubSectionItem.joinedInvite', 'Toast shown after joining a board.')})})})};function M(e){var t=e.numberOfRequestToShow,n=e.isInboxRequestsSectionView,f=e.boardInvitesList,_=e.contactRequestsList,p=e.contactRequestsResourceRefresh,h=(0,d.ZP)(),m=(0,o.I0)(),y=(0,i.k6)(),x=(0,v.F9)(),j=x.showToast,R=x.showOneToast,D=(0,o.v9)(function(e){return e.inbox}),z=(0,A.Z)(),k=(0,c.Z)(),q=[].concat(C(f||[]),C(_||[])),N=(0,r.useRef)(_);(0,r.useEffect)(function(){N.current=_},[_]),(0,r.useEffect)(function(){var e=D&&D.showToastForContactRequest;return e&&(U(e,R,function(){m((0,P.O)(e,!1,!1))},h),m((0,E.C)(null))),function(){var e=[];N.current&&(N.current.forEach(function(t){if(t&&t.hasDeclined){var n;e.push(null!=(n=t.id)?n:"")}}),e.length>0&&(0,s.Z)({url:"/v3/contact_requests/batch/decline/",method:"DELETE",data:{contact_request_ids:e}}).then(function(){m((0,P.A)(e))}).catch(function(){m((0,P.A)(e))}))}},[]);var M,F=function(){p&&p()},G=(0,O.RZ)(),V=function(e){var t,r,i,c,d,f,_,v,p,x,A,O,D,C,T,Z,q,N,M,G,V,H,Y=e.inviteItem,X=e.index,W=(t=regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null!=Y.board,e.prev=1,e.next=4,(0,s.Z)({url:"/v3/contact_requests/".concat(Y.id,"/accept/"),method:"POST"});case 4:if(!e.sent||(F&&F(),!(!t&&"contactrequest"===Y.type))){e.next=12;break}return e.next=10,z({user_ids:[null==(n=Y.sender)?void 0:n.id,null==(r=Y.recipient)?void 0:r.id]});case 10:(o=e.sent)&&y.push("/conversation/".concat(o.id));case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),Error((0,u.Z)(e.t0,"message"));case 17:case"end":return e.stop()}},e,null,[[1,14]])}),r=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){B(i,r,o,a,c,"next",e)}function c(e){B(i,r,o,a,c,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)}),Q=function(){(0,s.Z)({url:"/v3/contact_requests/".concat(Y.id,"/decline/"),method:"DELETE"}).then(function(){F&&F()})},J="contactrequest"===Y.type&&Y.conversation&&!Y.board?(i=!!Y.hasDeclined&&Y.hasDeclined,c=!!Y.hasBlocked&&Y.hasBlocked,d=function(){var e="contactrequest"===Y.type&&Y.conversation&&Y.conversation.id;e?y.push("/conversation/".concat(e)):(j(function(e){var t=e.hideToast;return(0,g.jsx)(l.Z,{duration:3e3,onHide:t,text:h._('Conversation not found', 'InviteSubSection.InviteSubSectionItem.conversationNotFoundToast', 'Toast alerting user that Conversation is not found')})}),y.push("/inbox"))},f=function(){m((0,E.z)(Y.id,"block"))},_=function(){m((0,E.z)(Y.id,"unblock"))},v=function(){m((0,E.z)(Y.id,"report")),y.push("/inbox")},p=function(){var e;U(null!=(e=Y.id)?e:"",R,function(){m((0,P.O)(Y.id,!1,!1))},h)},x=(0,o.I0)(),A=function(){x((0,P.O)(Y.id,!0,!1)),p&&p()},q=null!==Y.board,N=null!=(O=null==(D=Y.sender)?void 0:D.full_name)?O:"",M=Y.created_at,G=q?null==(C=Y.board)?void 0:C.image_cover_url:null==(T=Y.sender)?void 0:T.image_large_url,V=(null==(Z=Y.sender)?void 0:Z.username)||"",H=Y.conversation&&(Y.conversation.users||[]).length+(Y.conversation.emails||[]).length>2,(0,g.jsx)(a.xu,{"data-test-id":"invite-item",children:(0,g.jsx)(S,{avatarImg:null!=G?G:"",blockedInvite:c,createdAtDate:M||"",declineInvite:i,handleBlock:f,handleDecline:A,handlePreview:d,handleReport:v,handleUnblock:_,isInviteToGroupChat:H,senderName:N,username:V})})):function(e,t,n,r){var o,i,c,u,s,l,d,f,_,v,p,h,m,y,S,x,P,j,A,w,O,E,R,D,z,B,C;return"contactrequest"===e.type?(f=null!==e.board,_=e.created_at||"",f&&(l=(null==(d=e.board)?void 0:d.name)||""),v=null==(o=e.sender)?void 0:o.username,p=(null==(i=e.sender)?void 0:i.full_name)||"",h=(0,b.Z)((null==(c=e.board)?void 0:c.url)||""),m=(0,b.Z)((null==(u=e.sender)?void 0:u.image_large_url)||""),y=(0,b.Z)((null==(s=e.board)?void 0:s.image_cover_url)||""),(0,g.jsx)(a.xu,{"data-test-id":"invite-item",children:(0,g.jsx)(I,{boardInviteCoverImageUrl:y,boardInviteSenderAvatarUrl:m,boardInviteSenderFullName:p,boardName:l,boardUrl:h||"",createdAtDate:_||"",handleDecline:n,isInboxRequestsSectionView:r,username:v||""})})):"collaboratorinvite"!==e.type?null:(O=null==(S=e.board_data)?void 0:S.name,E=e.created_at,R=null==(x=e.inviter_data)?void 0:x.username,D=(null==(P=e.inviter_data)?void 0:P.full_name)||"",z=(0,b.Z)(null==(j=e.board_data)?void 0:j.url),B=(0,b.Z)(null==(A=e.inviter_data)?void 0:A.image_large_url),C=(0,b.Z)(null==(w=e.board_data)?void 0:w.image_cover_url),(0,g.jsx)(a.xu,{"data-test-id":"invite-item",children:(0,g.jsx)(I,{boardInviteCoverImageUrl:C,boardInviteSenderAvatarUrl:B,boardInviteSenderFullName:D,boardName:O||"",boardUrl:z||"",createdAtDate:E||"",handleDecline:n,isInboxRequestsSectionView:r,username:R||""})}))}(Y,0,function(){var e="collaboratorinvite"===Y.type,t=!e&&null!=Y.board;e?Y.board_data&&m((0,w.xR)(Y.board_data.id,Y.invited_user,k)):Q(),L(e,t,R,h)},n);return(0,g.jsx)(a.xu,{children:J},X)},H=(q=Z(q)).length,Y=[],X=[],W=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(q);try{for(W.s();!(M=W.n()).done;){var Q=M.value;"contactrequest"===Q.type&&Q.conversation&&!Q.board?Y.push(Q):X.push(Q)}}catch(e){W.e(e)}finally{W.f()}return!n&&H>0?(0,g.jsxs)(a.xu,{margin:4,children:[Y.length>0&&(0,g.jsxs)(a.xu,{marginBottom:8,children:[(0,g.jsx)(a.xv,{inline:!0,size:"300",children:h._('Message requests', 'mWeb.Messaging.ContactRequests.MessagingRequests', 'Section header for message requests on all requests page')}),Y.map(function(e,t){return(0,g.jsx)(V,{index:t,inviteItem:e},e.id)})]}),X.length>0&&(0,g.jsxs)(a.xu,{children:[(0,g.jsx)(a.xv,{inline:!0,size:"300",children:h._('Board invites', 'mWeb.Messaging.ContactRequests.BoardInvites', 'Section header for board invites on all requests page')}),X.map(function(e,t){return(0,g.jsx)(V,{index:t,inviteItem:e},e.id)})]})]}):H>0?(0,g.jsx)(a.xu,{margin:4,children:q.slice(0,t||H).map(function(e,t){return(0,g.jsx)(V,{index:t,inviteItem:e},e.id)})}):null}function F(e){var t=(0,j.Z)(),n=(0,o.v9)(function(e){return e.contactRequests}),r=(0,_.Z)({name:"ContactRequestsResource",options:{current_user:!0}}).refresh;(0,f.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});var i=Object.values(n||{}).map(function(e){return e});return(0,g.jsx)(M,z(z({},e),{},{boardInvitesList:t,contactRequestsList:i,contactRequestsResourceRefresh:r}))}},748929:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(1794),o=n(612131),i=n(627973);function a(e,t){return Date.now()-Date.parse(e.toString())>r.F4?(0,o.Z)(e,t,{month:"short",day:"numeric"}):(0,i.Z)(e,t,{hour:"numeric",minute:"numeric"})}},554334:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(545007),o=n(253695),i=n(945011);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(){var e=(0,i.mN)();return(0,r.v9)(function(t){var n=Object.values((0,o.Z)(t)||{});return n?n.map(function(n){var r=t.invites[n],o=t.boards[r.board];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({inviter_data:e(r.invited_by_user),board_data:o},r)}):[]})}},192500:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(578373),o=n(18644),i=n(381366);function a(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(){var e,t,n=(0,i.Z)().conversationCreate;return e=regeneratorRuntime.mark(function e(t){var i,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.Z.create("ConversationsResource",t),e.prev=1,e.next=4,a.callCreate();case 4:(c=e.sent.resource_response.data)&&(n(c),i=c),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),Error((0,o.Z)(e.t0,"message"));case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}},e,null,[[1,9]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,u,"next",e)}function u(e){a(i,r,o,c,u,"throw",e)}c(void 0)})},function(e){return t.apply(this,arguments)}}},945011:function(e,t,n){n.d(t,{Tt:function(){return f},cm:function(){return d},kW:function(){return s},kY:function(){return _},mN:function(){return l}});var r=n(545007),o=n(218291),i=n(882368),a=n(19035),c=(0,o.Z)("Users"),u=c.Provider,s=c.useHook;function l(){var e=s();return function(t){return e[t]}}function d(){var e=s();return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object.keys(e).find(function(n){return e[n].username===t});if(r||!n)return e[null!=r?r:""]}}function f(){var e=(0,i.Z)();return s()[e.isAuth?e.id:""]}function _(e){var t=e.children,n=(0,r.v9)(function(e){return e.users},r.wU);return(0,a.jsx)(u,{value:n,children:t})}},825839:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:r,filter_types:o}}},403212:function(e,t){t.Z=function(e,t,n){return"".concat(e,":").concat(t||"",":").concat(n||"")}},284472:function(e,t,n){n.d(t,{O:function(){return s},Q:function(){return l}});var r=n(801393),o=n(403212),i=n(312702);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var u=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],s={name:"BoardsResource",key:"boardsResource",options:function(e,t){var n=e.boardOrder,r=e.filterStories,o=e.mixPublicSecret,i=e.username,u=e.privacyFilter,s=e.filterAllPins,l=e.filterShoppingList,d=e.includeArchived;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({privacy_filter:void 0===u?"all":u,sort:n||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:i,page_size:25,group_by:o?"mix_public_private":"visibility",include_archived:void 0===d||d,redux_normalize_feed:!0,filter_all_pins:void 0!==s&&s,filter_shopping_list:void 0!==l&&l},t?{orbac_subject_id:t}:Object.freeze({}))}},l=function(e){return u.reduce(function(t,n){var a=[(0,i.N8)("profileBoards",(0,o.Z)(e,n))];return[!0,!1].forEach(function(t){[!0,!1].forEach(function(o){a.push((0,r.jB)(s.name,s.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:o})))})}),t.concat(a)},[])}},488267:function(e,t,n){n.d(t,{Br:function(){return b},Cr:function(){return x},K8:function(){return y},L1:function(){return O},YQ:function(){return w},ZP:function(){return I},aX:function(){return P},eo:function(){return h},md:function(){return p},oG:function(){return m},oL:function(){return j},of:function(){return g},xQ:function(){return S},xR:function(){return A},yT:function(){return v}});var r=n(578373),o=n(69401),i=n(987775),a=n(801393),c=n(825839),u=n(284472);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){l(i,r,o,a,c,"next",e)}function c(e){l(i,r,o,a,c,"throw",e)}a(void 0)})}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function b(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function p(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function h(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var m=function(e,t){return function(n){return n((0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t}}))}};function y(e){return function(t){e&&(0,u.Q)(e).forEach(function(e){t(e)})}}var g=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},S=function(e){return m(e,"pin_count")},x=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},I=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function P(e,t,n){var i=_({name:e,privacy:o.ZP.BoardPrivacy.PUBLIC,username:t},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return r.Z.create("BoardResource",i).callCreate().then(function(n){var r=n.resource_response.data;return e(t&&(0,a.jB)("BoardsResource",(0,c.Z)(t,!1))),r})}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}var A=function(e,t,n){var o;return o=d(regeneratorRuntime.mark(function o(i){var a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),o.next=3,r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();case 3:return(a=o.sent).resource_response.error||n({event_type:29,object_id_str:e}),o.abrupt("return",a);case 6:case"end":return o.stop()}},o)})),function(e){return o.apply(this,arguments)}},w=function(e,t,n,o,i,a){var c;return c=d(regeneratorRuntime.mark(function c(u){var s,l,d;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",u({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!=(s=null==o?void 0:o.id)?s:"",viewingUser:n}}),c.prev=2,c.next=5,r.Z.create(l,_({board_id:e,field_set_key:"boardEdit",invited_user_id:null!=(d=null==o?void 0:o.id)?d:""},a?{orbac_subject_id:a}:{})).callDelete();case 5:c.sent.resource_response.error||i({event_type:"accepted"===t?25:29,object_id_str:e}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(2),u({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:n,status:t,collaboratingUsers:[o]}});case 12:case"end":return c.stop()}},c,null,[[2,9]])})),function(e){return c.apply(this,arguments)}},O=function(e,t,n,o){return function(i){var a=r.Z.create("BoardResource",{board_id:n}).callDelete();return i(h({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:o})),a}}},312702:function(e,t,n){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return r},vX:function(){return c}});var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function c(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},969827:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.users;if(t){var n=Object.keys(t).find(function(e){return void 0!==t[e].login_state});return n?t[n]:void 0}}},253695:function(e,t,n){var r=n(661545),o=n(969827);t.Z=(0,r.P1)(o.Z,function(e){return e.invites},function(e,t){return Object.keys(t).reduce(function(n,r){var o=r.split(":"),i=o[0],a=o[1],c=e.id===a,u=t[r]&&["new","contact_request_not_approved"].includes(t[r].status);return c&&u&&(n[i]=r),n},{})})},661545:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=0,c=o.pop(),u=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return n(e)}).join(", ")+"]");return t}(o),s=e.apply(void 0,[function(){return a++,c.apply(void 0,arguments)}].concat(r)),l=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=u.map(function(n){return n.apply(void 0,[e,t].concat(r))});return s.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(i))};return l.resultFunc=c,l.recomputations=function(){return a},l.resetRecomputations=function(){return a=0},l}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})||(o=e.apply(void 0,i)),n=i,o}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73033-b7fda7180c5cef7d.js.map