(self.legacyJsonp=self.legacyJsonp||[]).push([[98527],{619552:function(e,t,n){"use strict";n.d(t,{E:function(){return o},u:function(){return i}});var r=(0,n(218291).Z)("legacyServerContext"),o=r.Provider,i=r.useHook},409380:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var o,i,a;o=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(i))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{JD:function(){return s},al:function(){return l},f4:function(){return _},iV:function(){return d},tN:function(){return u}});var s={ALGERIA:"DZ",ARGENTINA:"AR",AUSTRALIA:"AU",AUSTRIA:"AT",BAHRAIN:"BH",BELGIUM:"BE",BRAZIL:"BR",BULGARIA:"BG",CANADA:"CA",CHILE:"CL",COLOMBIA:"CO",COSTA_RICA:"CR",CROATIA:"HR",CYPRUS:"CY",CZECHIA:"CZ",DENMARK:"DK",DOMINICAN_REPUBLIC:"DO",ECUADOR:"EC",EGYPT:"EG",ESTONIA:"EE",FINLAND:"FI",FRANCE:"FR",GERMANY:"DE",GREECE:"GR",GUATEMALA:"GT",HONG_KONG:"HK",HUNGARY:"HU",IRAQ:"IQ",IRELAND:"IE",INDIA:"IN",INDONESIA:"ID",ISRAEL:"IL",ITALY:"IT",JAPAN:"JP",KUWAIT:"KW",LATVIA:"LV",LITHUANIA:"LT",LUXEMBOURG:"LU",MALTA:"MT",MALAYSIA:"MY",MEXICO:"MX",MOROCCO:"MA",NETHERLANDS:"NL",NEW_ZEALAND:"NZ",NIGERIA:"NG",NORTH_MACEDONIA:"MK",NORWAY:"NO",OMAN:"OM",PAKISTAN:"PK",PERU:"PE",POLAND:"PL",PORTUGAL:"PT",QATAR:"QA",ROMANIA:"RO",SAUDI_ARABIA:"SA",SERBIA:"RS",SINGAPORE:"SG",SLOVAKIA:"SK",SLOVENIA:"SI",SOUTH_KOREA:"KR",SPAIN:"ES",SWEDEN:"SE",SWITZERLAND:"CH",TAIWAN:"TW",THAILAND:"TH",TURKEY:"TR",UNITED_ARAB_EMIRATES:"AE",UNITED_KINGDOM:"GB",UNITED_STATES:"US",PHILIPPINES:"PH",VIETNAM:"VN",SOUTH_AFRICA:"ZA",UNKNOWN:"UNKNOWN"},l=function(e,t){return({AE:t._('United Arab Emirates', '[m10n]billing.BusinessInformation.country.AE', 'Country in business information form address'),AR:t._('Argentina', '[m10n]billing.BusinessInformation.country.AR', 'Country in business information form address'),AT:t._('Austria', '[m10n]billing.BusinessInformation.country.AT', 'Country in business information form address'),AU:t._('Australia', '[m10n]billing.BusinessInformation.country.AU', 'Country in business information form address'),BE:t._('Belgium', '[m10n]billing.BusinessInformation.country.BE', 'Country in business information form address'),BG:t._('Bulgaria', '[m10n]billing.BusinessInformation.country.BG', 'Country in business information form address'),BH:t._('Bahrain', '[m10n]billing.BusinessInformation.country.BH', 'Country in business information form address'),BR:t._('Brazil', '[m10n]billing.BusinessInformation.country.BR', 'Country in business information form address'),CA:t._('Canada', '[m10n]billing.BusinessInformation.country.CA', 'Country in business information form address'),CH:t._('Switzerland', '[m10n]billing.BusinessInformation.country.CH', 'Country in business information form address'),CL:t._('Chile', '[m10n]billing.BusinessInformation.country.CL', 'Country in business information form address'),CO:t._('Colombia', '[m10n]billing.BusinessInformation.country.CO', 'Country in business information form address'),CR:t._('Costa Rica', '[m10n]billing.BusinessInformation.country.CR', 'Country in business information form address'),CY:t._('Cyprus', '[m10n]billing.BusinessInformation.country.CY', 'Country in business information form address'),CZ:t._('Czechia', '[m10n]billing.BusinessInformation.country.CZ', 'Country in business information form address'),DE:t._('Germany', '[m10n]billing.BusinessInformation.country.DE', 'Country in business information form address'),DK:t._('Denmark', '[m10n]billing.BusinessInformation.country.DK', 'Country in business information form address'),DO:t._('Dominican Republic', '[m10n]billing.BusinessInformation.country.DO', 'Country in business information form address'),DZ:t._('Algeria', '[m10n]billing.BusinessInformation.country.DZ', 'Country in business information form address'),EC:t._('Ecuador', '[m10n]billing.BusinessInformation.country.EC', 'Country in business information form address'),EE:t._('Estonia', '[m10n]billing.BusinessInformation.country.EE', 'Country in business information form address'),EG:t._('Egypt', '[m10n]billing.BusinessInformation.country.EG', 'Country in business information form address'),ES:t._('Spain', '[m10n]billing.BusinessInformation.country.ES', 'Country in business information form address'),FI:t._('Finland', '[m10n]billing.BusinessInformation.country.FI', 'Country in business information form address'),FR:t._('France', '[m10n]billing.BusinessInformation.country.FR', 'Country in business information form address'),GB:t._('United Kingdom', '[m10n]billing.BusinessInformation.country.GB', 'Country in business information form address'),GR:t._('Greece', '[m10n]billing.BusinessInformation.country.GR', 'Country in business information form address'),GT:t._('Guatemala', '[m10n]billing.BusinessInformation.country.GT', 'Country in business information form address'),HK:t._('Hong Kong', '[m10n]billing.BusinessInformation.country.HK', 'Country in business information form address'),HR:t._('Croatia', '[m10n]billing.BusinessInformation.country.HR', 'Country in business information form address'),HU:t._('Hungary', '[m10n]billing.BusinessInformation.country.HU', 'Country in business information form address'),IE:t._('Ireland', '[m10n]billing.BusinessInformation.country.IE', 'Country in business information form address'),IN:t._('India', '[m10n]billing.BusinessInformation.country.IN', 'Country in business information form address'),ID:t._('Indonesia', '[m10n]billing.BusinessInformation.country.ID', 'Country in business information form address'),IL:t._('Israel', '[m10n]billing.BusinessInformation.country.IL', 'Country in business information form address'),IQ:t._('Iraq', '[m10n]billing.BusinessInformation.country.IQ', 'Country in business information form address'),IT:t._('Italy', '[m10n]billing.BusinessInformation.country.IT', 'Country in business information form address'),JP:t._('Japan', '[m10n]billing.BusinessInformation.country.JP', 'Country in business information form address'),KR:t._('South Korea', '[m10n]billing.BusinessInformation.country.KR', 'Country in business information form address'),KW:t._('Kuwait', '[m10n]billing.BusinessInformation.country.KW', 'Country in business information form address'),LT:t._('Lithuania', '[m10n]billing.BusinessInformation.country.LT', 'Country in business information form address'),LU:t._('Luxembourg', '[m10n]billing.BusinessInformation.country.LU', 'Country in business information form address'),LV:t._('Latvia', '[m10n]billing.BusinessInformation.country.LV', 'Country in business information form address'),MA:t._('Morocco', '[m10n]billing.BusinessInformation.country.MA', 'Country in business information form address'),MK:t._('North Macedonia', '[m10n]billing.BusinessInformation.country.MK', 'Country in business information form address'),MT:t._('Malta', '[m10n]billing.BusinessInformation.country.MT', 'Country in business information form address'),MX:t._('Mexico', '[m10n]billing.BusinessInformation.country.MX', 'Country in business information form address'),MY:t._('Malaysia', '[m10n]billing.BusinessInformation.country.MY', 'Country in business information form address'),NG:t._('Nigeria', '[m10n]billing.BusinessInformation.country.NG', 'Country in business information form address'),NL:t._('Netherlands', '[m10n]billing.BusinessInformation.country.NL', 'Country in business information form address'),NO:t._('Norway', '[m10n]billing.BusinessInformation.country.NO', 'Country in business information form address'),NZ:t._('New Zealand', '[m10n]billing.BusinessInformation.country.NZ', 'Country in business information form address'),OM:t._('OMAN', '[m10n]billing.BusinessInformation.country.OM', 'Country in business information form address'),PE:t._('Peru', '[m10n]billing.BusinessInformation.country.PE', 'Country in business information form address'),PH:t._('Philippines', '[m10n]billing.BusinessInformation.country.PH', 'Country in business information form address'),PK:t._('Pakistan', '[m10n]billing.BusinessInformation.country.PK', 'Country in business information form address'),PL:t._('Poland', '[m10n]billing.BusinessInformation.country.PL', 'Country in business information form address'),PT:t._('Portugal', '[m10n]billing.BusinessInformation.country.PT', 'Country in business information form address'),QA:t._('Qatar', '[m10n]billing.BusinessInformation.country.QA', 'Country in business information form address'),RO:t._('Romania', '[m10n]billing.BusinessInformation.country.RO', 'Country in business information form address'),RS:t._('Serbia', '[m10n]billing.BusinessInformation.country.RS', 'Country in business information form address'),SA:t._('Saudi Arabia', '[m10n]billing.BusinessInformation.country.SA', 'Country in business information form address'),SE:t._('Sweden', '[m10n]billing.BusinessInformation.country.SE', 'Country in business information form address'),SG:t._('Singapore', '[m10n]billing.BusinessInformation.country.SG', 'Country in business information form address'),SI:t._('Slovenia', '[m10n]billing.BusinessInformation.country.SI', 'Country in business information form address'),SK:t._('Slovakia', '[m10n]billing.BusinessInformation.country.SK', 'Country in business information form address'),TH:t._('Thailand', '[m10n]billing.BusinessInformation.country.TH', 'Country in business information form address'),TR:t._('Turkey', '[m10n]billing.BusinessInformation.country.TR', 'Country in business information form address'),TW:t._('Taiwan', '[m10n]billing.BusinessInformation.country.TW', 'Country in business information form address'),US:t._('United States', '[m10n]billing.BusinessInformation.country.US', 'Country in business information form address'),VN:t._('Vietnam', '[m10n]billing.BusinessInformation.country.VN', 'Country in business information form address'),ZA:t._('South Africa', '[m10n]billing.BusinessInformation.country.ZA', 'Country in business information form address'),UNKNOWN:t._('Unknown', '[m10n]billing.BusinessInformation.country.UNKNOWN', 'Country in business information form address')})[e]||e},c={IL:9,HK:18,KR:20,SG:21,TW:39,MY:40,VN:41,TH:42,PH:43,ID:44,DO:46,AE:47,TR:48,IN:49,GT:50,SA:51,NG:52,QA:53,PE:54,EG:55,IQ:56,BH:57,CR:58,DZ:59,EC:60,KW:61,MA:62,OM:63,PK:64,ZA:66,US:1,EE:67,LT:68,SI:69,LV:70,BG:71,RS:72,HR:73,MK:74},u=a(a({},c),{},{AR:36,AT:11,AU:5,BE:15,BR:34,CA:3,CH:17,CL:37,CO:38,CY:25,CZ:31,DE:10,DK:23,ES:13,FI:24,FR:7,GB:2,GR:32,HK:18,HU:30,IE:4,IN:49,ID:44,IL:9,IT:12,JP:19,KR:20,LU:26,MT:27,MX:35,MY:40,NL:14,NO:22,NZ:6,PH:43,PL:28,PT:16,RO:29,SE:8,SG:21,SK:33,TH:42,TW:39,US:1,VN:41,UNKNOWN:0}),d=Object.entries(u).reduce(function(e,t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=n[0];return e[n[1]]=r,e},{}),_=Object.values(c)},754322:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(258712);function o(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function i(){return window.innerWidth}function a(){return window.innerHeight}function s(){return null}function l(){var e=(0,r.useSyncExternalStore)(o,a,s),t=(0,r.useSyncExternalStore)(o,i,s);return null!==e&&null!==t?{height:e,width:t}:null}},19963:function(e,t,n){"use strict";n.d(t,{B:function(){return c},v:function(){return l}});var r=n(718369),o=n(218291),i=n(19035),a=(0,o.Z)("ContextLogger"),s=a.Provider,l=a.useHook;function c(e){var t=e.children,n=e.value;return n.injectSetViewContextDataFromHook=(0,r.sV)().setViewContextData,(0,i.jsx)(s,{value:n,children:t})}},397657:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(578373);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){var t=e.url,n=e.method,o=e.data,i=e.ignoreBookmark,s=e.callOptions,l=e.headers,c=a(a({url:t,data:o},null!=i?{ignore_bookmark:i}:{}),"PATCH"===n?{patchInsteadOfPut:!0}:{}),u=r.Z.create("ApiResource",c);switch(n){case"POST":return u.callCreate(s,l);case"PUT":case"PATCH":return u.callUpdate(s,l);case"DELETE":return u.callDelete(s,l);default:return u.callGet(s,l)}}},233846:function(e,t,n){"use strict";n.d(t,{oz:function(){return i},q6:function(){return o}});var r=(0,n(218291).Z)("i18n"),o=r.Provider,i=r.Consumer;t.ZP=r.useHook},174646:function(e,t,n){"use strict";n.d(t,{B:function(){return m},LC:function(){return f},P2:function(){return _},gf:function(){return h}});var r=n(258712),o=n(786420),i=n(136388),a=n(19035);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=(0,r.createContext)(null);function _(e){var t,n=e.children,s=e.initialValue,l=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=l[0],f=l[1],m=(0,r.useMemo)(function(){return{requestContextState:_,updateRequestContext:function(e){var t=c(c({},_),e);(0,i.Z)(_,e)||f(t),(0,o.J)(t)}}},[_]);return(0,a.jsx)(d,{value:m,children:n})}var f=function(e){var t=e.children,n=(0,r.useContext)(d);if(!n)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return t(n.requestContextState)};function m(){var e=(0,r.useContext)(d);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function h(){var e=(0,r.useContext)(d);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},113474:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(258712),o=n(545007),i=n(43535),a=n(741594),s=n(292643);function l(e){var t=null!=e?e:{name:a.fY,options:null},n=t.enabledRouteRefresh,l=t.headers,c=t.name,u=t.noCache,d=t.options,_=t.schema,f=(0,i.Z)(d),m=function(e){var t;return null==(t=e[c])?void 0:t[f]},h=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.nextBookmark}),g=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.data}),p=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.auxData}),b=(0,o.v9)(function(e){var t;return null==(t=m(e.resources))?void 0:t.error}),y=(0,s.Z)({enabledRouteRefresh:n,headers:l,name:c,noCache:u,options:d,schema:_},!e,!0),v=y.fetchResource,A=y.fetchMore,C=y.isFetching,x=y.isLoaded,P=y.isRefreshing,S=y.refresh,w=x&&!C&&h===a.qx;return(0,r.useEffect)(function(){v()}),(0,r.useMemo)(function(){return{auxData:p,data:g,error:b,fetchMore:A,isAtEnd:w,isFetching:C,isLoaded:x,isRefreshing:P,nextBookmark:h,refresh:S}},[p,g,b,A,w,C,x,P,h,S])}},136388:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(Object.is(e,t))return!0;if("object"!==r(e)||null===e||"object"!==r(t)||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every(function(n){return e[n]===t[n]})}n.d(t,{Z:function(){return o}})},697591:function(e,t,n){"use strict";function r(e,t){var n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,t){return n.indexOf("<"+t.toLowerCase()+">")>-1?e:""})}n.d(t,{o:function(){return r}}),t.Z=function(e){return e.replace(/(<([^>]+)>)/gi,"")}},538645:function(e,t,n){"use strict";n.d(t,{HG:function(){return d},Kf:function(){return a},Wb:function(){return u},dA:function(){return s},ds:function(){return l},ml:function(){return c}});var r=n(174504),o=n(174646),i=function(){var e=(0,o.B)();return(0,r.Z)(e)},a=function(e){return"phone"===e},s=function(e){return"tablet"===e},l=function(e){return"desktop"===e},c=function(){return a(i())},u=function(){return s(i())},d=function(){return l(i())};t.ZP=i},882368:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=(0,n(218291).Z)("viewer"),o=r.Provider;t.Z=r.useHook},161218:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(132227),o=n(19035);function i(e){return(0,o.jsx)(r.xu,{direction:"column",display:"flex",justifyContent:"between",marginBottom:4*!e.noSpacing,marginTop:8*!e.noSpacing,children:(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:(0,o.jsxs)(r.kC,{alignContent:"center",gap:4,height:"100%",justifyContent:"center",wrap:!0,children:[(0,o.jsx)(r.kC.Item,{flex:"grow",children:e.title}),e.buttonText&&e.buttonAction&&(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.zx,{color:"red",onClick:e.buttonAction,size:"md",text:e.buttonText})})]})}),void 0!==e.subheading&&(0,o.jsx)(r.xu,{marginTop:2,children:(0,o.jsx)(r.xv,{size:"300",children:e.subheading})})]})})}},596942:function(e,t,n){"use strict";n.d(t,{Ss:function(){return i},e$:function(){return c},hJ:function(){return a},qU:function(){return s},yE:function(){return l}});var r={name:"INTRO",next:"BUSINESS_SELECT",back:null,view_parameter:3770},o={name:"MIDDLEWARE",next:"MIDDLEWARE",back:null,view_parameter:3883},i={v1:{INTRO:r,BUSINESS_SELECT:{name:"BUSINESS_SELECT",next:"ACCOUNT_SELECTION",back:"INTRO",view_parameter:3771},ACCOUNT_SELECTION:{name:"ACCOUNT_SELECTION",next:"TAG_SELECTION",back:"BUSINESS_SELECT",view_parameter:3772},TAG_SELECTION:{name:"TAG_SELECTION",next:"OAUTH",back:"ACCOUNT_SELECTION",view_parameter:3773},OAUTH:{name:"OAUTH",next:"MIDDLEWARE",back:"TAG_SELECTION",view_parameter:3774},MIDDLEWARE:o},v2:{INTRO:r,BUSINESS_SELECT:{name:"BUSINESS_SELECT",next:"CATALOGS",back:"INTRO",view_parameter:3771},CATALOGS:{name:"CATALOGS",next:"ACCOUNT_SELECTION",back:"BUSINESS_SELECT",view_parameter:3881},ACCOUNT_SELECTION:{name:"ACCOUNT_SELECTION",next:"CONVERSION_TAG",back:"CATALOGS",view_parameter:3772},CONVERSION_TAG:{name:"CONVERSION_TAG",next:"OAUTH",back:"ACCOUNT_SELECTION",view_parameter:null},OAUTH:{name:"OAUTH",next:"MIDDLEWARE",back:"CONVERSION_TAG",view_parameter:3774},MIDDLEWARE:o},loja:{INTRO:r,BUSINESS_SELECT:{name:"BUSINESS_SELECT",next:"ACCOUNT_SELECTION",back:"INTRO",view_parameter:3771},ACCOUNT_SELECTION:{name:"ACCOUNT_SELECTION",next:"LOJA_ACCESS_TOKEN",back:"BUSINESS_SELECT",view_parameter:3772},LOJA_ACCESS_TOKEN:{name:"LOJA_ACCESS_TOKEN",next:"LOJA_DOMAIN",back:"ACCOUNT_SELECTION",view_parameter:null},LOJA_DOMAIN:{name:"LOJA_DOMAIN",next:"CATALOGS",back:"LOJA_ACCESS_TOKEN",view_parameter:null},CATALOGS:{name:"CATALOGS",next:"LOJA_CONVERSION_TAG",back:"LOJA_DOMAIN",view_parameter:null},LOJA_CONVERSION_TAG:{name:"LOJA_CONVERSION_TAG",next:"LOJA_CONVERSION_TAG",back:"CATALOGS",view_parameter:null}}},a={currentStep:r,setCurrentStep:function(){},advertiserId:null,setAdvertiserId:function(){},tagId:null,setTagId:function(){},merchantId:null,setMerchantId:function(){},consumerData:null,setConsumerData:function(){},authCode:null,setAuthCode:function(){},clientId:null,setClientId:function(){},partnerAppFeatureFlags:{tags:!0,CAPI:!0,catalog:!0},setPartnerAppFeatureFlags:function(){},integrationAccessToken:"",setIntegrationAccessToken:function(){},externalBusinessId:null,partnerMetadata:null,setPartnerMetadata:function(){}},s="ads:read,ads:write,billing:read,catalogs:read,catalogs:write,user_accounts:read,user_accounts:write,pins:read,pins:write",l="".concat(s,",billing:write");function c(e){return[{errorCode:"401",heading:e._('Can\u2019t access page', '[m10n]ConnectFlow.Error.Error401.Heading', 'Error 401 heading'),subheading:e._('It looks like you\u2019re not authorized to access this page. Try going back.', '[m10n]ConnectFlow.Error.Error401.Subheading', 'Error 401 subheading'),secondaryText:e._('Authentication failed', '[m10n]ConnectFlow.Error.Error401.subheading', 'Error 401 secondary text'),button:e._('Return to setup', '[m10n]ConnectFlow.Error.Error401.Button', 'Error 401 button')},{errorCode:"404",heading:e._('Page not found', '[m10n]ConnectFlow.Error.Error404.Heading', 'Error 404 heading'),subheading:e._('Sorry, the link is broken or the page doesn\u2019t exist. Try going back.', '[m10n]ConnectFlow.Error.Error404.Subheading', 'Error 404 subheading'),secondaryText:"",button:e._('Return to setup', '[m10n]ConnectFlow.Error.Error404.Button', 'Error 404 button')},{errorCode:"500",heading:e._('An error occurred', '[m10n]ConnectFlow.Error.Error500.Heading', 'Error 500 heading'),subheading:e._('Sorry, something went wrong on our end. Please try again.', '[m10n]ConnectFlow.Error.Error500.Subheading', 'Error 500 subheading'),secondaryText:"",button:e._('Retry', '[m10n]ConnectFlow.Error.Error500.Button', 'Error 500 button')},{errorCode:"503",heading:e._('Service unavailable', '[m10n]ConnectFlow.Error.Error503.Heading', 'Error 503 heading'),subheading:e._('Sorry, our server is temporarily unavailable at the moment. Please reload the page or try again later.', '[m10n]ConnectFlow.Error.Error503.Subheading', 'Error 503 subheading'),button:e._('Reload', '[m10n]ConnectFlow.Error.Error503.Button', 'SError 503 button'),secondaryText:e._('Error code: 503', '[m10n]ConnectFlow.Error.Error503.Subheading', 'Error 503 secondary text')},{errorCode:"For all other error codes",heading:e._('Oops, there was an error', '[m10n]ConnectFlow.Error.ErrorDefault.Heading', 'For all other error codes heading'),subheading:e._('Sorry, something went wrong. Check back later or try again.', '[m10n]ConnectFlow.Error.ErrorDefault.Subheading', 'For all other error codes subheading'),button:e._('Retry', '[m10n]ConnectFlow.Error.ErrorDefault.Button', 'For all other error codes button'),secondaryText:e._('Need support? Visit the Help Center', '[m10n]ConnectFlow.Error.ErrorDefault.SecondaryText', 'For all other error codes secondary text')},{errorCode:"oAuth validation timed out",heading:e._('Page timed out', '[m10n]ConnectFlow.Error.OAuthTimeOut.Heading', 'oAuth validation timed out heading'),subheading:e._('The page took too long to respond. Please try again.', '[m10n]ConnectFlow.Error.OAuthTimeOut.Subheading', 'oAuth validation timed out subheading'),button:e._('Retry', '[m10n]ConnectFlow.Error.OAuthTimeOut.Button', 'oAuth validation timed out button'),secondaryText:e._('Need support? Visit the Help Center', '[m10n]ConnectFlow.Error.OAuthTimeOut.SecondaryText', 'oAuth validation timed out secondary text')},{errorCode:"Can’t install Pinterest tag",heading:e._('Unable to install Pinterest tag', '[m10n]ConnectFlow.Error.InstallPinterestTagError.Heading', 'Can\u2019t install Pinterest tag heading'),subheading:e._('Sorry, something went wrong. To install your tag, please contact Pinterest support.', '[m10n]ConnectFlow.Error.InstallPinterestTagError.Subheading', 'Can\u2019t install Pinterest tag subheading'),button:e._('Get help', '[m10n]ConnectFlow.Error.InstallPinterestTagError.Button', 'Can\u2019t install Pinterest tag button'),secondaryText:e._('Need support? Visit the Help Center', '[m10n]ConnectFlow.Error.InstallPinterestTagError.SecondaryText', 'Can\u2019t install Pinterest tag secondary text')},{errorCode:"Pinterest business account is already connected to another store",heading:e._('Pinterest business account already connected', '[m10n]ConnectFlow.Error.BusinessAccountAlreadyConnected.Heading', 'Pinterest business account is already connected to another store heading'),subheading:e._('This business account is already connected to another store. Only one account can be linked to a store. To connect this account, please disconnect from the other store and try again.', '[m10n]ConnectFlow.Error.BusinessAccountAlreadyConnected.Subheading', 'Pinterest business account is already connected to another store subheading'),button:e._('Okay', '[m10n]ConnectFlow.Error.BusinessAccountAlreadyConnected.Button', 'Pinterest business account is already connected to another store button'),secondaryText:e._('Need support? Visit the Help Center', '[m10n]ConnectFlow.Error.BusinessAccountAlreadyConnected.SecondaryText', 'Pinterest business account is already connected to another store secondary text')},{errorCode:"Merchant’s store is already connected to another Pinterest business account",heading:e._('Store already connected', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.heading', 'Merchant\u2019s store is already connected to another Pinterest business account Heading'),subheading:e._('This store is already connected to another Pinterest business account. Only one store can be linked to an account. To connect this store, please disconnect from the other account and try again.', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.subheading', 'Merchant\u2019s store is already connected to another Pinterest business account Subheading'),button:e._('Okay', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.button', 'Merchant\u2019s store is already connected to another Pinterest business account Button'),secondaryText:e._('Need support? Visit the Help Center', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.button', 'Merchant\u2019s store is already connected to another Pinterest business account SecondaryText')},{errorCode:"No Pinterest business account",heading:e._('Can\u2019t connect account', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.Heading', 'No Pinterest business account heading'),subheading:e._('It looks like you\u2019re logged in to your personal Pinterest account. To install this integration, please log in with your Pinterest business account or create a new one.', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.Subheading', 'No Pinterest business account subheading'),secondaryText:"",button:e._('Create business account', '[m10n]ConnectFlow.Error.StoreAlreadyConnected.Button', 'No Pinterest business account button')},{errorCode:"Country of business account is not supported",heading:e._('Can\u2019t connect account', '[m10n]ConnectFlow.Error.CountryIsNotSupported.Heading', 'Country of business account is not supported heading'),subheading:e._('It looks like you\u2019re logged in to your personal Pinterest account. To install this integration, please log in with your Pinterest business account or create a new one.', '[m10n]ConnectFlow.Error.CountryIsNotSupported.Subheading', 'Country of business account is not supported subheading'),secondaryText:"",button:e._('Create business account', '[m10n]ConnectFlow.Error.CountryIsNotSupported.Button', 'Country of business account is not supported button')}]}},162720:function(e,t,n){"use strict";var r=n(258712),o=n(596942);t.Z=(0,r.createContext)(o.hJ)},944777:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(258712),o=n(162720),i=n(992114);function a(){var e=(0,r.useContext)(o.Z).clientId;return[(0,r.useCallback)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.client_id=e,e&&(0,i.nP)(t,{sampleRate:1,tags:n})},[e])]}},292495:function(e,t,n){"use strict";n.d(t,{$7:function(){return p},Ay:function(){return s},B1:function(){return y},CD:function(){return c},Dk:function(){return _},Fc:function(){return k},Kp:function(){return L},NG:function(){return P},QM:function(){return z},T0:function(){return d},TE:function(){return g},WF:function(){return C},Wm:function(){return v},Xm:function(){return S},_N:function(){return I},d7:function(){return a},dt:function(){return E},e_:function(){return j},i_:function(){return x},kY:function(){return h},nV:function(){return o},pC:function(){return l},ph:function(){return m},qg:function(){return w},sg:function(){return f},tZ:function(){return i},tw:function(){return T},uC:function(){return u},uc:function(){return A},xl:function(){return b},yG:function(){return O}});var r=n(409380),o="https://business.pinterest.com/en/pinterest-advertising-services-agreement",i="https://business.pinterest.com/fr/pinterest-advertising-services-agreement",a="https://business.pinterest.com/pt-br/pinterest-advertising-services-agreement",s="https://business.pinterest.com/es/pinterest-advertising-services-agreement/mexico/",l="https://business.pinterest.com/es/pinterest-advertising-services-agreement/argentina/",c="https://business.pinterest.com/es/pinterest-advertising-services-agreement/chile/",u="https://business.pinterest.com/es/pinterest-advertising-services-agreement/colombia/",d="https://business.pinterest.com/ja/pinterest-advertising-services-agreement/",_="https://business.pinterest.com/en-gb/pinterest-advertising-services-agreement",f="https://business.pinterest.com/pinterest-advertising-services-agreement/",m=[1,3],h=[7],g=[34],p=[35],b=[19],y=[36],v=[37],A=[38],C=8,x=9,P=11,S=15,w=16,j=17,I=18,z=19,O=20,E=22,T=23;function k(e,t){var n=x;return m.includes(e)&&!t?n=C:h.includes(e)?n=P:g.includes(e)?n=S:p.includes(e)?n=w:b.includes(e)?n=j:y.includes(e)?n=I:A.includes(e)?n=z:v.includes(e)?n=O:r.f4.includes(e)&&(n=E),n}function L(e){var t=_;return m.includes(e)?t=o:h.includes(e)?t=i:g.includes(e)?t=a:p.includes(e)?t=s:b.includes(e)?t=d:y.includes(e)?t=l:v.includes(e)?t=c:A.includes(e)&&(t=u),t}},556461:function(e,t,n){"use strict";n.d(t,{Z:function(){return tu}});var r=n(258712),o=n(284987),i=n(9711),a=n(132227),s=n(19963),l=n(113474),c=n(233846),u=n(409380),d=n(18644),_=n(397657),f=n(51340),m=n(882368),h=n(19035);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t,n,o=(0,m.Z)(),i=e.countriesList.map(function(e){return{name:e.name,code:e.code}}),s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(o.isAuth&&(null==(n=i.find(function(e){return e.code===o.country}))?void 0:n.code)||i[0].code))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=s[0],c=s[1];return(0,r.useEffect)(function(){e.onCountryChange(l)},[e,l]),(0,h.jsx)(a.EI,{disabled:e.disabled,id:"countries",label:"Country",onChange:function(e){c(e.value)},size:"lg",value:l,children:i.map(function(e){return(0,h.jsx)(a.EI.Option,{label:e.name,value:e.code},e.name)})})}var b=n(944777),y=n(292495);function v(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t,n=(0,c.ZP)(),o=A((0,b.Z)(),1)[0],i=n._('Loading countries list', '[m10n]ConnectFlow.AdCreate.countriesListSpinner.accessibilityLabel', 'Accessibility label for spinner that appears while advertiser countries load'),s=e.onCountriesLoaded,m=A((0,r.useState)(""),2),g=m[0],C=m[1],x=A((0,r.useState)("AR"),2),P=x[0],S=x[1],w=(0,y.Kp)(null!=(t=u.tN[P])?t:0),j=(0,l.Z)({name:"ApiResource",options:{url:"/ads/v4/advertisers/countries/"}}),I=j.isLoaded,z=j.data,O=j.error,E=A((0,r.useState)(!1),2),T=E[0],k=E[1],L=function(t){e.setCreateAdAccError(t)};return((0,r.useEffect)(function(){if(I){var e=O?"error":"success";o("web.business.commerce-integrations.action.get_advertiser_countries_handler.".concat(e))}I&&s&&s()},[s,I,O,o]),I)?z?(0,h.jsx)(a.__,{htmlFor:"create-section",children:(0,h.jsxs)(a.xu,{borderStyle:"shadow",padding:4,rounding:7,width:"96%",children:[(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsx)(a.xv,{size:"400",weight:"bold",children:n._('Create a new ad account', '[m10n]ConnectFlow.AdCreate.heading', 'Heading for section to create a new advertiser account')})}),(0,h.jsxs)(a.kC,{width:"100%",children:[(0,h.jsx)(a.xu,{marginEnd:2,width:"50%",children:(0,h.jsx)(a.nv,{disabled:T,id:"new-acc-text",label:n._('Ad account name', '[m10n]ConnectFlow.AdCreate.accountNameTextField.label', 'Label for text field for advertiser account name'),maxLength:{characterCount:256,errorAccessibilityLabel:n._('Limit reached. You can only use 256 characters in this field.', '[m10n]ConnectFlow.AdCreate.characterLimitAccessibilityLabel', 'Accessibility label for advertiser account creation error')},name:"account-name-input",onChange:function(e){C(e.value)},size:"lg",value:g})}),(0,h.jsx)(a.xu,{width:"50%",children:(0,h.jsx)(p,{countriesList:z,disabled:T,onCountryChange:S})})]}),(0,h.jsx)(a.xu,{marginBottom:4,marginTop:4,children:(0,h.jsx)(a.xv,{color:"subtle",size:"100",children:(0,f.nk)(n._('By creating this account, you represent that you are authorized to do so, and you agree to {{ advertisingAgreement }}', '[m10n]ConnectFlow.AdCreate.disclaimer', 'Legal disclaimer. advertisingAgreement: Link to terms the Pinterest advertising agreement.'),{advertisingAgreement:(0,h.jsx)(a.rU,{display:"inlineBlock",href:w,target:"blank",children:n._('Pinterest Advertising Services Agreement', '[m10n]ConnectFlow.AdCreate.disclaimerAgreement', 'Linked text description for the Pinterest advertising agreement')},"advertising-agreement-link")})})}),(0,h.jsx)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"end",children:(0,h.jsxs)(a.hE,{children:[(0,h.jsx)(a.zx,{accessibilityLabel:n._('Cancel', '[m10n]ConnectFlow.AdCreate.cancelButton.accessibilityLabel', 'Accessibility label for button to cancel advertiser creation'),color:"white",disabled:T,onClick:e.onCancel,text:n._('Cancel', '[m10n]ConnectFlow.AdCreate.cancelButton', 'Button to cancel advertiser creation')}),(0,h.jsx)(a.zx,{accessibilityLabel:n._('Create new account', '[m10n]ConnectFlow.AdCreate.createButton.accessibilityLabel', 'Accessibility label for button to create a new advertiser account'),disabled:T,name:"createAccount",onClick:function(){var t;k(!0),(t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,_.Z)({url:"/ads/v4/advertisers/",method:"POST",data:{name:g,country:P,tos_id:(0,y.Fc)(null!=(n=u.tN[P])?n:0)}});case 3:e.onCreateAdvertiserId(),o("web.business.commerce-integrations.action.create_advertiser.success"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),o("web.business.commerce-integrations.action.create_advertiser.error"),L(String((0,d.Z)(t.t0,"httpStatus")));case 11:k(!1);case 12:case"end":return t.stop()}},t,null,[[0,7]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){v(i,r,o,a,s,"next",e)}function s(e){v(i,r,o,a,s,"throw",e)}a(void 0)})})()},text:n._('Create', '[m10n]ConnectFlow.AdCreate.createButton', 'Button to create a new advertiser account')})]})})]})}):(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xH,{accessibilityLabel:i,show:!0})}):(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xH,{accessibilityLabel:i,show:!0})})}function P(e){return(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.kC,{alignItems:"center",gap:{row:3,column:0},children:(0,h.jsx)(a.xu,{"data-test-id":"adAccount",children:(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(a.xv,{size:"300",weight:"bold",children:e.adAccountName}),(0,h.jsx)(a.xv,{color:"subtle",size:"300",children:"Ad account: "+e.advertiserId})]})})})})}var S=n(754322),w=n(970601),j=n(174646),I=n(971518),z=n(162720);function O(){var e=(0,r.useContext)(z.Z).consumerData,t=(0,m.Z)(),n=t.isAuth?null==t?void 0:t.avatar_color_index:void 0;return(0,h.jsx)(a.xu,{alignSelf:"center",children:e?(0,h.jsxs)(a.kC,{alignItems:"center",alignSelf:"center",gap:6,wrap:!0,children:[(0,h.jsx)(a.xu,{color:"transparent","data-test-id":"pinterest-icon",height:40,width:40,children:(0,h.jsx)(a.JO,{accessibilityLabel:"Pinterest",color:"brandPrimary",icon:"pinterest",inline:!0,size:40})}),(0,h.jsx)(a.xu,{color:"transparent",height:24,width:24,children:(0,h.jsx)(a.JO,{accessibilityLabel:"Connect",icon:"switch-account",inline:!0,size:24})}),(0,h.jsx)(a.xu,{color:"transparent",height:40,width:40,children:(0,h.jsx)(I.qE,{accessibilityLabel:e.partner_name||"",color:n,name:e.partner_name||"",src:e.partner_image||""})})]}):(0,h.jsx)(a.kC,{alignItems:"center",alignSelf:"center",gap:6,wrap:!0,children:(0,h.jsx)(a.xu,{color:"transparent",height:40,width:40,children:(0,h.jsx)(a.JO,{accessibilityLabel:"Pinterest",color:"brandPrimary",icon:"pinterest",inline:!0,size:40})})})})}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return E(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],s=((0,S.Z)()||{}).width,l=!0;l=void 0===e.enablePaddingX||e.enablePaddingX;var c=(0,j.B)().userAgent.isMobile;return(0,r.useEffect)(function(){s&&i(!(c||s<=560))},[c,s]),(0,h.jsx)(a.kC,{justifyContent:"center",minHeight:"100vh",children:(0,h.jsxs)(a.kC,{direction:"column",justifyContent:"center",children:[(0,h.jsx)(w.Z,{unsafeCSS:c?"\n#connectFlowStepContainer {\n  width: 100%;\n  max-width: 33.75rem;\n  max-height: 41.5rem;\n}":"\n#connectFlowStepContainer {\n  max-width: 33.75rem;\n  height: 41.5rem;\n  overflow: scroll;\n}"}),(0,h.jsxs)(a.xu,{alignItems:"stretch",borderStyle:o?"shadow":"none",direction:"column",display:"flex",id:"connectFlowStepContainer",overflow:"hidden",padding:l?o?8:5:0,rounding:4*!!o,children:[(0,h.jsx)(O,{}),e.children]})]})})}var k=n(596942);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t,n=(0,c.ZP)(),o=L((0,b.Z)(),1)[0],i=L((0,r.useState)(!1),2),s=i[0],l=i[1],u=(0,r.useMemo)(function(){return(0,k.e$)(n)},[n]),d={erroCode:n._('Error code:', '[m10n]ConnectFlow.ConnectFlowErrorPage.ErroCode', 'Error code labels'),errorDetails:n._('Error details:', '[m10n]ConnectFlow.ConnectFlowErrorPage.ErroDetails', 'Error code labels')};if((0,r.useEffect)(function(){o("web.business.commerce-integrations.error.page.".concat(e.source))}),(0,r.useEffect)(function(){e.errorCode&&u&&l(u.find(function(t){return e.errorCode===t.errorCode})||u.find(function(e){return"For all other error codes"===e.errorCode}))},[e.errorCode,u]),s)return(0,h.jsx)(a.xu,{children:(0,h.jsx)(T,{children:(0,h.jsx)(a.xu,{direction:"column",display:"flex",justifyContent:"between",marginBottom:12,minHeight:60,children:(0,h.jsxs)(a.xu,{marginTop:6,children:[(0,h.jsx)(a.X6,{accessibilityLevel:1,size:"600",children:s.heading}),(0,h.jsx)(a.xu,{marginBottom:6,marginTop:4,children:(0,h.jsx)(a.xv,{size:"300",children:s.subheading})}),(null==(t=e.buttonOptions)?void 0:t.role)==="link"?(0,h.jsx)(a.ZP,{accessibilityLabel:s.button,color:"red",href:e.buttonOptions.href||"",iconEnd:"visit",onClick:function(){e.buttonAction()},size:"lg",target:e.buttonOptions.target,text:s.button}):(0,h.jsx)(a.zx,{accessibilityLabel:s.button,color:"red",iconEnd:"visit",onClick:function(){e.buttonAction()},size:"lg",text:s.button}),(0,h.jsxs)(a.xu,{marginTop:4,children:[(0,h.jsxs)(a.xv,{color:"subtle",size:"300",children:[" ",(0,h.jsx)(a.xv,{color:"subtle",inline:!0,underline:!0,children:d.erroCode})," ",e.errorCode," "]}),s.secondaryText&&(0,h.jsxs)(a.xv,{color:"subtle",size:"300",children:[d.erroCode," ",s.secondaryText]})]})]})})})});a.xu,a.xH}function B(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(e){var t,n=e.onNext,i=e.isNextBtnDisabled,l=e.hasDivider,u=e.nextBtnText,d=e.children,_=(0,c.ZP)(),f=R((0,b.Z)(),1)[0],m=R((0,r.useState)(!1),2),g=m[0],p=m[1],y=(0,o.UO)().version,v={nextButtonText:u||_._('Next', '[m10n]ConnectFlow.Footer.nextButton', 'Button to go to next step in connection flow'),cancelButtonText:_._('Cancel', '[m10n]ConnectFlow.Footer.cancelButton', 'Button to cancel/exit entire connection flow'),backButtonText:_._('Back', '[m10n]ConnectFlow.Footer.backButton', 'Button to go back one step in the connection flow')},A=(0,r.useContext)(z.Z),C=A.currentStep,x=A.setCurrentStep,P=!!y&&!!C&&!!C.next&&k.Ss[y][C.next],S=!!y&&!!C&&!!C.back&&k.Ss[y][C.back],w=(0,s.v)().logContextEvent,j=function(e,t){var n=t?t.toString().toLowerCase().replace(/\s/g,""):"Unknown",r={current_step:null==C?void 0:C.name,next_step:P&&(null==P?void 0:P.name),back_step:S&&(null==S?void 0:S.name)};f("web.business.commerce-integrations.button.footer.".concat(n,".click"),r),w({event_type:101,component:14138,element:e})};return(0,r.useEffect)(function(){void 0!==window.opener&&window.opener&&p(!0)},[p]),(0,h.jsxs)(a.xu,{marginTop:4,children:[(void 0===l||l)&&(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsx)(a.iz,{})}),d,(0,h.jsxs)(a.xu,{direction:"row",display:"flex",justifyContent:g?"between":"end",marginTop:4,children:[g&&(0,h.jsx)(a.zx,{color:"white",dataTestId:"connect-flow-cancel-button",onClick:function(){j(13147,v.cancelButtonText),window.close()},size:"lg",text:v.cancelButtonText}),(0,h.jsxs)(a.hE,{children:[S&&(0,h.jsx)(a.zx,{color:"gray",dataTestId:"connect-flow-back-button",onClick:function(){j(13146,v.backButtonText),x(S)},size:"lg",text:v.backButtonText}),P&&(0,h.jsx)(a.zx,{color:"red",dataTestId:"connect-flow-next-button",disabled:i,name:"nextButton",onClick:(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(j(13145,v.nextButtonText),e.t0=n,!e.t0){e.next=6;break}return e.next=5,Promise.resolve(n());case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=8;break}return e.abrupt("return");case 8:x(P);case 9:case"end":return e.stop()}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){B(i,r,o,a,s,"next",e)}function s(e){B(i,r,o,a,s,"throw",e)}a(void 0)})}),size:"lg",text:v.nextButtonText})]})]})]})}var Z=n(161218);function H(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t,n,o,i,l,u,d=G((0,b.Z)(),1)[0],f=(0,s.v)().logContextEvent;n=(t=(0,r.useContext)(z.Z)).merchantId,o=t.setMerchantId,l=(function(e){if(Array.isArray(e))return e}(i=(0,b.Z)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(i,1)||function(e,t){if(e){if("string"==typeof e)return M(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(i,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],(0,r.useEffect)(function(){var e,t,r=(e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.Z)({url:"/v3/commerce/product_pin_merchants/",method:"POST",data:{return_merchant_if_already_exists:!0,owner_user:"me",skip_website_verification:!0}});case 3:(t=e.sent).resource_response&&(o(null==(n=t.resource_response.data)?void 0:n.id),l("web.business.commerce-integrations.action.create_merchant.success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l("web.business.commerce-integrations.action.create_merchant.error");case 10:case"end":return e.stop()}},e,null,[[0,7]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,s,"next",e)}function s(e){H(i,r,o,a,s,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});n||r()},[n,o,l]);var m=(0,c.ZP)(),g="accounts",p=G((0,r.useState)(null),2),y=p[0],v=p[1],A=G((0,r.useState)(!1),2),C=A[0],S=A[1],w=G((0,r.useState)(!1),2),j=w[0],I=w[1],O=G((0,r.useState)(null),2),E=O[0],k=O[1],L=G((0,r.useState)(!1),2),F=L[0],B=L[1],R=(0,r.useCallback)(function(e){e&&F&&e.scrollIntoView()},[F]),U={createNewAdAccount:m._('Create new', '[m10n]ConnectFlow.Footer.nextButton', 'Button to go to next step in connection flow'),disabledCreateNewAdAccount:m._('You can only create up to 50 ad accounts', '[m10n]ConnectFlow.AdAccountSelect.toolTip', 'Tooltip used to explain why create ad account form is disabled')},$=function(e){return function(){f({event_type:101,component:14383,element:e})}},K=function(){S(!1),d("web.business.commerce-integrations.button.create_business.close_modal"),$(13691)},V=(0,r.useContext)(z.Z),J=function(e){k(e)},W=function(){e.onCreateAdvertiserId(),$(13692),K()},Y=e.advertiserList&&(e.advertiserList.length>1||1===e.advertiserList.length&&C),X=e.advertiserList&&e.advertiserList.length>=50||!1,q=(0,r.useRef)(null),Q=(0,r.useCallback)(function(){if(!Y)return void I(!1);var e=q.current;e&&I(e.clientHeight<e.scrollHeight&&e.scrollTop>0)},[Y]);return(0,r.useEffect)(function(){Q()},[Q,Y]),(0,r.useEffect)(function(){null===E&&e.advertiserList&&e.advertiserList.length>0&&k(e.advertiserList[0].id)},[E,e.advertiserList]),u=Y?(0,h.jsx)(a.FX,{id:"advertiser-select",legend:"Choose advertiser account",legendDisplay:"hidden",children:(0,h.jsxs)(a.xu,{ref:q,children:[e.advertiserList&&e.advertiserList.map(function(e){return(0,h.jsx)(a.xu,{"data-test-id":"adAccount",marginBottom:4,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,h.jsx)(a.FX.RadioButton,{checked:E===e.id,id:e.id,name:g,onChange:function(){J(e.id)},value:e.id}),(0,h.jsx)(P,{adAccountName:e.name,advertiserId:e.id})]})},e.id)}),C&&(0,h.jsx)(a.xu,{ref:R,children:(0,h.jsxs)(a.kC,{gap:{row:4,column:0},children:[(0,h.jsx)(a.FX.RadioButton,{checked:!1,disabled:!0,id:"create-ad-account-radio-button",name:g,onChange:function(){},value:"create"}),(0,h.jsx)(x,{onCancel:K,onCountriesLoaded:function(){B(!0)},onCreateAdvertiserId:W,setCreateAdAccError:v})]})})]})}):(0,h.jsx)(a.FX,{id:"advertiser-select",legend:"Choose advertiser account",legendDisplay:"hidden",children:(0,h.jsxs)(a.xu,{marginBottom:4,marginEnd:2,marginStart:2,paddingY:4,children:[e.advertiserList&&e.advertiserList.map(function(e){return(0,h.jsx)(P,{adAccountName:e.name,advertiserId:e.id},e.id)}),C&&(0,h.jsx)(x,{onCancel:K,onCreateAdvertiserId:W,setCreateAdAccError:v})]})}),y?(0,h.jsx)(N,{buttonAction:function(){return v(null)},errorCode:y,source:"no_business_account"}):(0,h.jsxs)(T,{children:[(0,h.jsxs)(a.xu,{borderStyle:j?"raisedTopShadow":void 0,children:[(0,h.jsx)(Z.Z,{subheading:m._('Select an existing ad account or create a new one for your business to be able to run ads on Pinterest', '[m10n]ConnectFlow.AdAccountSelect.subheading', 'Subheading of advertiser account selection step in popup'),title:m._('Select your ad account', '[m10n]ConnectFlow.AdAccountSelect.header', 'Title of advertiser account selection step in popup')}),(0,h.jsxs)(a.xu,{alignItems:"center","data-test-id":"connect-flow-ad-account-container",direction:"row",display:"flex",justifyContent:"between",paddingY:4,children:[(0,h.jsx)(a.xv,{size:"400",weight:"bold",children:m._('Ad accounts', '[m10n]ConnectFlow.AdAccountSelect.selectionSectionHeading', 'Heading above section to select or create an advertiser account')}),(0,h.jsxs)(a.kC,{gap:2,children:[X?(0,h.jsx)(a.u,{text:U.disabledCreateNewAdAccount,children:(0,h.jsx)(a.hU,{accessibilityLabel:m._('Create ad account is disabled', '[m10n]ConnectFlow.AdAccountSelect.toolTipIconButton.accessibilityLabel', 'Button used to explain why create ad account form is disabled'),bgColor:"white",icon:"info-circle",iconColor:"gray",size:"sm"})}):(0,h.jsx)(r.Fragment,{}),(0,h.jsx)(a.zx,{accessibilityLabel:m._('Create ad account form', '[m10n]ConnectFlow.AdAccountSelect.createIconButton.accessibilityLabel', 'Button label used to create a new advertiser account'),dataTestId:"connect-flow-create-ad-account-button",disabled:X,iconEnd:"add",name:"createAdButton",onClick:C?function(){}:function(){S(!0),d("web.business.commerce-integrations.button.create_business.show_modal"),$(13690)},size:"sm",text:U.createNewAdAccount,type:"button"})]})]})]}),(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{overflowY:"auto",overflowX:"hidden"}},height:"100%",marginStart:4,children:u}),(0,h.jsx)(D,{isNextBtnDisabled:!E||!V.merchantId,onNext:function(){return V.setAdvertiserId(E),!0}})]})}function V(e){var t=e.children;return(0,h.jsx)(T,{children:(0,h.jsxs)(a.xu,{alignItems:"center",alignSelf:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",marginBottom:10,width:"33.75rem",children:[(0,h.jsx)(a.xH,{accessibilityLabel:"Loading",show:!0}),t]})})}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function W(){var e,t=(function(e){if(Array.isArray(e))return e}(e=(0,b.Z)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,1)||function(e,t){if(e){if("string"==typeof e)return J(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],n=(0,l.Z)({name:"ApiResource",options:{url:"/ads/v4/advertisers/",data:{include_acl:!1}}}),r=n.isLoaded,o=n.refresh,i=n.data,a=n.error;return(r&&t("web.business.commerce-integrations.action.get_advertisers_handler.".concat(a?"error":"success")),r&&i)?(0,h.jsx)(K,{advertiserList:i,onCreateAdvertiserId:o}):(0,h.jsx)(V,{})}function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q=function(e,t){var n=window.location.search,r="business/commerce-integrations/".concat(t||"v1","/connect/");""!==n?r+=n+"&stage=BUSINESS_SELECT":r+="?stage=BUSINESS_SELECT",window.location.assign("/business/switch-account?owner_id= &business_id=".concat(e,"&next=").concat(encodeURIComponent(r)))},ee=function(e,t,n,r,o,i,a,s){if(i){if(!e.advertiserId)throw Error("advertiser id missing from context");if(!e.merchantId)throw Error("merchant id missing from context");if("v1"===i&&!e.tagId)throw Error("tag id missing from context");if("v1"!==i&&!e.partnerAppFeatureFlags)throw Error("feature flags missing from context");var l="string"==typeof n?n:btoa(encodeURIComponent(JSON.stringify(n))),c={},u=btoa(encodeURIComponent(JSON.stringify("v1"===i?q(q({advertiser_id:e.advertiserId,tag_id:e.tagId,merchant_id:e.merchantId},s?{websites:s}:{}),a?{clientHash:a}:{}):q(q({advertiser_id:e.advertiserId,tag_id:e.tagId,merchant_id:e.merchantId,feature_flags:e.partnerAppFeatureFlags},s?{websites:s}:{}),a?{clientHash:a}:{})))),d=[];d.push(t+"="+l),d.push("info="+u),d.push("state="+o);var _=d.join("&"),f=new URL(r);window.location.assign("".concat(f.href,"?").concat(_))}else throw Error("missing version")};function et(e){var t=(0,o.UO)().version,n=e.isLBALoggedIn?function(){return!0}:function(){return Q(e.businessId,t)},r=(0,c.ZP)(),i={businessConfirmHeading:r._('Connect your business account', '[m10n]ConnectFlow.ConnectFlowBusinessConfirm.heading', 'Heading of the Business confirm step of popup UI'),businessConfirmSubheading:r._('Choose the Pinterest business account you\u2019d like to connect', '[m10n]ConnectFlow.ConnectFlowBusinessConfirm.subheading', 'SubHeading of the Business confirm step of popup UI')},s=(0,m.Z)(),l=s.isAuth?null==s?void 0:s.avatar_color_index:void 0;return(0,h.jsx)(a.xu,{children:(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:i.businessConfirmSubheading,title:i.businessConfirmHeading}),(0,h.jsxs)(a.xu,{"data-test-id":"connect-flow-business-account-container",direction:"column",display:"flex",height:"100%",justifyContent:"between",marginTop:4,children:[(0,h.jsx)(a.__,{htmlFor:"lba-label-",children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:3,column:0},children:[(0,h.jsx)(I.qE,{color:l,name:"pfp",size:"lg",src:e.imageUrl}),(0,h.jsx)(a.xu,{"data-test-id":"businessAccount",children:(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(a.xv,{size:"400",children:e.businessName}),(0,h.jsx)(a.xv,{color:"subtle",children:"Business ID: "+e.businessId})]})})]})}),(0,h.jsx)(D,{onNext:n})]})]})})}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function er(e){var t,n=(0,o.UO)().version,i=e.lbaList.map(function(e){return{label:e.full_name,value:e.id,imageUrl:e.image_large_url,disabled:!1}}),s=(0,m.Z)(),l=s.isAuth?null==s?void 0:s.avatar_color_index:void 0,u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,2)||function(e,t){if(e){if("string"==typeof e)return en(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],_=u[1],f=(0,c.ZP)(),g={lbaPageHeading:f._('Connect your business account', '[m10n]ConnectFlow.ConnectFlowLBASelect.heading', 'Heading of the LBA page step of popup UI'),lbaPageSubHeading:f._('Choose the Pinterest business account you\'d like to connect', '[m10n]ConnectFlow.ConnectFlowLBASelect.subheading', 'SubHeading of the LBA page step of popup UI')};return e.lbaList.length>1?(0,h.jsx)(a.xu,{children:(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:g.lbaPageSubHeading,title:g.lbaPageHeading}),(0,h.jsx)(a.xu,{marginTop:2,children:(0,h.jsx)(a.FX,{id:"idhere",legend:"Choose business account",legendDisplay:"hidden",children:i.map(function(e,t){return(0,h.jsx)(a.xu,{"data-test-id":"businessAccount",marginBottom:4,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[(0,h.jsx)(a.FX.RadioButton,{checked:d===e.value,id:e.value,name:"account",onChange:function(){return _(e.value)},value:e.value}),(0,h.jsx)(a.__,{htmlFor:e.value,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:3,column:0},children:[(0,h.jsx)(I.qE,{color:l,name:"pfp",size:"lg",src:e.imageUrl}),(0,h.jsx)(a.xu,{children:(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(a.xv,{size:"400",children:e.label}),(0,h.jsx)(a.xv,{color:"subtle",children:"Business ID: "+e.value})]})})]})})]})},t)})})}),(0,h.jsx)(D,{isNextBtnDisabled:!d,onNext:function(){return Q(d||"",n)}})]})}):(0,h.jsx)(et,{businessId:i[0].value,businessName:i[0].label,imageUrl:i[0].imageUrl,isLBALoggedIn:!1})}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ei(){var e,t=(function(e){if(Array.isArray(e))return e}(e=(0,b.Z)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,1)||function(e,t){if(e){if("string"==typeof e)return eo(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,t):void 0}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],n=(0,s.v)().logContextEvent,r=(0,l.Z)({name:"ApiResource",options:{url:"/v3/users/me/businesses/"}}),o=r.isLoaded,i=r.data,a=r.error,c=(0,l.Z)({name:"ApiResource",options:{url:"/v3/users/me/"}}),u=c.isLoaded,d=c.data,_=c.error;if(o&&t("web.business.commerce-integrations.action.v3_get_linked_business_accounts.".concat(a?"error":"success")),u&&t("web.business.commerce-integrations.action.v3_get_linked_business_accounts.".concat(_?"error":"success")),o&&u){if(i&&i.length>0)return t("web.business.commerce-integrations.page.business.session_ba.view"),(0,h.jsx)(er,{lbaList:i});if(d&&d.is_partner)return t("web.business.commerce-integrations.page.business.session_lba.view"),(0,h.jsx)(et,{businessId:d.partner.id,businessName:d.full_name,imageUrl:d.image_large_url,isLBALoggedIn:!0});if((null==i?void 0:i.length)===0&&!(null!=d&&d.is_partner))return t("web.business.commerce-integrations.page.business.session_user.view"),(0,h.jsx)(N,{buttonAction:function(){t("web.business.commerce-integrations.button.create_business.click"),n({event_type:101,component:14382,element:13689}),window.close()},buttonOptions:{role:"link",href:"/create-business",target:"blank"},errorCode:"No Pinterest business account",source:"no_business_account"})}return(0,h.jsx)(V,{})}function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=ea(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ea(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ea(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eu(){var e,t=(0,c.ZP)(),n=(0,r.useContext)(z.Z),o=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)("connectCatalog"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ec(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],s=o[1],l={catalogPageHeading:t._('Connect your catalog', '[m10n]ConnectFlow.ConnectFlowCatalogs.heading', 'Header of the catalog page step of popup UI'),catalogPageSubheading:t._('By connecting your catalog, your products will be published on Pinterest. A catalog must be connected for products to be eligible for organic and paid performance.', '[m10n]ConnectFlow.ConnectFlowCatalogs.subheading', 'Subheading of the catalog page step of popup UI')},u=[{label:t._('Connect catalog to Pinterest', '[m10n]ConnectFlow.ConnectFlowCatalogs.connectCatalog.label', 'Option to connect catalog to pinterest'),description:t._('Catalog data is automatically refreshed every 24 hours', '[m10n]ConnectFlow.ConnectFlowCatalogs.connectCatalog.description', 'Connect catalogs to pinterest description'),value:"connectCatalog",id:"connectCatalog"},{label:t._('Catalog is already connected', '[m10n]ConnectFlow.ConnectFlowCatalogs.skipStep.label', 'Option to skip the catalog connection'),value:"skipCatalog",id:"skipCatalog"}];return(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:l.catalogPageSubheading,title:l.catalogPageHeading}),(0,h.jsx)(a.xu,{"data-test-id":"connect-flow-catalogs-container",direction:"column",display:"flex",height:"100vh",justifyContent:"between",margin:4,children:(0,h.jsx)(a.FX,{id:"idhere",legend:"Choose business account",legendDisplay:"hidden",children:u.map(function(e,t){return(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsxs)(a.kC,{alignItems:"start",gap:{row:2,column:0},children:[(0,h.jsx)(a.FX.RadioButton,{checked:i===e.value,id:e.id,name:"account",onChange:function(){return s(e.value)},value:e.value}),(0,h.jsx)(a.__,{htmlFor:e.value,children:(0,h.jsx)(a.kC,{alignItems:"center",gap:{row:3,column:0},children:(0,h.jsx)(a.xu,{children:(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(a.xv,{size:"300",weight:"bold",children:e.label}),(0,h.jsx)(a.xv,{color:"subtle",children:e.description})]})})})})]})},t)})})}),(0,h.jsx)(D,{onNext:function(){if(!n.partnerAppFeatureFlags)throw Error("missing feature flags in context");return n.setPartnerAppFeatureFlags(el(el({},n.partnerAppFeatureFlags),{},{catalog:"skipCatalog"!==i})),!0}})]})}var ed=n(142212);function e_(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function em(){var e,t,n=(0,c.ZP)(),o=(0,r.useContext)(z.Z).advertiserId,i=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ef(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=i[0],l=i[1],u=ed.$hN+"#Verify%20your%20Setup",d={noteMessage:n._('Please note: If you\u2019ve already set up the Pinterest Tag, it will be duplicated to ensure all conversions are captured.', '[m10n]ConnectFlow.ConnectFlowConversionTagNote.noteMessage', 'Note message for setting up conversion of popup UI.learnMore: Link to documentation for verifying setup.'),learnMore:n._('Learn more.', '[m10n]ConnectFlow.ConnectFlowConversionTagNote.learnMore', 'Link to documentation for verifying setup.'),accessibilityLabel:n._('Link to documentation how to verify setup ', '[m10n]ConnectFlow.ConnectFlowConversionTagNote.accessibilityLabel', 'Accessibily label for a link to documentation')};return(0,r.useEffect)(function(){var e,t,n=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=6;break}return e.next=3,(0,_.Z)({url:"/ads/v4/advertisers/".concat(o,"/conversions/latest")});case 3:(t=e.sent.resource_response.data)&&l(t);case 6:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){e_(i,r,o,a,s,"next",e)}function s(e){e_(i,r,o,a,s,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});o&&n()},[o]),s&&((t=new Date).setDate(t.getDate()-30),s&&Object.values(s).some(function(e){return"number"==typeof e&&new Date(e/1e6)>t}))?(0,h.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,h.jsx)(a.he,{helperLink:{text:d.learnMore,href:u,accessibilityLabel:d.accessibilityLabel,target:"blank"},message:d.noteMessage,type:"warning"})}):null}var eh=n(121006);function eg(e){var t=(0,c.ZP)(),n={label:t._('Not now', '[m10n]ConnectFlow.ConnectFlowConversionTag.skipStep.label', 'Option to skip the conversion tag'),value:"",id:"skipConversionTag"};return(0,h.jsx)(a.xu,{"data-test-id":"connect-flow-conversion-tag-container",direction:"column",display:"flex",height:"100vh",justifyContent:"between",margin:4,overflow:"scrollY",children:(0,h.jsxs)(a.FX,{id:"Tag options",legend:"Choose tag",legendDisplay:"hidden",children:[e.tagArray.map(function(n,r){return(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsxs)(a.kC,{alignItems:"start",gap:{row:2,column:0},children:[(0,h.jsx)(a.FX.RadioButton,{checked:e.tagSelected===n.id,id:n.id,name:"Tag Selection",onChange:function(){return e.setTagSelected(n.id)},value:n.id}),(0,h.jsx)(a.__,{htmlFor:n.id,children:(0,h.jsx)(a.kC,{alignItems:"center",gap:{row:3,column:0},children:(0,h.jsx)(a.xu,{children:(0,h.jsxs)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},children:[(0,h.jsx)(a.xv,{size:"300",weight:"bold",children:(0,eh.Z)(t._('Conversions API and Pinterest Tag ({{ tagName }})', '[m10n]ConnectFlow.ConnectFlowConversionTag.tagNameText ', 'Text and tag name option. tagName: Name of tag'),{tagName:n.name})}),(0,h.jsx)(a.xv,{color:"subtle",children:(0,eh.Z)(t._('Tag ID: {{ tagId }}', '[m10n]ConnectFlow.ConnectFlowConversionTag.tagIdText ', 'Text and tag Id option. tagId: Id of tag'),{tagId:n.id})})]})})})})]})},r)}),(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsxs)(a.kC,{alignItems:"start",gap:{row:2,column:0},children:[(0,h.jsx)(a.FX.RadioButton,{checked:e.tagSelected===n.value,id:n.id,name:"Tag Selection",onChange:function(){return e.setTagSelected(n.value)},value:n.value}),(0,h.jsx)(a.__,{htmlFor:n.id,children:(0,h.jsx)(a.kC,{alignItems:"center",gap:{row:3,column:0},children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},children:(0,h.jsx)(a.xv,{size:"300",weight:"bold",children:n.label})})})})})]})})]})})}function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ep(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ep(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ev(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function eA(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ev(i,r,o,a,s,"next",e)}function s(e){ev(i,r,o,a,s,"throw",e)}a(void 0)})}}function eC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ex(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eP=function(){var e,t=(0,c.ZP)(),n=eC((0,b.Z)(),1)[0],o=(0,r.useContext)(z.Z),i=o.advertiserId,s=o.setTagId,l=o.partnerAppFeatureFlags,u=o.setPartnerAppFeatureFlags,d=eC((0,r.useState)([]),2),m=d[0],g=d[1],p=eC((0,r.useState)(null),2),y=p[0],v=p[1],A=eC((0,r.useState)(!1),2),C=A[0],x=A[1],P=["aem_db_enabled","aem_fnln_enabled","aem_ge_enabled","aem_loc_enabled","aem_enabled","aem_ph_enabled"],S={catalogPageHeading:t._('Set up conversion tracking', '[m10n]ConnectFlow.ConnectFlowConversionTag.heading', 'Header of the conversion tag page step of popup UI'),catalogPageSubheading:(0,f.nk)(t._('Select your Pinterest tag to install the Conversions API. This will allow you to understand what actions users take on your website after seeing your products on Pinterest. {{learnMore}}', '[m10n]ConnectFlow.ConnectFlowConversionTag.subheading', 'Subheading of the conversion tag page step of popup UIlearnMore: Link to Pinterest Conversions API.'),{learnMore:(0,h.jsx)(a.xv,{children:(0,h.jsx)(a.rU,{href:ed.fAF,underline:"always",children:t._('Learn more', '[m10n]ConnectFlow.ConnectFlowConversionTagSelect.learnMore', 'Link to Pinterest Conversions API')})},"learnMore")}),footerTerms:(0,f.nk)(t._('By clicking \u201CNext,\u201D you agree to Pinterest`s {{advertisingGuidelines}}', '[m10n]ConnectFlow.ConnectFlowConversionTagSelect.footerTerms', 'Footer Terms in tag select page step of popup UI.advertisingGuidelines: Link to terms of advertising guidelines.'),{advertisingGuidelines:(0,h.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:ed.mlq,target:"blank",underline:"always",children:t._('Advertising Guidelines', '[m10n]ConnectFlow.ConnectFlowConversionTagSelect.advertisingGuidelinesTerms', 'Link to Pinterest Advertising Guidelines')})},"advertisingGuidelinesTerms")})};(0,r.useEffect)(function(){var e,t=function(){x(!0),n("web.business.commerce-integrations.action.create_tag.error")},r=(e=eA(regeneratorRuntime.mark(function e(){var r,o,a,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=22;break}return e.next=3,(0,_.Z)({url:"/ads/v4/advertisers/".concat(i,"/conversion_tags/")});case 3:if(!((r=e.sent.resource_response.data)&&Object.keys(r).length>0)){e.next=12;break}for(a in o=[],r)"ACTIVE"===r[a].status&&o.push({name:r[a].name,id:r[a].id,configs:r[a].configs});g(o),v(o[0].id),e.next=22;break;case 12:return e.prev=12,e.next=15,(0,_.Z)({url:"/ads/v4/advertisers/".concat(i,"/conversion_tags"),method:"POST",data:{name:"Pinterest Tag"}});case 15:null!=(s=(l=e.sent).resource_response.data)&&s.id&&(g([{name:l.resource_response.data.name,id:l.resource_response.data.id,configs:l.resource_response.data.configs}]),v((null==(c=l.resource_response.data)?void 0:c.id)||null),n("web.business.commerce-integrations.action.create_tag.success")),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),t();case 22:case"end":return e.stop()}},e,null,[[12,19]])})),function(){return e.apply(this,arguments)});i&&r()},[i,n]);var w=(e=eA(regeneratorRuntime.mark(function e(){var t,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==y){e.next=2;break}return e.abrupt("return");case 2:if(r=null==(t=m.find(function(e){return e.id===y}))?void 0:t.configs,!P.some(function(e){return(null==r?void 0:r[e])===!0})){e.next=6;break}return e.abrupt("return");case 6:if(!i){e.next=17;break}return e.prev=7,e.next=10,(0,_.Z)({url:"/ads/v4/advertisers/".concat(i,"/conversion_tags/"),method:"PATCH",data:{id:y,aem_enabled:!0,aem_ge_enabled:!0,aem_ph_enabled:!0,aem_loc_enabled:!0,aem_fnln_enabled:!0,aem_db_enabled:!0}});case 10:null!=(o=(a=e.sent).resource_response.data)&&o.id&&(g(m.map(function(e){if(e.id===y){var t,n,r;return{id:null==(t=a.resource_response.data)?void 0:t.id,name:null==(n=a.resource_response.data)?void 0:n.name,configs:null==(r=a.resource_response.data)?void 0:r.configs}}return e})),n("web.business.commerce-integrations.action.enable_conversion_tag.success")),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),n("web.business.commerce-integrations.action.enable_conversion_tag.error");case 17:case"end":return e.stop()}},e,null,[[7,14]])})),function(){return e.apply(this,arguments)});return{tagArray:m,tagSelected:y,setTagSelected:v,createTagError:C,LABELS:S,setCreateTagError:x,updateContextAndFlags:function(){if(s(y),!l)throw Error("missing feature flags in context");return u(ey(ey({},l),{},{tags:""!==y,CAPI:""!==y})),!0},enableAEMConversionTag:w}};function eS(){var e=eP(),t=e.tagArray,n=e.tagSelected,r=e.setTagSelected,o=e.createTagError,i=e.setCreateTagError,s=e.LABELS,l=e.enableAEMConversionTag,c=e.updateContextAndFlags;return o?(0,h.jsx)(N,{buttonAction:function(){i(!1)},buttonOptions:{role:"button",target:"blank"},errorCode:"Error to create a tag",source:"createTag"}):t.length<1?(0,h.jsx)(V,{}):(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:s.catalogPageSubheading,title:s.catalogPageHeading}),(0,h.jsx)(eg,{setTagSelected:r,tagArray:t,tagSelected:n}),(0,h.jsx)(em,{}),(0,h.jsx)(D,{onNext:function(){return l(),c()},children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xv,{color:"subtle",size:"100",children:s.footerTerms})})})]})}var ew=n(619552);function ej(){var e=(0,ew.u)().is_sterling_on_steroids,t=(0,c.ZP)(),n={introPageHeader:t._('Grow your business with Pinterest', '[m10n]ConnectFlow.ConnectFlowIntro.header', 'Header of the intro page step of popup UI'),uploadCatalogHeading:t._('Automatically turn products into Pins', '[m10n]ConnectFlow.ConnectFlowIntro.uploadCatalogHeading', 'Upload catalog heading in the intro page step of popup UI'),uploadCatalogSubHeading:t._('Turn every product into a Pin, or image that you may promote at any time', '[m10n]ConnectFlow.ConnectFlowIntro.uploadCatalogSubHeading', 'Upload catalog subheading in the intro page step of popup UI'),increaseReachHeading:t._('Reach more shoppers', '[m10n]ConnectFlow.ConnectFlowIntro.increaseReachHeading', 'Increase reach heading in the intro page step of popup UI'),increaseReachSubHeading:t._('Help shoppers discover your products on their path to purchase', '[m10n]ConnectFlow.ConnectFlowIntro.increaseReachSubHeading', 'Increase reach subheading in the intro page step of popup UI'),optimizeConversionHeading:t._('Track and optimize conversions', '[m10n]ConnectFlow.ConnectFlowIntro.optimizeConversion', 'Optimize conversion heading in the intro page step of popup UI'),optimizeConversionSubHeading:t._('Promote the products that shoppers want most', '[m10n]ConnectFlow.ConnectFlowIntro.optimizeConversionSubHeading', 'Optimize conversion subheading in the intro page step of popup UI'),footerTerms:(0,f.nk)(t._('By clicking "Get started", you agree to Pinterest\'s {{ businessTermsOfService }} and acknowledge our {{ privacyPolicy }}. By advertising on Pinterest, you agree to {{ advertisingServiceAgreement }} and {{ adDataTerms }}.', '[m10n]ConnectFlow.ConnectFlowIntro.footerTerms', 'Footer Terms in the intro page step of popup UI.businessTermsOfService: Link to terms of service.privacyPolicy: Link to privacy policy.advertisingServiceAgreement: Link to Advertising Service Agreement.adDataTerms: Link to ad data terms.'),{businessTermsOfService:(0,h.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-terms-of-service-link",display:"inlineBlock",href:ed.V$B,target:"blank",underline:"always",children:t._('Business Terms of Service', '[m10n]ConnectFlow.ConnectFlowIntro.businessTerms', 'Link to Pinterest Business Terms of Service')})},"businessTerms"),privacyPolicy:(0,h.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-privacy-policy-link",display:"inlineBlock",href:ed.R_9,target:"blank",underline:"always",children:t._('Privacy Policy', '[m10n]ConnectFlow.ConnectFlowIntro.privacyPolicy', 'Link to Pinterest Privacy Policy')})},"privacyPolicy"),advertisingServiceAgreement:(0,h.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-advertising-service-agreement-link",display:"inlineBlock",href:y.nV,target:"blank",underline:"always",children:t._('Pinterest Advertising Services Agreement', '[m10n]ConnectFlow.ConnectFlowIntro.advertisingServiceAgreement', 'Link to Pinterest Advertising Service Agreement')})},"advertisingServiceAgreement"),adDataTerms:(0,h.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-terms-link",display:"inlineBlock",href:"https://policy.pinterest.com/ad-data-terms",target:"blank",underline:"always",children:t._('Ad Data Terms', '[m10n]ConnectFlow.ConnectFlowIntro.adDataTerms', 'Link to Pinterest Ad Data Terms')})},"adDataTerms")}),getStartedButton:t._('Get started', '[m10n]ConnectFlow.ConnectFlowIntro.getStartedButton', 'Button to begin connection flow'),sosErrorBannerText:t._('Pinterest Business connect plugin is disabled in Admin Mode.', '[m10n]ConnectFlow.ConnectFlowIntro.sosErrorBannerText', 'Text for error banner when user is in sos mode')};return(0,h.jsxs)(T,{children:[(0,h.jsx)(w.Z,{unsafeCSS:"\n.ConnectFlowIntroList {\n    width: 90%;\n}\n.ConnectFlowIntroList li {\n  margin-bottom: 1.5rem;\n}"}),(0,h.jsx)(Z.Z,{title:n.introPageHeader}),e&&(0,h.jsx)(a.he,{message:n.sosErrorBannerText,type:"error"}),(0,h.jsxs)(a.xu,{"data-test-id":"connect-flow-intro-container",direction:"column",display:"flex",height:"100%",justifyContent:"between",marginTop:4,children:[(0,h.jsx)(a.xu,{children:(0,h.jsxs)("ul",{className:"ConnectFlowIntroList",children:[(0,h.jsx)("li",{children:(0,h.jsxs)(a.kC,{gap:4,children:[(0,h.jsx)(a.JO,{accessibilityLabel:"Go to next steps",color:"dark",icon:"angled-pin",size:24}),(0,h.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,h.jsx)(a.xv,{weight:"bold",children:n.uploadCatalogHeading}),(0,h.jsx)(a.xv,{color:"subtle",children:n.uploadCatalogSubHeading})]})]})}),(0,h.jsx)("li",{children:(0,h.jsxs)(a.kC,{gap:4,children:[(0,h.jsx)(a.JO,{accessibilityLabel:"Go to next steps",color:"dark",icon:"shopping-bag",size:24}),(0,h.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,h.jsx)(a.xv,{weight:"bold",children:n.increaseReachHeading}),(0,h.jsx)(a.xv,{color:"subtle",children:n.increaseReachSubHeading})]})]})}),(0,h.jsx)("li",{children:(0,h.jsxs)(a.kC,{gap:4,children:[(0,h.jsx)(a.JO,{accessibilityLabel:"Go to next steps",color:"dark",icon:"trending",size:24}),(0,h.jsxs)(a.kC,{direction:"column",gap:1,children:[(0,h.jsx)(a.xv,{weight:"bold",children:n.optimizeConversionHeading}),(0,h.jsx)(a.xv,{color:"subtle",children:n.optimizeConversionSubHeading})]})]})})]})}),(0,h.jsx)(D,{isNextBtnDisabled:e,nextBtnText:n.getStartedButton,children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xv,{color:"subtle",size:"100",children:n.footerTerms})})})]})]})}var eI=n(32526);function ez(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function eO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eE(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eT(){var e=(0,o.UO)().version,t=(0,c.ZP)(),n=eO((0,b.Z)(),1)[0],i=(0,eI.Z)(),s=i.redirect_uri,l=i.websites,u=eO((0,r.useState)(!1),2),f=u[0],m=u[1],g=eO((0,r.useState)(!1),2),p=g[0],y=g[1],v={heading:t._('Allow this site access?', '[m10n]ConnectFlow.MiddleWarePage.heading', 'Heading for the header in the middleware step in popup UI'),subheading:t._('You\'re about to grant this site access to your Pinterest data (such as your accounts, product feeds, boards and Pins):', '[m10n]ConnectFlow.MiddleWarePage.heading', 'Heading for the header in the middleware step in popup UI'),allowButton:t._('Allow', '[m10n]ConnectFlow.MiddleWarePage.allowButton', 'Button to allow third party authorization in middleware step in popup'),terms:t._('Yes, allow this site to access my Pinterest data', '[m10n]ConnectFlow.MiddleWarePage.terms', 'Checkbox to accept terms in the middleware step in popup')},A=(0,r.useContext)(z.Z);return A.authCode?(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{title:v.heading}),(0,h.jsxs)(a.xu,{height:"100%",marginTop:4,children:[(0,h.jsxs)(a.xv,{children:[" ",v.subheading," "]}),(0,h.jsx)(a.xu,{marginTop:4,children:(0,h.jsx)(a.kC,{direction:"column",children:(0,h.jsx)(a.xu,{color:"secondary",padding:4,rounding:4,children:(0,h.jsx)(a.xv,{weight:"bold",children:s})})})})]}),(0,h.jsx)(D,{isNextBtnDisabled:!f||p,nextBtnText:v.allowButton,onNext:function(){var t;(t=regeneratorRuntime.mark(function t(){var r,o,a,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,r={feature_flags:A.partnerAppFeatureFlags},t.next=5,(0,_.Z)({url:"/v3/oauth/commerce_integrations/tokens/",method:"POST",data:{client_id:i.client_id,authorization_code:A.authCode,advertiser_id:A.advertiserId,merchant_id:A.merchantId,tag_id:A.tagId,store_id:i.store_id,partner_metadata:JSON.stringify(r)}});case 5:(o=t.sent).resource_response&&(c=o.resource_response.data,u=null==(a=A.consumerData)?void 0:a.clientHash,c&&u&&(n("web.business.commerce-integrations.action.auth.success"),ee(A,"token_data",c,s,i.state,e,u,l))),t.next=14;break;case 9:throw t.prev=9,t.t0=t.catch(1),y(!1),n("web.business.commerce-integrations.action.auth.error"),Error("access token creation fail: "+(0,d.Z)(t.t0,"message"));case 14:case"end":return t.stop()}},t,null,[[1,9]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){ez(i,r,o,a,s,"next",e)}function s(e){ez(i,r,o,a,s,"throw",e)}a(void 0)})})()},children:(0,h.jsx)(a.xu,{"data-test-id":"middleware-allow-access",marginTop:2,children:(0,h.jsx)(a.XZ,{checked:f,id:"terms",label:v.terms,name:"terms",onChange:function(e){return m(e.checked)}})})})]}):(0,h.jsx)(V,{})}var ek=n(578373);function eL(e){var t=e.clientName,n=(0,c.ZP)();return(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xv,{color:"subtle",size:"100",children:(0,f.nk)(n._('We recommend reviewing the privacy policy for {{client}}. Connect is covered by Pinterest\'s {{ termsOfService }}, {{ businessTermsOfService }} and {{ privacyPolicy }}.', '[m10n]ConnectFlow.OAuth.disclaimer', 'Legal disclaimer. client: parter platform name. termsOfService: Link to Pinterest\'s terms of service. businessTermsOfService: Link to the Pinterest\'s Business Terms of Service. privacyPolicy: Link to Pinterest\'s privacy policy.'),{client:t,termsOfService:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-oauth-terms-of-service-link",display:"inlineBlock",href:ed.F20,target:"blank",children:n._('Terms of Service', '[m10n]ConnectFlow.OAuth.disclaimer.tos', 'Linked text description for the Terms of Service')},"termsOfService"),businessTermsOfService:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-oauth-terms-of-service-link",display:"inlineBlock",href:ed.V$B,target:"blank",children:n._('Business Terms of Service', '[m10n]ConnectFlow.OAuth.disclaimer.businessTermsOfService', 'Linked text description for the Business Terms of Service')},"businessTermsOfService"),privacyPolicy:(0,h.jsx)(a.rU,{dataTestId:"connect-flow-oauth-privacy-policy-link",display:"inlineBlock",href:ed.R_9,target:"blank",children:n._('Privacy Policy', '[m10n]ConnectFlow.OAuth.disclaimer.privacyPolicy', 'Linked text description for the Privacy Policy')},"privacyPolicy")})})})}function eF(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function eN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eB(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eB(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eR=["1468414"];function eU(){var e,t=(0,o.UO)().version,n=(0,c.ZP)(),i=eN((0,b.Z)(),1)[0],s=(0,eI.Z)(),l=(0,r.useContext)(z.Z),u=s.client_id,_=s.websites,m=s.use_middleware&&JSON.parse(s.use_middleware),g=null==(e=l.consumerData)?void 0:e.middleware_client_uri,p=eN((0,r.useState)(!1),2),y=p[0],v=p[1],A=function(){if(!m)return!1;if(g)return!0;throw i("web.business.commerce-integrations.action.oauth.middleware_access_denied"),Error("middleware access denied")},C=eN((0,r.useState)("Client name here"),2),x=C[0],P=C[1],S=function(e){var t=g||s.redirect_uri,n=eR.includes(u)?k.yE:k.qU;return ek.Z.create("OAuthAuthorizationResource",{consumer_id:u,response_type:"code",scope:n,redirect_uri:t,authorized:e})},j=eN((0,r.useState)(null),2),I=j[0],O=j[1];(0,r.useEffect)(function(){S(!1).callGet().then(function(e){O(null==(t=e.resource_response.data)?void 0:t.scope_descriptions);var t,n,r=null==(n=e.resource_response.data)?void 0:n.consumer;r&&r.name&&(P(r.name),i("web.business.commerce-integrations.action.oauth.get_client_name"))}).catch(function(e){throw i("web.business.commerce-integrations.action.oauth.error_getting_oauth_resource"),Error(e)})},[]);var E=n._('Connect', '[m10n]ConnectFlow.Footer.connectButton', 'Button to go to next step in connection flow');return I?(0,h.jsx)(a.xu,{children:(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:(0,h.jsxs)(a.xu,{"data-test-id":"oauth-subheading",children:[(0,f.nk)(n._('Connecting your Pinterest account will allow {{client}} to:', '[m10n]ConnectFlow.OAuth.subheading', 'Subheading of OAuth autorization step in popup. client: Partner platform name.'),{client:(0,h.jsx)("b",{children:x},"client-name-string")})," "]}),title:(0,f.nk)(n._('Connect Pinterest to {{client}}', '[m10n]ConnectFlow.OAuth.header', 'Title of OAuth autorization step in popup. client: Partner platform name.'),{client:x})}),(0,h.jsx)(a.xu,{"data-test-id":"oauth-content-section",height:"100%",marginTop:4,overflow:"auto",children:(0,h.jsxs)(a.xu,{paddingX:4,children:[(0,h.jsx)(w.Z,{unsafeCSS:"\n.ConnectFlowOauthList li {\n  list-style-type: disc;\n  margin-bottom: 0.5rem;\n}"}),(0,h.jsx)("ul",{className:"ConnectFlowOauthList",children:Object.keys(I).map(function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(a.xv,{children:I[e]})},e)})})]})}),(0,h.jsx)(D,{isNextBtnDisabled:y,nextBtnText:E,onNext:function(){v(!0);var e,n=A();return(e=regeneratorRuntime.mark(function e(){var r,o,a,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=S(!0),e.prev=1,e.next=4,r.callCreate();case 4:(o=e.sent).resource_response&&(c=null==(a=o.resource_response.data)?void 0:a.code,n?l.setAuthCode(c):(i("web.business.commerce-integrations.action.oauth.success"),ee(l,"code",c,s.redirect_uri,s.state,t,void 0,_))),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),v(!1),i("web.business.commerce-integrations.action.oauth.auth_code_creation_fail"),Error("auth code creation fail: "+(0,d.Z)(e.t0,"message"));case 13:case"end":return e.stop()}},e,null,[[1,8]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eF(i,r,o,a,s,"next",e)}function s(e){eF(i,r,o,a,s,"throw",e)}a(void 0)})})(),n},children:(0,h.jsx)(eL,{clientName:x})})]})}):(0,h.jsx)(V,{})}function eD(e){var t=(0,r.useContext)(z.Z),n=t.tagId,o=t.setTagId,i=t.merchantId,s=(0,c.ZP)(),l={tagSelectHeading:s._('Discover your best performing ads with the Pinterest tag', '[m10n]ConnectFlow.ConnectFlowPinterestTagSelect.heading', 'Heading of the Tag Select page step of popup UI'),tagSelectHeadingSubHeading:s._('Automatically install the Pinterest tag to measure the effectiveness of your ads by understanding the actions people take on your website', '[m10n]ConnectFlow.ConnectFlowPinterestTagSelect.subheading', 'SubHeading of the Tag Select page step of popup UI'),footerTerms:(0,f.nk)(s._('By clicking \u201CNext,\u201D you agree to Pinterest\'s {{ adGuidelines }}', '[m10n]ConnectFlow.ConnectFlowPinterestTagSelect.footerTerms', 'Terms of the Tag Select page step of popup UI. adGuidelines: Link to the advertising guidelines'),{adGuidelines:(0,h.jsx)(a.xv,{color:"subtle",inline:!0,size:"100",children:(0,h.jsx)(a.rU,{display:"inlineBlock",href:"/_/_/policy/advertising-guidelines",target:"blank",underline:"always",children:s._('Advertising Guidelines', '[m10n]ConnectFlow.ConnectFlowPinterestTagSelect.adGuidelines', 'Link to Pinterest Business Terms of Service')})},"footerTerms")})};return((0,r.useEffect)(function(){!n&&e.tagArray.length>0&&o(e.tagArray[0].id||null)}),n&&i)?(0,h.jsx)(a.xu,{children:(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:l.tagSelectHeadingSubHeading,title:l.tagSelectHeading}),(0,h.jsx)(a.xu,{"data-test-id":"tagList",height:"100%",marginTop:4,children:(0,h.jsx)(a.EI,{disabled:!(e.tagArray.length>1),id:"tagSelectList",onChange:function(e){o(e.value)},size:"lg",value:n,children:e.tagArray.map(function(e){return(0,h.jsx)(a.EI.Option,{label:(0,eh.Z)(s._('Pinterest tag: {{ tagId }}', '[m10n]ConnectFlow.ConnectFlowPinterestTagSelect.tagIdTex ', 'List of potential Tag Ids on the Tag Select page step of popup UI tagId: Id of the potential ids to choose from'),{tagId:e.id}),value:e.id},e.id)})})}),(0,h.jsx)(D,{children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xv,{color:"subtle",size:"100",children:l.footerTerms})})})]})}):(0,h.jsx)(V,{})}function eZ(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function eH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eM(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eM(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eG(){var e=eH((0,b.Z)(),1)[0],t=(0,r.useContext)(z.Z).advertiserId,n=eH((0,r.useState)([]),2),o=n[0],i=n[1];return((0,r.useEffect)(function(){var n,r,o=function(){e("web.business.commerce-integrations.action.create_tag.error")},a=(n=regeneratorRuntime.mark(function n(){var r,a,s,l,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=21;break}return n.next=3,(0,_.Z)({url:"/ads/v4/advertisers/".concat(t,"/conversion_tags/")});case 3:if(!((r=n.sent.resource_response.data)&&Object.keys(r).length>0)){n.next=11;break}for(s in a=[],r)"ACTIVE"===r[s].status&&a.push({name:r[s].name,id:r[s].id});i(a),n.next=21;break;case 11:return n.prev=11,n.next=14,(0,_.Z)({url:"/ads/v4/advertisers/".concat(t,"/conversion_tags"),method:"POST",data:{name:"Pinterest Tag"}});case 14:null!=(l=(c=n.sent).resource_response.data)&&l.id&&(i([{name:c.resource_response.data.name,id:c.resource_response.data.id}]),e("web.business.commerce-integrations.action.create_tag.success")),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(11),o();case 21:case"end":return n.stop()}},n,null,[[11,18]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){eZ(i,r,o,a,s,"next",e)}function s(e){eZ(i,r,o,a,s,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)});t&&a()},[t,e]),t)?o.length>0?(0,h.jsx)(eD,{tagArray:o}):(0,h.jsx)(V,{}):(0,h.jsx)(a.xu,{children:"missing adversiter id"})}var e$=n(697591),eK=n(769295);function eV(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function eJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eW(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eW(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eY(){var e,t,n=(0,c.ZP)(),o=eJ((0,r.useState)(""),2),i=o[0],s=o[1],l=eJ((0,r.useState)(!1),2),u=l[0],d=l[1],g=(0,r.useContext)(z.Z),p=g.advertiserId,b=g.merchantId,y=g.integrationAccessToken,v=g.setIntegrationAccessToken,A=g.externalBusinessId,C=(0,m.Z)(),x=eJ((0,r.useState)(y),2),P=x[0],S=x[1],w={accessTokenPageHeading:n._('Confirm your Lojaintegrada access key', '[m10n]ConnectFlow.ConnectFlowAccessToken.heading', 'Header of the access token page step of Loja Integrada popup UI'),accessTokenPageSubheading:(0,f.XB)({text:n._('To connect your account, please visit the <a id="1">LojaIntegrada > Settings > API key</a> to copy your access token. Once copied, return here and paste the token in the provided field to continue with setup.', '[m10n]ConnectFlow.ConnectFlowCatalogs.subheading', 'Subheading of the catalog page step of popup UI'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,h.jsx)(a.rU,{"data-test-id":"access-token-link",display:"inline",href:"https://app.lojaintegrada.com.br/painel/configuracao/token",target:"blank",underline:"always",children:t.map(function(e){return(0,e$.o)(String(e))})},"access-token-link")}}}),accessTokenPlaceholder:n._('Ex. 1234506789ab0c1de234', '[m10n]ConnectFlow.ConnectFlowAccessToken.placeholder', 'Placeholder text for the access token input field'),validatingLojaIntegradaAccessToken:n._('Validating LojaIntegrada access key', '[m10n]ConnectFlow.ConnectFlowAccessToken.validating', 'Text displayed while validating Lojaintegrada access key'),pleaseDoNotClose:n._('Please do not close this window', '[m10n]ConnectFlow.ConnectFlowAccessToken.pleaseDoNotClose', 'Text displayed while validating Lojaintegrada access key'),tokenError:n._('Your Lojaintegrada access key is invalid. Please review your key for any typos or missing details and try again later.', '[m10n]ConnectFlow.ConnectFlowAccessToken.tokenError', 'Error message displayed when Lojaintegrada access key is invalid'),genericError:n._('A temporary server issue has occurred. To complete your connection, please try again later. If the issue persists, please contact customer support.', '[m10n]ConnectFlow.ConnectFlowAccessToken.genericError', 'Error message displayed when creating integration record fails')},j=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.isAuth){e.next=2;break}return e.abrupt("return",!1);case 2:if(y!==P){e.next=4;break}return e.abrupt("return",!0);case 4:if(e.prev=4,d(!0),y){e.next=11;break}return e.next=9,(0,_.Z)({url:"/v3/integrations/commerce/",method:"POST",data:{integration_metadata:JSON.stringify({client_id:(0,eK.Z)(),external_business_id:A,partner_access_token:P,connected_advertiser_id:p,connected_merchant_id:b,partner_metadata:JSON.stringify({feature_flags:{tags:!1,CAPI:!1,catalog:!1}})})}});case 9:e.next=13;break;case 11:return e.next=13,(0,_.Z)({url:"/v3/integrations/commerce/".concat((0,eK.Z)(),"/").concat(A,"/"),method:"PATCH",data:{integration_metadata:JSON.stringify({partner_access_token:P})}});case 13:return v(P),e.abrupt("return",!0);case 17:e.prev=17,e.t0=e.catch(4),s(e.t0 instanceof Object&&"httpStatus"in e.t0&&401===e.t0.httpStatus?w.tokenError:w.genericError);case 20:return d(!1),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,null,[[4,17]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eV(i,r,o,a,s,"next",e)}function s(e){eV(i,r,o,a,s,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});return u?(0,h.jsxs)(V,{children:[(0,h.jsx)(a.xu,{marginTop:4,children:(0,h.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"600",children:w.validatingLojaIntegradaAccessToken})}),(0,h.jsx)(a.xu,{marginTop:2,children:(0,h.jsx)(a.xv,{align:"center",size:"300",children:w.pleaseDoNotClose})})]}):(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:w.accessTokenPageSubheading,title:w.accessTokenPageHeading}),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.xu,{height:"100vh",children:(0,h.jsx)(a.nv,{errorMessage:i,id:"loja-access-token",onChange:function(e){S(e.value),s("")},placeholder:w.accessTokenPlaceholder,value:P})}),(0,h.jsx)(D,{isNextBtnDisabled:0===P.length||!!i,onNext:j})]})]})}var eX=n(753167);function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eq(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e1(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function e2(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){e1(i,r,o,a,s,"next",e)}function s(e){e1(i,r,o,a,s,"throw",e)}a(void 0)})}}function e4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e3(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e3(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e6(){var e,t,n=(0,c.ZP)(),o=eP(),i=o.tagArray,s=o.tagSelected,l=o.setTagSelected,u=o.createTagError,d=o.setCreateTagError,_=o.LABELS,f=o.enableAEMConversionTag,m=o.updateContextAndFlags,g=(0,r.useContext)(z.Z),p=g.externalBusinessId,b=g.partnerAppFeatureFlags,y=g.partnerMetadata,v=g.setPartnerMetadata,A={pleaseDoNotClose:n._('Please do not close this window', '[m10n]ConnectFlow.ConnectFlowLojaConversionTag.pleaseDoNotClose', 'Text displayed while saving Pinterest Tag'),temporaryError:n._('A temporary server issue has occurred. To complete your connection, please try again or set up your conversion tracking at a later time via Claimed accounts under settings. If the issue persists, please contact customer support.', '[m10n]ConnectFlow.ConnectFlowLojaConversionTag.temporaryError', 'Temporary error message'),addingPinterestTag:n._('Adding Pinterest Tag', '[m10n]ConnectFlow.ConnectFlowLojaConversionTag.addingPinterestTag', 'Text displayed while adding Pinterest Tag')},C=e4((0,r.useState)(!1),2),x=C[0],P=C[1],S=e4((0,r.useState)(!1),2),w=S[0],j=S[1],I=e4((0,r.useState)(!1),2),O=I[0],E=I[1],k=function(){window.opener&&window.opener.location.reload(),window.close()},L=(e=e2(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return",!1);case 2:return P(!0),t=eX.bc.FAILURE,""===s&&(t=eX.bc.OPT_OUT),e.prev=5,e.next=8,(0,eX.OE)((0,eK.Z)(),p,{connected_tag_id:s,partner_metadata:JSON.stringify(e0(e0({},y),{},{feature_flags:{tags:""!==s,CAPI:""!==s,catalog:b.catalog},tag:{status:t}}))});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(5),E(!0),P(!1),e.abrupt("return",!1);case 15:if(t===eX.bc.OPT_OUT){e.next=25;break}return e.prev=16,e.next=19,(0,eX.eP)(p,1);case 19:t=eX.bc.SUCCESS,e.next=25;break;case 22:e.prev=22,e.t1=e.catch(16),t=eX.bc.FAILURE;case 25:if(P(!1),j(!0),v(e0(e0({},y),{},{tag:{status:t}})),m(),t!==eX.bc.SUCCESS&&t!==eX.bc.OPT_OUT){e.next=34;break}return k(),e.abrupt("return",!0);case 34:return E(!0),e.abrupt("return",!1);case 36:case"end":return e.stop()}},e,null,[[5,10],[16,22]])})),function(){return e.apply(this,arguments)}),F=(t=e2(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=3;break}return k(),e.abrupt("return",!0);case 3:return f(),e.next=6,L();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return u?(0,h.jsx)(N,{buttonAction:function(){d(!1)},buttonOptions:{role:"button",target:"blank"},errorCode:"Error to create a tag",source:"createTag"}):i.length<1?(0,h.jsx)(V,{}):x?(0,h.jsxs)(V,{children:[(0,h.jsx)(a.xu,{marginTop:4,children:(0,h.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"600",children:A.addingPinterestTag})}),(0,h.jsx)(a.xu,{marginTop:2,children:(0,h.jsx)(a.xv,{align:"center",size:"300",children:A.pleaseDoNotClose})})]}):(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:_.catalogPageSubheading,title:_.catalogPageHeading}),O&&(0,h.jsx)(a.he,{message:A.temporaryError,type:"warning"}),(0,h.jsx)(eg,{setTagSelected:function(e){l(e),j(!1)},tagArray:i,tagSelected:s}),(0,h.jsx)(em,{}),(0,h.jsx)(D,{onNext:F,children:(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.xv,{color:"subtle",size:"100",children:_.footerTerms})})})]})}function e8(e){return(e8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e7(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=e8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e8(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e9(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tn(e){try{var t=new URL(e);return/\.[a-z]{2,}$/i.test(t.hostname)}catch(e){return!1}}function tr(){var e,t,n=(0,c.ZP)(),o=te((0,r.useState)(null),2),i=o[0],s=o[1],l=te((0,r.useState)(!1),2),u=l[0],d=l[1],_=(0,r.useContext)(z.Z),m=_.externalBusinessId,g=_.partnerMetadata,p=_.setPartnerMetadata,b=te((0,r.useState)(null),2),y=b[0],v=b[1],A=null==g?void 0:g.domains,C=null==A?void 0:A[0],x=te((0,r.useState)((null==C?void 0:C.domain)||""),2),P=x[0],S=x[1],w={domainPageHeading:n._('Confirm your LojaIntegrada domain', '[m10n]ConnectFlow.ConnectFlowLojaDomain.heading', 'Header of the domain page step of Loja Integrada popup UI'),domainPageSubheading:(0,f.XB)({text:n._('To connect your account, please visit the <a id="1">LojaIntegrada > Settings > Own domain</a> to copy your domain. Once copied, return here and paste the domain in the provided field to continue with setup.', '[m10n]ConnectFlow.ConnectFlowCatalogs.subheading', 'Subheading of the catalog page step of popup UI'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,h.jsx)(a.rU,{"data-test-id":"domain-configuration-link",display:"inline",href:"https://app.lojaintegrada.com.br/painel/plataforma/conta/configuracao/dominio/",target:"blank",underline:"always",children:t.map(function(e){return(0,e$.o)(String(e))})},"access-token-link")}}}),domainPlaceholder:n._('Ex. yourstore.lojaintegrada.com.br', '[m10n]ConnectFlow.ConnectFlowLojaDomain.placeholder', 'Placeholder text for the domain input field'),validatingLojaIntegradaDomain:n._('Validating LojaIntegrada domain', '[m10n]ConnectFlow.ConnectFlowLojaDomain.validating', 'Text displayed while validating Lojaintegrada domain'),pleaseDoNotClose:n._('Please do not close this window', '[m10n]ConnectFlow.ConnectFlowLojaDomain.pleaseDoNotClose', 'Text displayed while validating Lojaintegrada domain'),invalidDomain:n._('Your Lojaintegrada domain is invalid. Please review your domain for any typos and verify it is a valid domain.', '[m10n]ConnectFlow.ConnectFlowLojaDomain.tokenError', 'Error message displayed when Lojaintegrada domain is invalid'),existingLojaDomain:n._('This Lojaintegrada domain is claimed by another store that you own. Please disconnect the existing integration or use another domain.', '[m10n]ConnectFlow.ConnectFlowLojaDomain.existingDomainError', 'Error message displayed when Lojaintegrada domain is already in use'),temporaryError:n._('Your domain could not be claimed at this time. You can continue...', '[m10n]ConnectFlow.ConnectFlowLojaDomain.temporaryError', 'Error message displayed when a temporary server issue occurs'),notClaimed:n._('Your domain could not be claimed. Please verify that the domain is correct and try again.', '[m10n]ConnectFlow.ConnectFlowLojaDomain.notClaimed', 'Error message displayed when the domain could not be claimed'),alreadyClaimed:n._('The domain entered has been claimed by another account. To finish connecting your LojaIntegrada account with this Pinterest business account, disconnect the domain from other accounts and try again. Alternatively, connect using the Pinterest business account already associated with this domain.', '[m10n]ConnectFlow.ConnectFlowLojaDomain.alreadyClaimed', 'Error message displayed when the domain has already been claimed'),integrationDomains:n._('LojaIntegrada domain', '[m10n]ConnectFlow.ConnectFlowLojaDomain.domain', 'Label for the LojaIntegrada domain input field')},j=(e=regeneratorRuntime.mark(function e(){var t,n,r,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return",!1);case 2:return d(!0),t="",e.prev=4,e.next=7,(0,eX.eP)(m,0);case 7:t=e.sent.resource_response.data.code_id,e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(4),s(w.temporaryError),d(!1),e.abrupt("return",!1);case 16:return n=!1,e.prev=17,e.next=20,(0,eX.v0)(P);case 20:n=!0,e.next=34;break;case 23:if(e.prev=23,e.t1=e.catch(17),"invalid_website"!==(a=null==(i=e.t1)||null==(r=i.extraData)||null==(o=r.objects)?void 0:o.error_code)&&"verification_not_allowed"!==a){e.next=33;break}return v(w.notClaimed),d(!1),e.abrupt("return",!1);case 33:"domain_already_verified"===a?s(w.alreadyClaimed):s(w.temporaryError);case 34:return e.prev=34,e.next=37,(0,eX.OE)((0,eK.Z)(),m,{partner_metadata:JSON.stringify({domain_claim_html_code_id:t,feature_flags:{tags:!1,CAPI:!1,catalog:!1},domains:[{domain:P,status:n?eX.bc.SUCCESS:eX.bc.FAILURE}]})});case 37:e.next=44;break;case 39:return e.prev=39,e.t2=e.catch(34),d(!1),e.t2 instanceof Object&&"httpStatus"in e.t2&&400===e.t2.httpStatus&&"message_detail"in e.t2&&e.t2.message_detail===eX.At?v(w.existingLojaDomain):s(w.temporaryError),e.abrupt("return",!1);case 44:if(p(e5(e5({},g),{},{domain_claim_html_code_id:t,domains:[{domain:P,status:n?eX.bc.SUCCESS:eX.bc.FAILURE}]})),d(!1),!n){e.next=48;break}return e.abrupt("return",!0);case 48:return e.abrupt("return",!1);case 49:case"end":return e.stop()}},e,null,[[4,11],[17,23],[34,39]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){e9(i,r,o,a,s,"next",e)}function s(e){e9(i,r,o,a,s,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});return u?(0,h.jsxs)(V,{children:[(0,h.jsx)(a.xu,{marginTop:4,children:(0,h.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"600",children:w.validatingLojaIntegradaDomain})}),(0,h.jsx)(a.xu,{marginTop:2,children:(0,h.jsx)(a.xv,{align:"center",size:"300",children:w.pleaseDoNotClose})})]}):(0,h.jsxs)(T,{children:[(0,h.jsx)(Z.Z,{subheading:w.domainPageSubheading,title:w.domainPageHeading}),(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.xu,{height:"100vh",marginTop:8,children:(0,h.jsxs)(a.kC,{direction:"column",gap:8,children:[i&&(0,h.jsx)(a.he,{message:i,type:"warning"}),(0,h.jsx)(a.nv,{errorMessage:y,id:"loja-domain",label:w.integrationDomains,onChange:function(e){S(e.value),s(null),v(null)},placeholder:w.domainPlaceholder,value:P})]})}),(0,h.jsx)(D,{isNextBtnDisabled:0===P.length||null!==y,onNext:function(){return tn(P)||tn("https://".concat(P))?(null==C?void 0:C.domain)===P||j():(v(w.invalidDomain),!1)}})]})]})}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ta=function(e){var t=e.version,n=e.currentStep;if(t)switch(n){case k.Ss[t].INTRO:return(0,h.jsx)(ej,{});case k.Ss[t].BUSINESS_SELECT:return(0,h.jsx)(ei,{});case k.Ss[t].CATALOGS:return(0,h.jsx)(eu,{});case k.Ss[t].ACCOUNT_SELECTION:return(0,h.jsx)(W,{});case k.Ss[t].TAG_SELECTION:return(0,h.jsx)(eG,{});case k.Ss[t].CONVERSION_TAG:return(0,h.jsx)(eS,{});case k.Ss[t].OAUTH:return(0,h.jsx)(eU,{});case k.Ss[t].MIDDLEWARE:return(0,h.jsx)(eT,{});case k.Ss[t].LOJA_ACCESS_TOKEN:return(0,h.jsx)(eY,{});case k.Ss[t].LOJA_DOMAIN:return(0,h.jsx)(tr,{});case k.Ss[t].LOJA_CONVERSION_TAG:return(0,h.jsx)(e6,{});default:return(0,h.jsx)(ej,{})}return null};function ts(){var e,t,n,i,c,u,d,_,f,m,g,p,y=(0,r.useContext)(z.Z).currentStep,v=(function(e){if(Array.isArray(e))return e}(e=(0,b.Z)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,1)||function(e,t){if(e){if("string"==typeof e)return ti(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(e,t):void 0}}(e,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],A=(0,o.UO)().version,C=(0,s.v)().logContextEvent;n=(t=(0,r.useContext)(z.Z)).clientId,i=t.setClientId,c=t.consumerData,u=t.setConsumerData,_=(function(e){if(Array.isArray(e))return e}(d=(0,b.Z)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{i=(n=n.call(e)).next,!1;for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(d,1)||function(e,t){if(e){if("string"==typeof e)return to(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(d,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],m=(f=(0,l.Z)(n&&!c?{name:"ApiResource",options:{url:"/v3/consumers/".concat(n,"/"),data:{add_fields:["consumer.commerce_platform_partner_client_map"]}}}:null)).isLoaded,g=f.data,p=f.error,(0,r.useEffect)(function(){var e;if(i(null==(e=(0,eI.Z)())?void 0:e.client_id),m){var t=p?"error":"success";_("web.business.commerce-integrations.action.v3_get_users_consumers.".concat(t))}if(m&&g&&g.commerce_platform_partner_client_map){var n,r=g.default_scopes,o=g.additional_scopes;u({partner_name:g.name,partner_image:g.images?g.images["80x80"].url:(null==(n=g.app_icon)?void 0:n.url)||null,middleware_client_uri:"middleware_client_uri"in g.commerce_platform_partner_client_map?g.commerce_platform_partner_client_map.middleware_client_uri:null,clientHash:"clientHash"in g.commerce_platform_partner_client_map?g.commerce_platform_partner_client_map.clientHash:null,scopes:r.concat(o)})}},[m,g,u,i,_,p]);var x=function(){null!=y&&y.view_parameter&&C({event_type:13,view_type:581,view_parameter:y.view_parameter})},P=y&&y.name?y.name.toString().toLowerCase():"Unknown";return v("web.business.commerce-integrations.page.".concat(P,".view")),(0,r.useEffect)(function(){x()}),(0,h.jsx)(a.xu,{children:(0,h.jsx)(ta,{currentStep:y,version:A})})}function tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tc(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tc(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tu=function(){var e=tl((0,r.useState)(k.hJ.currentStep),2),t=e[0],n=e[1],s=(0,o.UO)().version;(0,r.useEffect)(function(){"BUSINESS_SELECT"===new URLSearchParams(window.location.search).get("stage")&&s&&n(k.Ss[s].BUSINESS_SELECT)},[s]);var l=tl((0,r.useState)(k.hJ.advertiserId),2),c=l[0],u=l[1],d=tl((0,r.useState)(null),2),_=d[0],f=d[1],m=tl((0,r.useState)(null),2),g=m[0],p=m[1],b=tl((0,r.useState)(null),2),y=b[0],v=b[1],A=tl((0,r.useState)(null),2),C=A[0],x=A[1],P=tl((0,r.useState)(null),2),S=P[0],w=P[1],j=tl((0,r.useState)(k.hJ.partnerAppFeatureFlags),2),I=j[0],O=j[1],E=tl((0,r.useState)(""),2),T=E[0],L=E[1],F=tl((0,r.useState)(function(){return"loja"===s?"loja_".concat((0,i.Z)()):null}),1)[0],N=tl((0,r.useState)(null),2),B=N[0],R=N[1],U=(0,r.useMemo)(function(){return{currentStep:t,setCurrentStep:function(e){n(e)},advertiserId:c,setAdvertiserId:u,tagId:_,setTagId:function(e){f(e)},merchantId:y,setMerchantId:function(e){v(e)},consumerData:g,setConsumerData:function(e){p(e)},authCode:S,setAuthCode:w,clientId:C,setClientId:function(e){x(e)},partnerAppFeatureFlags:I,setPartnerAppFeatureFlags:O,integrationAccessToken:T,setIntegrationAccessToken:L,externalBusinessId:F,partnerMetadata:B,setPartnerMetadata:R}},[t,n,c,u,_,f,y,v,g,p,S,w,C,I,O,T,F,B]);return(0,h.jsx)(z.Z,{value:U,children:(0,h.jsx)(a.xu,{"data-test-id":"commerce-integrations-connect-page",children:(0,h.jsx)(ts,{})})})}},820887:function(e,t,n){"use strict";var r=n(618334),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=f(n);o&&o!==m&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),h=l(n),g=0;g<a.length;++g){var p=a[g];if(!i[p]&&!(r&&r[p])&&!(h&&h[p])&&!(s&&s[p])){var b=_(n,p);try{c(t,p,b)}catch(e){}}}}return t}},872957:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,_=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function p(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case _:case a:case l:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case f:case c:return e;default:return t}}case g:case h:case i:return t}}}function b(e){return p(e)===_}t.typeOf=p,t.AsyncMode=d,t.ConcurrentMode=_,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=h,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===_||e===l||e===s||e===m||"object"===n(e)&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f)},t.isAsyncMode=function(e){return b(e)||p(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return p(e)===u},t.isContextProvider=function(e){return p(e)===c},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return p(e)===f},t.isFragment=function(e){return p(e)===a},t.isLazy=function(e){return p(e)===g},t.isMemo=function(e){return p(e)===h},t.isPortal=function(e){return p(e)===i},t.isProfiler=function(e){return p(e)===l},t.isStrictMode=function(e){return p(e)===s},t.isSuspense=function(e){return p(e)===m}},618334:function(e,t,n){"use strict";e.exports=n(872957)},506933:function(e){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},490425:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,_=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,p=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,A=r?Symbol.for("react.scope"):60119;function C(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case _:case a:case l:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case f:case p:case g:case c:return e;default:return t}}case i:return t}}}function x(e){return C(e)===_}t.AsyncMode=d,t.ConcurrentMode=_,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=p,t.Memo=g,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return x(e)||C(e)===d},t.isConcurrentMode=x,t.isContextConsumer=function(e){return C(e)===u},t.isContextProvider=function(e){return C(e)===c},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return C(e)===f},t.isFragment=function(e){return C(e)===a},t.isLazy=function(e){return C(e)===p},t.isMemo=function(e){return C(e)===g},t.isPortal=function(e){return C(e)===i},t.isProfiler=function(e){return C(e)===l},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===_||e===l||e===s||e===m||e===h||"object"===n(e)&&null!==e&&(e.$$typeof===p||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===v||e.$$typeof===A||e.$$typeof===b)},t.typeOf=C},537168:function(e,t,n){"use strict";e.exports=n(490425)},687636:function(e,t){"use strict";function n(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}t.Z=function(e,t){void 0===t&&(t="");var o,i=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&n(e),l=t&&n(t),c=s||l;if(e&&n(e)?a=i:i.length&&(a.pop(),a=a.concat(i)),!a.length)return"/";if(a.length){var u=a[a.length-1];o="."===u||".."===u||""===u}else o=!1;for(var d=0,_=a.length;_>=0;_--){var f=a[_];"."===f?r(a,_):".."===f?(r(a,_),d++):d&&(r(a,_),d--)}if(!c)for(;d--;)a.unshift("..");!c||""===a[0]||a[0]&&n(a[0])||a.unshift("");var m=a.join("/");return o&&"/"!==m.substr(-1)&&(m+="/"),m}},61083:function(e,t,n){"use strict";var r=n(258712),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=a(null);if(null===d.current){var _={hasValue:!1,value:null};d.current=_}else _=d.current;var f=i(e,(d=l(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==u&&_.hasValue){var t=_.value;if(u(t,e))return a=t}return a=e}if(t=a,o(i,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(i=e,t):(i=e,a=n)}var i,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,u]))[0],d[1]);return s(function(){_.hasValue=!0,_.value=f},[f]),c(f),f}},568800:function(e,t,n){"use strict";e.exports=n(61083)},254270:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}t.Z=function e(t,o){if(t===o)return!0;if(null==t||null==o)return!1;if(Array.isArray(t))return Array.isArray(o)&&t.length===o.length&&t.every(function(t,n){return e(t,o[n])});if("object"===n(t)||"object"===n(o)){var i=r(t),a=r(o);return i!==t||a!==o?e(i,a):Object.keys(Object.assign({},t,o)).every(function(n){return e(t[n],o[n])})}return!1}},344936:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/commerce-integrations/[version]/connect",function(){return n(556461).Z}])},684101:function(e,t,n){var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";var i={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==o(e))return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}(n)))}return e}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):"object"===o(n.amdO)&&n.amdO?void 0===(r=(function(){return a}).apply(t,[]))||(e.exports=r):window.classNames=a}()},406493:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{Z:function(){return r}})},856101:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(571574);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},804147:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{Z:function(){return r}})},571574:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},985821:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){if(!e)throw Error("Invariant failed")}}},function(e){e.O(0,[97270,32227,76175,8789,75114,59514,89877],function(){return e(e.s=344936)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/business/commerce-integrations/[version]/connect-787734b23c2c47d7.js.map