(self.legacyJsonp=self.legacyJsonp||[]).push([[25874,23434],{983311:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(258712),o=r(132227),s=r(233846),a=r(970601),i=r(717616),l=r(19035);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){var t=e.score,r=function(){var e,r;switch(t){case 1:e="#FAE600",r="23%";break;case 2:case 3:e="#39D377",r="57%";break;case 4:e="#1DAD65",r="100%";break;default:e="#FDA161",r="13%"}return{color:e,percentage:r}}(),n=r.color,s=r.percentage;return(0,l.jsx)(o.xu,{"aria-labelledby":"password-strength-message","aria-valuemax":4,"aria-valuemin":0,"aria-valuenow":t,dangerouslySetInlineStyle:{__style:{backgroundColor:"#E8E7E1"}},height:8,role:"meter",rounding:"pill",width:"100%",children:(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n,transition:".5s"}},"data-test-id":"password-strength-progress",height:"8px",rounding:"pill",width:s})})},d=function(e){var t,r=e.id,d=e.password,p=(0,s.ZP)(),h=(0,i.tc)(d),_=(0,i.eD)({score:h,i18n:p}),f=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(!1))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{s=(r=r.call(e)).next,!1;for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0],g=f[1];return(0,n.useEffect)(function(){!m&&d.length>0&&g(!0)},[m,d]),(0,l.jsxs)(o.xu,{"aria-atomic":!0,children:[m&&(0,l.jsxs)(o.xu,{marginBottom:1,children:[(0,l.jsx)(o.xu,{marginBottom:3,children:(0,l.jsx)(c,{score:h})}),(0,l.jsx)(o.xv,{color:"subtle",id:"password-strength-message",size:"100",weight:"bold",children:_}),(0,l.jsxs)("span",{"aria-live":"polite",className:"passwordStrengthMeter__a11yMessage",children:[(0,l.jsx)(a.Z,{unsafeCSS:"\n.passwordStrengthMeter__a11yMessage:not(:focus):not(:active) {\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n"}),function(){switch(h){case 1:return p._('Your password\u2019s strength is OK, but it could be stronger.', 'passwordStrengthMeter.a11y.message.score1', 'This string is an aria label for a text label that appears in close proximity below a status bar. The status bar measures the strength of a password the user is trying to create. This string is associated with a password of moderate strength. The status lets the user know that their password passes, but isn\u2019t particularly strong. The tone is neutral, maybe even bland. Ideally, the user will read this and want to try to create an even stronger password.');case 2:case 3:return p._('Your password strength looks pretty good. ', 'passwordStrengthMeter.a11y.message.score2', 'This string is an aria label for a text label that appears in close proximity below a status bar. The status bar measures the strength of a password the user is trying to create. This string is associated with a password of good strength. The status lets the user know that their password passed the strength evaluation and is relatively strong. The tone is one of casual enthusiasm and approval.');case 4:return p._('This is a strong password. Perfect!', 'passwordStrengthMeter.a11y.message.score4', 'This string is an aria label for a text label that appears in close proximity below a status bar. The status bar measures the strength of a password the user is trying to create. This string is associated with a password of great strength. The status lets the user know that their password passed the strength evaluation and is really strong. The tone is enthusiastic, positive, and celebratory.');default:return p._('Make your password more complicated to continue.', 'passwordStrengthMeter.a11y.message.score0', 'This string is an aria label for a text label that appears in close proximity below a status bar. The status bar measures the strength of a password the user is trying to create. This string is associated with a weak password. The status encourages the user to add complexity to their password to continue with account creation.  We want this string to remain short. The tone is direct, but not unkind.')}}()]})]}),(0,l.jsx)(o.xv,{color:"subtle",id:"".concat(r,"-helperText"),size:"100",children:p._('Use 8 or more letters, numbers and symbols', 'passwordStrengthMeter.description', 'This string is description text associated with a text field where the user can create a password. This string provides information about requirements for creating a strong password. \u201CSymbols\u201D is intended as a simple, straightforward term to describe both punctuation marks and typographical symbols, such as a dollar sign. The tone of this string is straightforward.')})]})},p=r(852015),h=r(967312),_=r(538645);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.password,r=(0,s.ZP)(),a=(0,_.HG)(),i=(0,h.F)(),u=!a&&i.checkExperiment("mweb_strong_password").anyEnabled||a&&i.checkExperiment("web_strong_password").anyEnabled,c=f((0,n.useState)(!1),2),m=c[0],g=c[1],b=f((0,n.useState)(!1),2),y=b[0],v=b[1];return((0,n.useEffect)(function(){!y&&t.length>0&&v(!0)},[y,t]),u)?(0,l.jsxs)(o.xu,{marginTop:y?6:2,children:[(0,l.jsx)(o.xu,{marginBottom:2,paddingX:3,children:(0,l.jsx)(d,{id:"password",password:t})}),(0,l.jsx)(o.kC,{alignItems:"start",children:(0,l.jsx)(o.ZP,{color:"transparent",dataTestId:"view-reporting-button",href:"",iconEnd:"info-circle",onClick:function(e){var t=e.dangerouslyDisableOnNavigation,r=e.event;t(),r.preventDefault(),g(!0)},text:r._('Password tips', 'PasswordStrengthWrapper.passwordTips.button', 'This string is a UI modal title. The modal appears when the user taps a button that says "Password tips\u201D on a password creation UI. The modal shares additional information on creating a password, such as what to do and what to avoid. The tone of this string could be a little bit fun or playful, as well as helpful, as long as the meaning is clear.')})}),(0,l.jsx)(p.ZP,{accessibilityModalLabel:r._('Password tips modal', 'PasswordStrengthWrapper.passwordTips.modal.accessibilityLabel', 'A11y modal label for conversion window modal on analytics'),align:"start",isOpen:m,layerZIndex:new o.Ry(10002),onDismiss:function(){return g(!1)},role:"dialog",size:"md",zIndex:new o.Ry(10002),children:(0,l.jsxs)(o.xu,{marginBottom:5,marginTop:5,paddingX:4,children:[(0,l.jsx)(o.xu,{marginBottom:5,children:(0,l.jsx)(o.X6,{align:"start",size:"300",children:r._('Password tips', 'PasswordStrengthWrapper.passwordTips.modal.headerTitle', 'This string is a UI modal title. The modal appears when the user taps a button that says "Password tips\u201D on a password creation UI. The modal shares additional information on creating a password, such as what to do and what to avoid. The tone of this string could be a little bit fun or playful, as well as helpful, as long as the meaning is clear.')})}),(0,l.jsx)(o.xu,{marginBottom:3,paddingX:1,children:(0,l.jsx)(o.xv,{size:"200",children:r._('A strong password helps keep your account safe. Use at least 8 letters, numbers and symbols.', 'PasswordStrengthWrapper.passwordTips.modal.body1', 'This string is body copy that appears on a modal UI that contains information about creating a strong password. This section explains the value of creating a strong password. \u201CSymbols\u201D is intended as a simple, straightforward term to describe both punctuation marks and typographical symbols, such as a dollar sign. The tone of this is reassuring, encouraging, and direct.')})}),(0,l.jsx)(o.xu,{marginBottom:5,children:(0,l.jsxs)(o.aV,{label:(0,l.jsx)(o.xv,{size:"200",weight:"bold",children:r._('What to avoid', 'PasswordStrengthWrapper.passwordTips.modal.subhead', 'This string is a subtitle on a modal UI that contains information about creating a strong password. This subtitle opens a section about what types of language, characters, and patterns to avoid when trying to create a strong password. The tone of this string is cautionary but still helpful.')}),size:"200",spacing:"condensed",type:"unordered",children:[(0,l.jsx)(o.aV.Item,{text:r._('Common passwords, words and names', 'PasswordStrengthWrapper.passwordTips.modal.subhead.item1', 'This string is a bulleted list. Each bullet describes information types or language patterns that the user should avoid when trying to create a strong password. For instance, the user shouldn\u2019t use a common password or a recent date, as those are easy to guess. There will be a list title to frame this information as \u201CWhat to avoid\u201D. The tone of this string is clear and direct.')}),(0,l.jsx)(o.aV.Item,{text:r._('Recent dates or dates associated with you', 'PasswordStrengthWrapper.passwordTips.modal.subhead.item2', 'This string is a bulleted list. Each bullet describes information types or language patterns that the user should avoid when trying to create a strong password. For instance, the user shouldn\u2019t use a common password or a recent date, as those are easy to guess. There will be a list title to frame this information as \u201CWhat to avoid\u201D. The tone of this string is clear and direct.')}),(0,l.jsx)(o.aV.Item,{text:r._('Simple patterns and repeated text', 'PasswordStrengthWrapper.passwordTips.modal.subhead.item3', 'This string is a bulleted list. Each bullet describes information types or language patterns that the user should avoid when trying to create a strong password. For instance, the user shouldn\u2019t use a common password or a recent date, as those are easy to guess. There will be a list title to frame this information as \u201CWhat to avoid\u201D. The tone of this string is clear and direct.')})]})}),(0,l.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:function(){return g(!1)},size:"lg",text:r._('Okay', 'PasswordStrengthWrapper.passwordTips.modal.okayButton', 'This string is a button label for a modal UI. Tapping the button acknowledges and dismisses the modal.')})]})})]}):null}},750125:function(e,t){"use strict";t.Z={GOOGLE_ADWORDS_ID:0x32c9c10f,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},516102:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var s=function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function")}return e=[{key:"reportGoogleConversion",value:function(e,r,n,o){if(!o){if(void 0===window.gtag_report_conversion)return void t.queuedGoogleConversions.push({id:e,label:r,url:n});window.gtag_report_conversion(e,r,n)}}},{key:"reportFacebookConversion",value:function(e,r,n){if(void 0===window.fbq)return void t.queuedFacebookConversions.push({id:e,event:r,data:n});n?window.fbq("track",r,n):window.fbq("track",r)}},{key:"reportCustomFacebookConversion",value:function(e,r,n){if(void 0===window.fbq)return void t.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:r,data:n});n?window.fbq("trackCustom",r,n):window.fbq("trackCustom",r)}},{key:"reportPinterestConversion",value:function(e,r,n){if(void 0===window.pintrk)return void t.queuedPinterestConversions.push({id:e,event:r,data:n});n?window.pintrk("track",r,n):window.pintrk("track",r)}},{key:"reportTheTradeDeskConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("height","1"),r.setAttribute("width","1"),r.setAttribute("role","presentation"),r.style.borderStyle="none",r.style.position="absolute",r.setAttribute("src","//insight.adsrvr.org/track/conv/?adv=".concat(e,"&ct=0:").concat(t,"&fmt=3")),document.body.insertBefore(r,document.body.lastChild)}},{key:"reportLinkedInConversion",value:function(e,t){var r=document.createElement("img");r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("role","presentation"),r.setAttribute("src","https://dc.ads.linkedin.com/collect/?pid=".concat(e)+"&conversionId=".concat(t,"&fmt=gif")),r.style.display="none",document.body.insertBefore(r,document.body.lastChild)}},{key:"reportDoubleClickConversion",value:function(e,t,r){var n=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src","https://".concat(e,".fls.doubleclick.net/activityi;src=").concat(e,";\n    type=").concat(t,";cat=").concat(r,";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=").concat(n,"?")),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}},{key:"insertGoogleAdWordsTag",value:function(e,r){var n=document.createElement("script");r||(n.setAttribute("async",""),n.setAttribute("src","https://www.googletagmanager.com/gtag/js?id=AW-".concat(e)),n.onload=function(){window.dataLayer=window.dataLayer||[],window.gtag=function(){if(window.dataLayer){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];window.dataLayer.push(t)}},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,r){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){r&&window.location.assign(r)}}),!1};for(var n=t.queuedGoogleConversions,o=0;o<n.length;o+=1){var s=n[o];s.id===e&&t.reportGoogleConversion(s.id,s.label,s.url,r)}}),document.body.insertBefore(n,document.body.firstChild)}},{key:"insertFacebookPixelTag",value:function(e){r=window,n=document,o="script",r.fbq||(s=r.fbq=function(){var e;"function"==typeof s.callMethod?(e=s).callMethod.apply(e,arguments):s.queue.push(arguments)},r._fbq||(r._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(a=n.createElement(o)).async=!0,a.src="//connect.facebook.net/en_US/fbevents.js",(i=n.getElementsByTagName(o)[0]).parentNode.insertBefore(a,i)),window.fbq&&(window.fbq("init",e),window.fbq("track","PageView"));for(var r,n,o,s,a,i,l=t.queuedFacebookConversions,u=0;u<l.length;u+=1){var c=l[u];c.id===e&&(c.isCustomEvent?t.reportCustomFacebookConversion(e,c.event,c.data):t.reportFacebookConversion(e,c.event,c.data))}}},{key:"insertPinterestTag",value:function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};var r=window.pintrk;r.queue=[],r.version="3.0";var n=document.createElement("script");n.async=!0,n.src="https://s.pinimg.com/ct/core.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(n,o)}window.pintrk("load",e),window.pintrk("page");for(var s=t.queuedPinterestConversions,a=0;a<s.length;a+=1){var i=s[a];i.id===e&&t.reportPinterestConversion(e,i.event,i.data)}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();n(s,"queuedGoogleConversions",[]),n(s,"queuedFacebookConversions",[]),n(s,"queuedPinterestConversions",[]),t.Z=s},665921:function(e,t,r){"use strict";function n(e,t){var r=e.split("@")[0],n="";return(n=(n=r.includes(".")?r.replace("."," "):r.includes("_")?r.replace("_"," "):r).replace(/[0-9]/g,""),"GB"===t)?"User_"+n.split("").sort(function(){return .5-Math.random()}).join(""):n.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}r.d(t,{Z:function(){return n}})},139714:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(e,t,r){var o;return(o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){var t=e.embedSrc,r=e.embedType,n=e.imagesUrls,o=e.preferredResolution,i=e.excludeOriginals;if(!t&&!r&&!n)return"";if("gif"===r)return t||"";if(!n)return"";if(o){var l="474x"===o&&n["474x"]||"236x"===o&&n["236x"]||n["736x"];if(l)return l}var u=Object.keys(n).reduce(function(e,t){try{var r=t.split("x")[0];if(Number.isNaN(Number(r)))return s(s({},e),{},a({},t,n[t]));return s(s({},e),{},a({},r,n[t]))}catch(t){return e}},{}),c=Object.keys(u);return i&&"orig"===c[c.length-1]&&c.pop(),u[c.pop()]||""}r.d(t,{Z:function(){return i}})},870215:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(284987),o=r(132227),s=r(233846),a=r(538645),i=r(824879),l=r(19035);function u(e){var t=e.onContinueClick,r=e.onBackClick,u=e.showConsistentSteps,c=(0,n.k6)(),d=(0,s.ZP)(),p=(0,a.HG)(),h=2*!u,_=u?"300":"200";return(0,l.jsxs)(o.xu,{marginEnd:p?0:h,marginStart:p?0:h,children:[p?null:(0,l.jsx)(o.xu,{alignItems:u?"start":"center","data-test-id":"nux-toc-container",display:"flex",height:36,width:"100%",children:(0,l.jsx)(o.xu,{children:(0,l.jsx)(i.Z,{icon:"arrow-back"})})}),(0,l.jsxs)(o.xu,{marginStart:p?4:6*!u,marginTop:p?4:u?5:4,maxWidth:"366px",children:[(0,l.jsx)(o.xu,{marginBottom:u?1:4,maxWidth:"90%",children:(0,l.jsx)(o.X6,{accessibilityLevel:1,size:p?"700":u?"600":"400",children:d._('Create a business account', 'ssoCreateBusinessAccount.title', 'Title for the SSO create business account page')})}),(0,l.jsx)(o.xu,{marginBottom:3,children:(0,l.jsx)(o.xv,{size:_,children:d._('When you use your business email address, you create a Pinterest business account. This type of account gives you access to business tools like ads and analytics.', 'ssoCreateBusinessAccount.description', 'Description for the SSO create business account page')})}),(0,l.jsx)(o.xu,{marginBottom:3,children:(0,l.jsx)(o.xv,{size:_,children:d._('To create a non-business account, use your personal email address.', 'ssoCreateBusinessAccount.description2', 'Description for the SSO create business account page')})}),(0,l.jsx)(o.xv,{size:_,children:d._('With your business account, you\'ll use single sign-on (SSO) for authentication.', 'ssoCreateBusinessAccount.description3', 'Description for the SSO create business account page')})]}),(0,l.jsx)(o.xu,{marginTop:12,children:(0,l.jsxs)(o.kC,{justifyContent:"end",children:[p?(0,l.jsx)(o.xu,{marginEnd:2,children:(0,l.jsx)(o.zx,{fullWidth:!0,onClick:function(){r&&r(),c.goBack()},text:d._('Back', 'ssoCreateBusinessAccount.button.done', 'Back button to go back to the previous page')})}):null,(0,l.jsx)(o.xu,{width:p?"auto":"100%",children:(0,l.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,size:p?"md":"lg",text:d._('Continue with SSO', 'ssoCreateBusinessAccount.button.done', 'Continue with SSO button to go to the SSO page')})})]})})]})}},20992:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(397657),o=r(112800),s=r(857147);function a(e,t,r,n,o,s,a){try{var i=e[s](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function i(e){a(s,n,o,i,l,"next",e)}function l(e){a(s,n,o,i,l,"throw",e)}i(void 0)})}}var l=function(e){var t=(0,s.Qc)(e).hostname;return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com")||t.endsWith(".pinterdev.com"))},u=function(e){var t=e.origin,r=e.data;return l(t)?String(r):null};function c(){var e,t="undefined"!=typeof window;return{verifySsoUser:(e=i(regeneratorRuntime.mark(function e(t){var r,s,a,i,l,u,c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.Z)({url:"/v3/sso/info/",method:"POST",data:{email:t}});case 3:return s=(r=e.sent.resource_response.data).authorization_uri,a=r.existing_user,i=r.existing_user_is_sso,l=r.is_sso,u=r.redirect_uri,c=r.exchange_code_to_token_info_url,e.abrupt("return",{authorizationUri:s,exchangeCodeToTokenUrl:c,existingUser:a,existingUserIsSso:i,isSso:l,redirectUri:u});case 8:return e.prev=8,e.t0=e.catch(0),d=e.t0,(0,o.My)("coreSso.verifyUser.error",{code:d.api_error_code,message:d.message,http_status:d.http_status}),e.abrupt("return",{authorizationUri:null,exchangeCodeToTokenUrl:null,existingUser:null,existingUserIsSso:null,isSso:!1,redirectUri:null});case 13:case"end":return e.stop()}},e,null,[[0,8]])})),function(t){return e.apply(this,arguments)}),authenticateWithSso:function(e){var r,o,a,l=e.callbacks,c=e.exchangeCodeToTokenUrl,d=e.isLogin,p=e.modalUrl;if(!t){null==(o=l.error)||o.call(l,{api_error_code:0,message:"Window is undefined"});return}var h=(r=i(regeneratorRuntime.mark(function e(t){var r,o,i,p,_,f,m,g,b,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(r=u(t),!(o=(0,s.mB)(r)).code){e.next=24;break}if(!d){e.next=8;break}return l.success({authCode:o.code,state:o.state}),e.abrupt("return");case 8:return e.prev=8,e.next=11,(0,n.Z)({url:c,method:"POST",data:{code:o.code,state:o.state}});case 11:p=(i=e.sent.resource_response.data).sso_id,_=i.sso_id_token,f=i.sso_email,m=i.sso_user_name,p&&_&&f&&m?l.success({ssoId:p,ssoIdToken:_,ssoEmail:f,ssoUserName:m}):null==(g=l.error)||g.call(l,{api_error_code:0,message:"No tokens returned"}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),y=e.t0,null==(b=l.error)||b.call(l,y);case 20:return e.prev=20,a&&!a.closed&&a.close(),window.removeEventListener("message",h),e.finish(20);case 24:case"end":return e.stop()}},e,null,[[8,16,20,24]])})),function(e){return r.apply(this,arguments)});window.addEventListener("message",h),a=window.open(p,"_blank","width=600,height=600")}}}},289257:function(e,t,r){"use strict";r.d(t,{Ec:function(){return b},OA:function(){return c},TL:function(){return y},dA:function(){return v},f$:function(){return f},nP:function(){return g},oH:function(){return d},rY:function(){return l},sk:function(){return m},wQ:function(){return p},xW:function(){return h},yc:function(){return u},ys:function(){return _}});var n=r(992114),o="onloadRecaptchaJsCallback",s="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",i=function(e,t,r){(0,n.nP)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:r}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,n.nP)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:r}})):window.grecaptcha.enterprise.ready(function(){try{window.grecaptcha.enterprise.execute(s,{action:r}).then(e).catch(t)}catch(e){(0,n.nP)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:r}}),t(e)}})},l=function(e,t,r){if(window[o]=function(){return i(e,t,r)},null!==document.getElementById(a))i(e,t,r);else{var n=document.createElement("script");n.id=a,n.src="".concat("https://www.recaptcha.net/recaptcha/enterprise.js","?onload=").concat(o,"&render=").concat(s);var l=document.getElementsByTagName("script")[0];l.parentNode&&l.parentNode.insertBefore(n,l)}},u=105e3,c=8e3,d=3e4,p="mweb_auth",h="mweb_login",_="mweb_signup",f="web_auth",m="web_unauth",g="mweb_reset_password",b="web_reset_password",y="mweb_change_password",v="web_change_password"},839284:function(e,t,r){"use strict";var n=r(258712),o=function(){return function(){}},s=function(){return!1},a=function(){return!0};t.Z=function(){return(0,n.useSyncExternalStore)(o,s,a)}},269136:function(e,t,r){"use strict";r.d(t,{l:function(){return d},Z:function(){return p}});var n=r(258712),o=r(233846),s=r(51340),a=r(967312);function i(e,t,r,n,o,s,a){try{var i=e[s](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var l=function(e){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.e(6194),r.e(27385)]).then(r.bind(r,127385));case 2:return n=t.sent.NewPassword,t.abrupt("return",n(e));case 5:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(n,o){var s=t.apply(e,r);function a(e){i(s,n,o,a,l,"next",e)}function l(e){i(s,n,o,a,l,"throw",e)}a(void 0)})}},u=r(251719),c=r(331935),d=8,p=function(){var e=(0,o.ZP)(),t=(0,a.F)().checkExperiment,r=(0,s.Wc)(e._('Your password is too short! You need {{minPasswordLength}}+ characters.', 'passwordValidation.minLength', 'The minimum password length is 6 characters. minPasswordLength:This variable is used to interpolate the minimum password length'),{minPasswordLength:"6"}),i=(0,s.Wc)(e._('Your password is too short! You need {{minPasswordLength}}+ characters.', 'passwordValidation.minLength', 'The minimum password length is 8 characters. minPasswordLength:This variable is used to interpolate the minimum password length'),{minPasswordLength:d.toString()}),p=e._('Please make your username and password different.', 'passwordValidation.passwordEqualsToUsername', 'This error message is presented when the password is the same as the username'),h=e._('Please make a stronger password.', 'passwordValidation.strongerPassword', 'This error message is presented when the password is weak'),_=e._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'passwordValidation.onlyASCII', 'Only ASCII characters are allowed for password');return(0,n.useCallback)(function(e){var n=e.existingPassword,o=e.useOldPasswordValidation,s=e.username;if(n)return[(0,c.oR)({message:_}),(0,c.aH)({message:r}),(0,c.Gy)({min:6,minErrorString:r})];var a=l;o&&(a=u.Z);var f=t("mweb_strong_password").anyEnabled||t("web_strong_password").anyEnabled;return[(0,c.oR)({message:_}),(0,c.aH)({message:i}),a({shortPassStr:i,samePasswordStr:p,blackPassStr:h,minPasswordLength:d,strongPasswordErrorMsg:h,isStrongPasswordExpEnabled:f,username:s})]},[_,t,r,i,p,h])}},251719:function(e,t,r){"use strict";function n(e,t,r,n,o,s,a){try{var i=e[s](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}t.Z=function(e){var t;return t=regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r.e(6194),r.e(27385)]).then(r.bind(r,127385));case 2:return n=t.sent.Password,t.abrupt("return",n(e));case 5:case"end":return t.stop()}},t)}),function(){var e=this,r=arguments;return new Promise(function(o,s){var a=t.apply(e,r);function i(e){n(a,o,s,i,l,"next",e)}function l(e){n(a,o,s,i,l,"throw",e)}i(void 0)})}}},20561:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(132227),o=r(19035);function s(e){var t=e.children,r=e.onMouseEnter,s=e.onMouseLeave,a=e.onTouch,i=e.rounding,l=e.fullWidth,u=e.pressState,c=void 0===u?"none":u,d=e.accessibilityLabel,p=e.role,h=e.dataTestId,_=(Array.isArray(c)?c:[c]).includes("compress");return(0,o.jsx)(n.iP,{accessibilityLabel:d,dataTestId:h,fullWidth:void 0!==l&&l,onMouseEnter:r&&function(e){return r(e.event)},onMouseLeave:s&&function(e){return s(e.event)},onTap:a&&function(e){return a(e.event)},role:p,rounding:i,tapStyle:_?"compress":"none",children:t})}},903683:function(e,t,r){"use strict";r.d(t,{AF:function(){return l},H0:function(){return u},S6:function(){return c},_S:function(){return d}});var n=r(545007),o=r(218291),s=r(19035),a=(0,o.Z)("Pins"),i=a.Provider,l=a.useHook,u=a.useMaybeHook;function c(){var e=l();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.v9)(function(e){return e.pins},n.wU);return(0,s.jsx)(i,{value:r,children:t})}},842770:function(e,t,r){"use strict";r.d(t,{X:function(){return c},m:function(){return u}});var n=r(258712),o=r(218291),s=r(19035);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=(0,o.Z)("Session"),l=i.Provider,u=i.useHook;function c(e){var t,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(void 0))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{s=(r=r.call(e)).next,!1;for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],u=o[1],c=(0,n.useMemo)(function(){return{unauthBoardInvite:i,setUnauthBoardInvite:u}},[i]);return(0,s.jsx)(l,{value:c,children:r})}},245461:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{B:function(){return c},Z:function(){return u}});var o="gmail.com",s="yahoo.com",a="hotmail.com",i="icloud.com",l={AR:[o,a,"yahoo.com.ar"],AU:[o,a,"bigpond.com"],BR:[o,a,"yahoo.com.br"],CA:[o,a,s],DE:[o,"web.de","gmx.de"],ES:[o,a,"hotmail.es"],FR:[o,"hotmail.fr","orange.fr"],GB:[o,"hotmail.co.uk","hotmail.com"],IN:[o,s,"rediffmail.com"],IT:[o,"libero.it","hotmail.it"],JP:[o,"yahoo.co.jp","ezweb.ne.jp"],MX:[o,a,"outlook.com"],US:[o,a,s],KR:[o,"naver.com","hanmail.net","nate.com","daum.net"],ID:[o,s,"yahoo.co.id","ymail.com","rocketmail.com"],PH:[o,s,"yahoo.com.ph",i,"ymail.com"],TH:[o,a,"hotmail.co.th",s,i],VN:[o,s,"yahoo.com.vn",i,a],DEFAULT:[o,a,s]};function u(e){return e&&e.toUpperCase()in l?l[e.toUpperCase()]:l.DEFAULT}function c(e){var t,r=function(e){if(Array.isArray(e))return e}(t=e.split("@"))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{s=(r=r.call(e)).next,!1;for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return n(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],s=r[1],a="",i=o.length;return a=i>3?o.substring(0,3)+o.substring(3,i).replace(/\w/g,"*"):o.replace(/\w/g,"*"),"".concat(a,"@").concat(s)}},982711:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(838380),o=r(756493),s=r(857147),a=r(716895);function i(e){var t=e.i18n,r=e.location,s=r.pathname.startsWith("/signup"),a=r.pathname.startsWith("/login");if(!s&&!a)return{showPLPBanner:!1,pinForBanner:null};try{i=(0,o.Nl)().getItem(n.N_)||[]}catch(e){i=[]}if(i&&i.length>0){var i,l,u=null==(l=i)?void 0:l[0];if(u)return u.bannerCopy=t._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:!!u.image,pinForBanner:u}}return{showPLPBanner:!1,pinForBanner:null}}function l(e){var t,r=e.i18n,n=e.location,o=(null==(t=n.state)?void 0:t.next)||(0,a.Z)(n);if(o){var i=o.indexOf("?"),l=(0,s.mB)(o.substring(i));if(l.url&&l.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,s.Jx)(l.media),height:1,width:1},pinDescription:l.description,bannerCopy:r._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function u(e){var t=e.i18n,r=e.location;return l({i18n:t,location:r}).showPLPBanner?l({i18n:t,location:r}):i({i18n:t,location:r}).showPLPBanner?i({i18n:t,location:r}):{showPLPBanner:!1,pinForBanner:null}}},464389:function(e,t,r){"use strict";function n(e){return!!(null==e?void 0:e.is_matured_new_user)}r.d(t,{IR:function(){return a},V0:function(){return n},Wn:function(){return s},xT:function(){return o}});var o=function(e){return!!e&&2===e.login_state},s=function(e){return!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/))};function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},641289:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(132227),o=r(174646),s=r(839284),a=r(20561),i=r(245461),l=r(19035);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,o,s;n=e,o=t,s=r[t],(o=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(o))in n?Object.defineProperty(n,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[o]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p={border:"1px solid rgb(181, 181, 181)",zIndex:1};function h(e){var t=e.email,r=e.emailFieldElement,u=e.handleEmailSuggestionClick,c=e.showUsername,h=(0,o.B)().country,_=(0,i.Z)(h),f=function(e){if((0,s.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};var t=e.getBoundingClientRect();return{width:t.width,top:t.y+t.height}}(r),m=f.width,g=f.top;return(0,l.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:d(d({},p),{},{top:g})},direction:"column",display:"flex",position:"absolute",width:m,children:_.map(function(e){var r=c?t.concat(e):e;return(0,l.jsx)(n.xu,{children:(0,l.jsx)("div",{onMouseDown:function(){u(t.concat(e))},role:"button",tabIndex:0,children:(0,l.jsx)(a.Z,{pressState:"none",children:(0,l.jsx)(n.xu,{paddingX:3,paddingY:2,children:(0,l.jsx)(n.xv,{children:r})})})})},r)})})}},266573:function(e,t,r){"use strict";r.d(t,{Z:function(){return tb}});var n=r(258712),o=r(545007),s=r(284987),a=r(132227),i=r(420205),l=r(578373),u=r(779947),c=r(372991),d=r(514843),p=r(315772),h=r(516102),_=r(750125),f=r(219308),m=r(463227),g=r(741090),b=r(18644),y=r(397657),v=r(641092),w=r(852015),S=r(231333),P=r(233846),E=r(116629),T=r(665921),x=r(864339),A=r(693806),O=r(243694),j=r(964273),C=r(870215),I=r(20992),k=r(967312),R=r(289257),L=r(174646),N=r(645222),D=r(159434),B=r(112800),z=r(339908),U=r(857147),Z=r(279619),F=r(538645),W=r(839284),M=r(269136),V=r(882368),H=r(717616),G=r(331935),q=r(842770),Y=r(352437),K=r(982711),Q=r(464389),X=r(680877),$=r(943904),J=r(523429),ee=r(296413),et=r(348393),er=r(136830),en=r(226003),eo=r(892671),es=r(673264),ea=r(19035);function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function el(e){var t,r=e.disabled,o=e.getFocusFieldRef,s=e.handleChangePassword,i=e.handlePasswordReset,l=e.isReducedHeader,u=e.password,c=e.setValidState,d=e.error,p=void 0===d?"":d,h=e.showPLPBanner,_=e.viewType,f=(0,P.ZP)(),m=function(e){if(Array.isArray(e))return e}(t=(0,n.useState)(p))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{s=(r=r.call(e)).next,!1;for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ei(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ei(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],b=m[1];(0,eo.Q)({view_type:_,view_parameter:3207}),(0,n.useEffect)(function(){return b(p)},[p]),(0,n.useEffect)(function(){u?c(""):c("Missing password")},[u]);var y=f._('Looks like you\'re already on Pinterest', 'Heading indicating that the user is already registered on Pinterest', 'Heading indicating that the user is already registered on Pinterest');return(0,ea.jsxs)(a.xu,{marginTop:3,children:[(0,ea.jsx)(a.xu,{marginBottom:2,children:(0,ea.jsx)(es.Z,{minHeight:60,children:(0,ea.jsx)(a.X6,{overflow:"normal",size:l||void 0!==h&&h?"600":"700",children:y})})}),(0,ea.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:2,children:(0,ea.jsx)(a.xu,{flex:"grow",children:(0,ea.jsx)(a.nv,{ref:o,disabled:r,errorMessage:g,id:"password",onChange:function(e){s(e.value).then(function(){g&&b("")})},placeholder:f._('Enter your password', 'Enter password field label', 'Enter password field label'),size:"lg",type:"password",value:u})})}),(0,ea.jsx)(a.xu,{"data-test-id":"reset-password",marginTop:1,children:(0,ea.jsx)(a.xv,{inline:!0,size:"100",weight:"bold",children:(0,ea.jsx)(a.rU,{display:"inlineBlock",href:"/password/reset",onClick:i,underline:"hover",children:f._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]})}var eu=r(906627),ec=r(309847),ed=r(951879),ep=r(51340),eh=r(641289);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(r),!0).forEach(function(t){eS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eb(e,t){return(eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ey(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ev(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ev=function(){return!!e})()}function ew(e){return(ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eS(e,t,r){return(t=eP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eP(e){var t=function(e,t){if("object"!=e_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=e_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e_(t)?t:t+""}var eE=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eb(o,e);var t,r,n=(t=ev(),function(){var e,r=ew(o);return e=t?Reflect.construct(r,arguments,ew(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==e_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ey(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return eS(ey(e=n.call.apply(n,[this].concat(r))),"state",{email:e.props.email,emailFieldElement:null,error:"",shouldShowEmailSuggestions:!1}),eS(ey(e),"onBlur",function(t){var r=t.value;e.props.emailError||e.validate(r,!0)}),eS(ey(e),"onChange",function(t){var r=t.value;if(e.props.setEmailError(null),e.props.handleChangeEmail(r).then(function(){return e.validate(r,!1)}),e.state.shouldShowEmailSuggestions)e.setState({shouldShowEmailSuggestions:!1});else if(r.endsWith("@")){var n=e.emailTextFieldInput;e.setState({shouldShowEmailSuggestions:!0,emailFieldElement:n})}e.setState({email:r})}),eS(ey(e),"showEmailDomainTypoError",function(t,r){var n,o=e.state.email,s=(function(e){if(Array.isArray(e))return e}(n=(o||"").includes("@")?o.split("@"):[])||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{s=(r=r.call(e)).next,!1;for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(n,2)||function(e,t){if(e){if("string"==typeof e)return eg(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eg(e,t):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];("gmail"===r?"gmail.com"===s:(s||"").startsWith("".concat(r,".")))||(e.setState({error:""}),e.props.setEmailError({type:"domainTypo",fixedEmail:"".concat(t,"@").concat(r,".com")}),e.props.setValidState("".concat(r," error")),(0,B.My)("unauth_mweb.signup.".concat(r,"_suggestion.shown")))}),eS(ey(e),"validate",function(t,r){var n=e.props,o=n.setValidState,s=n.validateEmailExists,a=(t||"").includes("@")?t.split("@"):[];if((0,ed.Z)(t)){var i=a[0];s(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(i,"gmail")}).catch(function(t){var r,n;A.Cx.includes(null!=(r=(0,b.Z)(t,"api_error_code"))?r:0)?e.setState({error:null!=(n=(0,b.Z)(t,"message"))?n:""}):e.showEmailDomainTypoError(i,"gmail")});return}var l=!1;["yahoo","hotmail"].forEach(function(r){if((0,ed.z)(t,r)){l=!0;var n=a[0];s(t).then(function(t){t.resource_response.data?(e.setState({error:""}),e.props.setEmailError(null),o()):e.showEmailDomainTypoError(n,r)}).catch(function(t){var o,s;A.Cx.includes(null!=(o=(0,b.Z)(t,"api_error_code"))?o:0)?e.setState({error:null!=(s=(0,b.Z)(t,"message"))?s:""}):e.showEmailDomainTypoError(n,r)})}}),l||e.props.setEmailError(null);var u=(0,G.a3)(t,[(0,G.aH)({message:e.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')}),(0,G.GT)({message:e.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]);u&&r&&(0,G.a3)(t,[(0,G.oR)({message:"Contains non-ASCII characters"})])&&(0,B.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciiemail"),e.setState({error:r?u:""}),o(u)}),eS(ey(e),"handleEmailSuggestionClick",function(t){(0,B.My)("mweb_unauth_email_suggestions.signup_page.tap"),e.onChange({value:t})}),eS(ey(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,o=t.showPLPBanner;return t.showConsistentSteps?"600":r?"400":n||o?"600":"700"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.email,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.i18n,n=t.disabled,o=t.getFocusFieldRef,s=t.hideLabel,i=t.showConsistentSteps,l=t.showModernizedNuxUI,u=t.showPLPBanner,c=t.emailError,d=this.state,p=d.error,h=d.email,_=10;return i?_=0:u&&(_=3),(0,ea.jsxs)(a.xu,{marginTop:i?5:3,children:[!s&&(0,ea.jsx)(a.__,{htmlFor:"email",children:(0,ea.jsx)(a.xu,{"data-test-id":"email-address-heading",marginBottom:_,children:(0,ea.jsx)(es.Z,{center:!i&&l,minHeight:60,children:(0,ea.jsx)(a.X6,{accessibilityLevel:1,align:l&&!i?"center":"start",overflow:"normal",size:this.getHeadingSize(),children:r._('What\'s your email?', 'Sign up page field label', 'Sign up page field label')})})})}),(0,ea.jsxs)(a.xu,{marginTop:i?6:2,children:[(0,ea.jsx)(a.nv,{ref:function(t){e.emailTextFieldInput=t,o(t)},autoComplete:this.state.shouldShowEmailSuggestions?"off":"on",disabled:n,errorMessage:this.state.shouldShowEmailSuggestions?"":p,id:"email",onBlur:this.onBlur,onChange:this.onChange,placeholder:l?r._('Enter your email address', 'signup.email_step.email_input.placeholder', 'placeholder for email input'):r._('Email address', 'Field label', 'Field label'),size:"lg",type:"email",value:h}),!!c&&(0,ea.jsx)(a.xu,{"data-test-id":"invalid-email-container",marginTop:1,children:"domainTypo"===c.type?(0,ea.jsx)(a.iP,{onTap:function(){e.onChange({value:c.fixedEmail}),e.props.setEmailError(null),e.props.setValidState(),(0,B.My)("unauth_mweb.signup.gmail_suggestion.click")},children:(0,ea.jsx)(a.xv,{color:"error",children:(0,ep.nk)(r._('Did you mean {{ emailElement }}?', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)', 'Email suggestion when user tries to sign up with a email account that has a typo (like abc@hotmail.con)'),{emailElement:(0,ea.jsx)(a.xv,{color:"error",inline:!0,weight:"bold",children:c.fixedEmail})})})}):(0,ea.jsx)(a.xv,{color:"error",children:r._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}),this.state.shouldShowEmailSuggestions?(0,ea.jsx)(eh.Z,{email:this.state.email,emailFieldElement:this.state.emailFieldElement,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null]})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eP(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function eT(e){var t=(0,P.ZP)(),r=(0,k.F)().checkExperiment;(0,eo.Q)({view_type:e.viewType,view_parameter:3146});var n=e.showModernizedNuxUI;return(0,ea.jsx)(eE,em(em({validateEmailExists:function(e){return(0,en.OF)(e)}},e),{},{checkExperiment:r,i18n:t,showModernizedNuxUI:n}))}var ex=r(302445),eA=r(338148);function eO(e){return(eO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){eN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eI(e,t){return(eI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ek(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eR=function(){return!!e})()}function eL(e){return(eL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eN(e,t,r){return(t=eD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eD(e){var t=function(e,t){if("object"!=eO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eO(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eO(t)?t:t+""}var eB=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&eI(o,e);var t,r,n=(t=eR(),function(){var e,r=eL(o);return e=t?Reflect.construct(r,arguments,eL(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eO(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ek(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return eN(ek(e=n.call.apply(n,[this].concat(r))),"state",{error:""}),eN(ek(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eN(ek(e),"onChange",function(t){var r=t.value;e.props.handleChangeName(r).then(function(){return e.validate(r,!1)})}),eN(ek(e),"validate",function(t,r){var n=(0,G.a3)(t,[(0,G.aH)({message:e.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})]);e.setState({error:r?n:""}),e.props.setValidState(n)}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.name,!1)}},{key:"render",value:function(){var e=this.props,t=e.isBusiness,r=e.disabled,n=e.getFocusFieldRef,o=e.name,s=this.state.error;return(0,ea.jsxs)(a.xu,{"data-test-id":"business-name-heading",marginTop:3,children:[(0,ea.jsx)(a.__,{htmlFor:"name",children:(0,ea.jsx)(a.X6,{accessibilityLevel:1,overflow:"normal",size:"600",children:t?this.props.i18n._('What\'s your business name?', 'Sign up page field label', 'Sign up page field label'):this.props.i18n._('What\'s your name?', 'Sign up page field label', 'Sign up page field label')})}),(0,ea.jsx)(a.xu,{"data-test-id":"name-field",marginTop:2,children:(0,ea.jsx)(a.nv,{ref:n,disabled:r,errorMessage:s,id:"name",onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.i18n._('Business name', 'Textfield placeholder', 'Textfield placeholder'):this.props.i18n._('Full name', 'Textfield placeholder', 'Textfield placeholder'),size:"lg",type:"text",value:o})})]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eD(n.key),n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.PureComponent);function ez(e){var t=(0,P.ZP)();return(0,eo.Q)({view_type:e.viewType,view_parameter:3148}),(0,ea.jsx)(eB,eC(eC({},e),{},{i18n:t}))}var eU=r(983311);function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(t){eK(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eM(e,t,r,n,o,s,a){try{var i=e[s](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function eV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eQ(n.key),n)}}function eH(e,t){return(eH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eG(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eq=function(){return!!e})()}function eY(e){return(eY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eK(e,t,r){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=function(e,t){if("object"!=eZ(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=eZ(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eZ(t)?t:t+""}var eX=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&eH(s,e);var t,r,n,o=(t=eq(),function(){var e,r=eY(s);return e=t?Reflect.construct(r,arguments,eY(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==eZ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eG(e)}(this,e)});function s(){var e,t,r;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return eK(eG(e=o.call.apply(o,[this].concat(a))),"state",{error:e.props.externalError||""}),eK(eG(e),"onBlur",function(t){var r=t.value;e.validate(r,!0)}),eK(eG(e),"onChange",function(t){var r=t.value;e.props.handleChangePassword(r).then(function(){var t=e.props.isOnPasswordStrengthExperiment;e.validate(r,!t)})}),eK(eG(e),"validate",(t=regeneratorRuntime.mark(function t(r,n){var o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.externalError&&e.setState({error:""}),o=(0,G.oR)({message:e.props.i18n._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'PasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password')}),t.next=4,(0,G.U2)(r,e.props.getPasswordValidationRules({}));case 4:s=t.sent,e.setState({error:n?s:""}),e.props.setValidState(s),(0,G.a3)(r,[o])&&n&&(0,B.My)("mweb_unauth.signup.error.CLIENT_ERROR.nonasciipwd");case 9:case"end":return t.stop()}},t)}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var s=t.apply(e,r);function a(e){eM(s,n,o,a,i,"next",e)}function i(e){eM(s,n,o,a,i,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)})),eK(eG(e),"getHeadingSize",function(){var t=e.props,r=t.showModernizedNuxUI,n=t.isReducedHeader,o=t.showPLPBanner;return t.showConsistentSteps?"600":r?"400":n||o?"600":"700"}),e}return r=[{key:"componentDidMount",value:function(){this.validate(this.props.password,!1)}},{key:"render",value:function(){var e=this.props,t=e.i18n,r=e.isOnPasswordStrengthExperiment,n=e.disabled,o=e.getFocusFieldRef,s=e.password,i=e.showPLPBanner,l=e.showModernizedNuxUI,u=e.showConsistentSteps,c=this.state.error,d=(0,ep.Wc)(t._('Password with {{minPasswordLength}} or more characters', 'unauth.signup.password_step.password_helper_text', 'Placeholder text on the password input field on the mobile Password step page. minPasswordLength:Minimum password length determined by the new password experiment'),{minPasswordLength:"8"}),p=10;return u?p=0:i&&(p=3),(0,ea.jsxs)(a.xu,{marginTop:u?5:3,children:[(0,ea.jsx)(a.__,{htmlFor:"password",children:(0,ea.jsx)(a.xu,{"data-test-id":"create-password-heading",marginBottom:p,children:(0,ea.jsx)(es.Z,{center:!u&&l,minHeight:60,children:(0,ea.jsx)(a.X6,{accessibilityLevel:1,align:l&&!u?"center":"start",overflow:"normal",size:this.getHeadingSize(),children:t._('Create a password', 'Sign up page field label', 'Sign up page field label')})})})}),(0,ea.jsx)(a.xu,{"data-test-id":"password-field",marginTop:u?6:2,position:"relative",children:(0,ea.jsx)(a.nv,{ref:o,autoComplete:"new-password",disabled:n,errorMessage:c,helperText:r?"":d,id:"password",onBlur:this.onBlur,onChange:this.onChange,placeholder:t._('Enter your password', 'signup.email_step.password_input.placeholder', 'placeholder for password input'),size:"lg",type:"password",value:s})}),(0,ea.jsx)(eU.default,{password:s})]})}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.externalError&&!t.error?{error:e.externalError}:null}}],r&&eV(s.prototype,r),n&&eV(s,n),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.PureComponent);function e$(e){var t=(0,P.ZP)(),r=(0,f.Z)(),n=(0,k.F)(),o=(0,M.Z)(),s=n.checkExperiment("mweb_strong_password").anyEnabled,a=e.showModernizedNuxUI,i=e.viewType;return(0,eo.Q)({view_type:i,view_parameter:3147}),(0,ea.jsx)(eX,eW(eW({},e),{},{getPasswordValidationRules:o,i18n:t,isOnPasswordStrengthExperiment:s,logContextEvent:r,showModernizedNuxUI:a}))}var eJ=r(566269),e0=r(856244),e1=r(192946),e3=r(899954),e2=r(553842),e6=r(992114),e8=["passwordValidationError"];function e4(e){return(e4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e5(e){return function(e){if(Array.isArray(e))return e9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||e7(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e7(e,t){if(e){if("string"==typeof e)return e9(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e9(e,t):void 0}}function e9(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t,r,n,o,s,a){try{var i=e[s](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function tt(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function a(e){te(s,n,o,a,i,"next",e)}function i(e){te(s,n,o,a,i,"throw",e)}a(void 0)})}}function tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(r),!0).forEach(function(t){tl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function to(e,t){return(to=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ts(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ta=function(){return!!e})()}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tl(e,t,r){return(t=tu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tu(e){var t=function(e,t){if("object"!=e4(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=e4(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e4(t)?t:t+""}var tc={EMAIL_STEP:1,PASSWORD_STEP:2,NAME_STEP:3,BIRTHDAY_STEP:4,ALREADY_HAS_PASSWORD_STEP:5,WEBSITE_STEP:6,INTENT_STEP:7,SALES_CONTACT_STEP:8,BUSINESS_TYPE_STEP:9,SSO_STEP:10,CONSENT_STEP:11},td=[tc.EMAIL_STEP,tc.PASSWORD_STEP,tc.BIRTHDAY_STEP],tp=[tc.EMAIL_STEP,tc.PASSWORD_STEP,tc.BIRTHDAY_STEP],th=[tc.EMAIL_STEP,tc.SSO_STEP,tc.BIRTHDAY_STEP],t_=[tc.EMAIL_STEP,tc.PASSWORD_STEP,tc.NAME_STEP,tc.BUSINESS_TYPE_STEP,tc.WEBSITE_STEP,tc.INTENT_STEP,tc.BIRTHDAY_STEP],tf=[tc.NAME_STEP,tc.BUSINESS_TYPE_STEP,tc.WEBSITE_STEP,tc.INTENT_STEP],tm=[tc.PASSWORD_STEP,tc.NAME_STEP,tc.BIRTHDAY_STEP],tg=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&to(s,e);var t,r,o=(t=ta(),function(){var e,r=ti(s);return e=t?Reflect.construct(r,arguments,ti(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"==e4(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ts(e)}(this,e)});function s(e){var t,r;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");return tl(ts(t=o.call(this,e)),"handleBack",function(e){return t.setState({stepToRender:e})}),tl(ts(t),"incrementBusinessStep",function(e){e&&t.isCountryUS()&&(0,e6.nP)("mweb_business_create_unauth_visits_sales_steps",{sampleRate:1})}),tl(ts(t),"setAdditionalSteps",function(){t.setState(tn({steps:t.getSteps()},t.getStateAdditions(t.props)))}),tl(ts(t),"getStateAdditions",function(e){var t={},r=e.isBusiness,n=e.isLBA,o=e.location;return n&&(t=tn({isExistingUser:!0,showLoginButtons:!1,stepToRender:tc.NAME_STEP},o.state)),o.state&&(t=o.state.isSignUpFromLoginError?tn({fullName:r||n?"":(0,T.Z)(o.state.email,e.country),steps:r||n?[tc.NAME_STEP]:[tc.BIRTHDAY_STEP],stepToRender:r||n?tc.NAME_STEP:tc.BIRTHDAY_STEP,isSignUpFromLoginError:!1},o.state):o.state.isFromSignupEmailExistError?tn(tn({steps:[tc.ALREADY_HAS_PASSWORD_STEP],stepToRender:tc.ALREADY_HAS_PASSWORD_STEP,isSignUpFromLoginError:!1},o.state),{},{email:o.state.email}):tn({},o.state)),t}),tl(ts(t),"getStepFromMatchParams",function(e){return parseInt(e.match.params.step||"1",10)||0}),tl(ts(t),"getSteps",function(){var e=t.props,r=e.isBusiness,n=e.isConsentStepNeeded,o=e.isGroupBoardSignup,s=e.isLBA,a=tp;return o?a=td:s?a=tf:r&&(a=t_),n&&a.push(tc.CONSENT_STEP),a}),tl(ts(t),"setIsExistingUser",function(e,r){e?t.setState({isExistingUser:e,steps:[tc.EMAIL_STEP,tc.ALREADY_HAS_PASSWORD_STEP]},r):t.setState({isExistingUser:e,steps:t.getSteps()},r)}),tl(ts(t),"setValidState",function(e){t.setState({isValid:!e})}),tl(ts(t),"getCurrentActionName",function(){switch(t.state.stepToRender){case tc.EMAIL_STEP:return"email";case tc.PASSWORD_STEP:case tc.ALREADY_HAS_PASSWORD_STEP:return"password";case tc.NAME_STEP:return"name";case tc.BIRTHDAY_STEP:return"birthday";case tc.WEBSITE_STEP:return"website";case tc.INTENT_STEP:return"intent";case tc.SALES_CONTACT_STEP:return"sales_contact";case tc.BUSINESS_TYPE_STEP:return"business_type_step";case tc.CONSENT_STEP:return"consent_step";default:return"undefined"}}),tl(ts(t),"getNextButtonText",function(){var e=t.state,r=e.steps,n=e.stepToRender,o=t.props,s=o.isGroupBoardSignup,a=o.i18n,i=a._('Accept invite', 'Accept the invite and move through the signup/login process', 'Accept the invite and move through the signup/login process');if(n===tc.ALREADY_HAS_PASSWORD_STEP)return s?i:a._('Log in', 'Button to login for existing user', 'Button to login for existing user');if(r[r.length-1]===n)if(s)return i;else return a._('Done', 'Go to next step account signup', 'Go to next step account signup');return null}),tl(ts(t),"getViewParameterType",function(){switch(t.state.stepToRender){case tc.EMAIL_STEP:return 3146;case tc.PASSWORD_STEP:return 3147;case tc.NAME_STEP:return 3148;case tc.ALREADY_HAS_PASSWORD_STEP:return 3207;case tc.BIRTHDAY_STEP:return 3737;case tc.WEBSITE_STEP:return 3376;case tc.INTENT_STEP:return 3377;case tc.SALES_CONTACT_STEP:return 3378;case tc.BUSINESS_TYPE_STEP:return 3406;case tc.CONSENT_STEP:return 4038;default:return}}),tl(ts(t),"getInferredUserInfo",function(){return{connected_to_facebook:!1,connected_to_google:!1,email:t.state.email,first_name:(0,T.Z)(t.state.email,t.props.country),has_password:!1,large_image_url:"",medium_image_url:"",small_image_url:"",xlarge_image_url:""}}),tl(ts(t),"navigateToStep",function(e){t.setState(function(t){return{stepToRender:t.steps[e-1],canEditCurrentTextField:!0}},function(){var r,n,o="/signup/step".concat(e,"/"),s=t.props,a=s.history,i=s.isBusiness,l=s.isLBA,u=s.location,c=s.isGroupBoardSignup,d=t.state,p=(d.passwordValidationError,function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(d,e8)),h=null==(r=u.state)?void 0:r.attributionLabel,_=(0,U.mB)(u.search).next||(null==(n=u.state)?void 0:n.next);i?o="/business/signup/step".concat(e,"/"):l&&(o="/linked/signup/step".concat(e,"/")),a.push({pathname:o,state:c?tn(tn(tn({},u.state),p),{},{attributionLabel:h,next:_}):tn(tn(tn({},u.state),p),{},{attributionLabel:h})})})}),tl(ts(t),"shouldSkipIntentStep",function(e){var r=t.state,n=r.steps,o=r.businessType;return n.length>e+1&&n[e+1]===tc.INTENT_STEP&&"influencer_public_figure_or_celebrity"===o}),tl(ts(t),"handleSsoContinue",function(){var e=t.props,r=e.authenticateWithSso,n=e.country,o=e.logContextEvent,s=t.state,i=s.email,l=s.exchangeCodeToTokenUrl,u=s.ssoAuthorizationUri;o({view_parameter:4014,view_type:664,event_type:102,element:14367}),r({callbacks:{success:function(e){var r=(0,T.Z)(i||"",n),o=e.ssoEmail,s=e.ssoId,a=e.ssoIdToken;if(o&&s&&a){t.setState({ssoEmail:o,ssoId:s,ssoIdToken:a,ssoName:r,fullName:r});var l=t.getStepFromMatchParams(t.props);t.navigateToStep(l+1)}},error:function(){t.props.showToast(function(e){var r=e.hideToast;return(0,ea.jsx)(a.xu,{"data-test-id":"error-sso-create-account-toast",children:(0,ea.jsx)(S.Z,{onHide:r,text:t.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'signup.sso.error', 'Error during sso signup'),type:"error"})})})}},exchangeCodeToTokenUrl:l,modalUrl:null!=u?u:""})}),tl(ts(t),"nextSignupStep",tt(regeneratorRuntime.mark(function e(){var r,n,o,s,a,l,u,c,d,p,h,_,f,g,v,w,P,E,x,O,j,C,I,k,R,L,N,D,B,z,U,Z,F,W,M,V,G;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(n=t.props).history,s=n.isLimitedLoginUser,a=n.location,l=n.loggedOutUserInfo,u=n.showToast,c=n.validateEmailExists,d=n.isGroupBoardSignup,p=n.isLBA,_=(h=t.state).email,f=h.intent,g=h.steps,v=h.stepToRender,w=t.getStepFromMatchParams(t.props),P=null==(r=a.state)?void 0:r.attributionLabel,"1"!==m.U2(i.It)){e.next=8;break}return t.setState({isLoading:!1}),u(function(e){var r=e.hideToast;return(0,ea.jsx)(S.Z,{duration:3e3,onHide:r,text:t.props.i18n._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Underage error during signup'),type:"error"})}),e.abrupt("return");case 8:if(t.shouldSkipIntentStep(w)&&(E=[].concat(e5(g.slice(0,w+1)),e5(g.slice(w+2))),t.setState({steps:E})),v!==tc.EMAIL_STEP){e.next=28;break}return x=t.props.verifySsoUser,e.next=13,x(_);case 13:if(j=(O=e.sent).isSso,C=O.existingUser,I=O.exchangeCodeToTokenUrl,k=O.authorizationUri,!(j&&!C)){e.next=24;break}return t.props.logContextEvent({element:14367,event_type:102,view_type:10,view_parameter:t.getViewParameterType()}),t.setState({exchangeCodeToTokenUrl:null!=I?I:"",ssoAuthorizationUri:null!=k?k:"",steps:th,isSsoFlow:!0},function(){return t.navigateToStep(w+1)}),e.abrupt("return");case 24:t.state.isSsoFlow&&t.setState({steps:t.getSteps(),isSsoFlow:!1});case 25:return c(t.state.email).then(function(){var e=tt(regeneratorRuntime.mark(function e(r){var n,i,u,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==r.resource_response.data){e.next=8;break}if(t.setState({isLoading:!1}),!(!l&&!s&&!d)){e.next=6;break}return o.replace({pathname:a.pathname,state:tn(tn({},a.state),{},{email:_,attributionLabel:P})}),o.push({pathname:"/login",state:{switch_account:null==(n=a.state)?void 0:n.switch_account,secondary_account:null==(i=a.state)?void 0:i.secondary_account,next:null==(u=a.state)?void 0:u.next,userInfo:t.getInferredUserInfo(),attributionLabel:P}}),e.abrupt("return");case 6:return t.setIsExistingUser(!0,function(){return t.navigateToStep(w+1)}),e.abrupt("return");case 8:return e.next=10,(0,y.Z)({url:"/v3/email/validation/",data:{email:t.state.email}});case 10:p=(c=(e.sent.resource_response||{}).data)&&c.is_valid,t.setState({isLoading:!1}),p?(t.setState(function(e){var r=e.email;return{fullName:t.props.isBusiness?"":(0,T.Z)(r,t.props.country)}}),t.navigateToStep(w+1)):t.setState({canEditCurrentTextField:!0,isValid:!1,emailError:{type:"invalid"}});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.setState({isLoading:!1});var r,n=(0,b.Z)(e,"message");A.Cx.includes(null!=(r=(0,b.Z)(e,"api_error_code"))?r:0)&&n&&u(function(e){var t=e.hideToast;return(0,ea.jsx)(S.Z,{duration:3e3,onHide:t,text:n,type:"error"})})}),t.setState({isLoading:!0}),e.abrupt("return");case 28:if(v!==tc.PASSWORD_STEP||(L=(R=t.props).logContextEvent,N=R.isOnPasswordStrengthExperiment,D=R.isOnPasswordStrengthRemoteExperiment,(N||D)&&L({event_type:16896,aux_data:{score_source:"zxcvbn",score:(0,H.tc)(t.state.password),surface:"SET_PASSWORD_ARR"}}),!D)){e.next=48;break}return B=performance.now(),e.prev=33,e.next=36,(0,y.Z)({url:"/v3/users/password_strength/",method:"POST",data:{password:t.state.password}});case 36:z=performance.now()-B,t.props.logContextEvent({event_type:16897,aux_data:{score_source:"zxcvbn",score:(0,H.tc)(t.state.password),time_in_ms:z}}),e.next=47;break;case 41:e.prev=41,e.t0=e.catch(33),U=performance.now()-B,t.props.logContextEvent({event_type:16898,aux_data:{score_source:"zxcvbn",score:(0,H.tc)(t.state.password),time_in_ms:U,status_code:(0,b.Z)(e.t0,"httpStatus")||"-1",api_error_code:(0,b.Z)(e.t0,"api_error_code")||"-1"}}),t.setState({isLoading:!1,passwordValidationError:(0,b.Z)(e.t0,"message"),canEditCurrentTextField:!0});case 47:return e.abrupt("return");case 48:if(v!==tc.ALREADY_HAS_PASSWORD_STEP){e.next=51;break}return t.loginUser(),e.abrupt("return");case 51:if(!(v===tc.INTENT_STEP&&t.isCountryUS())){e.next=79;break}if(Z=(0,eA.x)(t.props.i18n),F=!1,e.t1=f===Z.NOT_SURE.value,!e.t1){e.next=59;break}return e.next=58,t.isLeadScoringEligible("mweb_not_sure_intent");case 58:e.t1=e.sent;case 59:if(!e.t1){e.next=61;break}F=!0;case 61:if(e.t2=f===Z.YES.value,!e.t2){e.next=66;break}return e.next=65,t.isLeadScoringEligible("mweb_yes_intent");case 65:e.t2=e.sent;case 66:if(W=e.t2,!(-1===g.indexOf(tc.SALES_CONTACT_STEP)&&(F||W))){e.next=74;break}return(M=t_).push(tc.SALES_CONTACT_STEP),t.setState({steps:M},function(){t.navigateToStep(w+1)}),e.abrupt("return");case 74:if(f===Z.YES.value||-1===g.indexOf(tc.SALES_CONTACT_STEP)){e.next=79;break}return(V=t_.slice()).pop(),t.setState({steps:V},function(){t.registerUser()}),e.abrupt("return");case 79:G=g[g.length-1],v===G?p?t.updateLBA():t.registerUser():t.navigateToStep(w+1);case 81:case"end":return e.stop()}},e,null,[[33,41]])}))),tl(ts(t),"handleChangeEmail",function(e){return new Promise(function(r){return t.setState({email:e},r)})}),tl(ts(t),"handleChangePassword",function(e){return new Promise(function(r){return t.setState({password:e,passwordValidationError:""},r)})}),tl(ts(t),"handleChangeFullName",function(e){return new Promise(function(r){var n={fullName:e};t.state.isSsoFlow&&(n={fullName:e,ssoName:e}),t.setState(n,r)})}),tl(ts(t),"handleSetLocalBirthday",function(e){t.setState({localBirthday:e})}),tl(ts(t),"handleChangeWebsite",function(e){return new Promise(function(r){return t.setState({website:e},r)})}),tl(ts(t),"handleChangeIntent",function(e){return new Promise(function(r){return t.setState({intent:e},r)})}),tl(ts(t),"handleChangePhone",function(e){return new Promise(function(r){return t.setState({phone:e},r)})}),tl(ts(t),"handleChangeSalesName",function(e){return new Promise(function(r){return t.setState({salesName:e},r)})}),tl(ts(t),"handleChangeBusinessType",function(e){return new Promise(function(r){return t.setState({businessType:e},r)})}),tl(ts(t),"handleChangeBirthday",function(e){return new Promise(function(r){return t.setState({birthdayString:e},r)})}),tl(ts(t),"loginUser",function(){var e=t.props,r=e.history,n=e.isAuthenticated,o=e.isLimitedLoginUser,s=e.location,a=e.login,i=e.isGroupBoardSignup,l=t.state,u=l.email,c=l.password,d="";if(i){var p=s&&s.state&&s.state.next;d=p?"".concat(p,"&").concat((0,U.XP)({accept_invite:!0,seamless:!0})):""}a({username_or_email:u,password:c},r,s.state?d||s.state.next:"",void 0,{event_type:7534,view_type:10,view_parameter:3203,aux_data:tn(tn({},n?{login_state:o?O.Z.LIMITED:O.Z.DEFAULT}:{}),{},{signup_login_method:j.Z.EMAIL})}).catch(function(e){t.setState({isLoading:!1,passwordValidationError:(0,b.Z)(e,"message"),canEditCurrentTextField:!0})}),t.setState({isLoading:!0,passwordValidationError:""})}),tl(ts(t),"registerUser",function(){var e,r,n,o,s=t.state,a=s.birthdayString,l=s.email,d=s.fullName,p=s.password,f=s.steps,y=s.gender,v=s.customGender,w=s.website,P=s.intent,E=s.phone,T=s.salesName,x=s.businessType,C=s.recaptchaV3Token,I=s.isSsoFlow,k=s.ssoEmail,L=s.ssoId,N=s.ssoIdToken,D=s.ssoName,z=s.kr_privacy_consent_opt_in,Z=s.marketing_notifs_opt_out,F=t.props,W=F.i18n,M=F.isAuthenticated,V=F.isLimitedLoginUser,H=F.isBusiness,G=F.register,q=F.showToast,Y=F.setNumSignupSteps,K=F.location,Q=F.isGroupBoardSignup,X=F.navigateAfterLoginStatusChange,$=F.pixelBlocked,J=F.thirdPartyMarketingTrackingEnabled,ee=F.saveWebsite,et=F.saveBusinessType,er=F.saveIntent,en=F.isRedirectToNextParamAfterSignup,eo=F.isAppFactoryOAuth,es=F.userId,ei=a?(0,g.Z)(a):void 0;if(void 0===ei){t.setState({canEditCurrentTextField:!0}),q(function(e){var t=e.hideToast;return(0,ea.jsx)(S.Z,{duration:3e3,onHide:t,text:W._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing'),type:"error"})});return}if(H)n=d;else{var el,eu=function(e){if(Array.isArray(e))return e}(el=d.trim().split(" "))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,a,i=[],l=!0,u=!1;try{s=(r=r.call(e)).next,!1;for(;!(l=(n=s.call(r)).done)&&(i.push(n.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(el,2)||e7(el,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();e=eu[0],r=eu[1]}Y(f.length+1);var ec=Q?tn({gender:y},"unspecified"===y?{custom_gender:v}:{}):{},ed={};t.props.isConsentStepNeeded&&(ed.kr_privacy_consent_opt_in=z,ed.marketing_notifs_opt_out=Z),t.setState({isLoading:!0}),(0,B.Rp)({event:"signup_api_call_start",provider:"email"});var ep=tn(tn({type:"email",business_name:n,birthday:ei,email:l,first_name:e,last_name:r,password:p,recaptchaV3Token:C},ec),ed);I&&(o={type:"sso",first_name:D,business_name:D,sso_email:k,sso_id:L,sso_id_token:N,birthday:ei,email:l}),G(I&&o?o:ep,{signupAttemptContextEvent:{event_type:7537,view_type:10,view_parameter:3203,aux_data:tn(tn({},M?{login_state:V?O.Z.LIMITED:O.Z.DEFAULT}:{}),{},{signup_login_method:j.Z.EMAIL})}}).then(function(){var e,r;if((0,B.NC)(I?"signup_via_sso_signup_page":"signup_via_email_signup_page"),(0,B.Rp)({event:"signup_api_call_success",provider:I?"sso":"email"}),H&&((0,e6.nP)("mweb_business_create_unauth_register_business",{sampleRate:1}),er(parseInt(P,10),function(){return(0,e6.nP)("mweb_business_create_unauth_save_intent_success",{sampleRate:1})},function(){return(0,e6.nP)("mweb_business_create_unauth_save_intent_fail",{sampleRate:1})},es),ee(w,function(){return(0,e6.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,e6.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},es),et(x,function(){return(0,e6.nP)("mweb_business_create_unauth_save_business_type_success",{sampleRate:1})},function(){return(0,e6.nP)("mweb_business_create_unauth_save_business_type_fail",{sampleRate:1})},es),T&&E&&(t.setState({isSubmitting:!0}),t.reportToPropel()),J&&(h.Z.reportFacebookConversion(_.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/create"}),h.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),h.Z.reportGoogleConversion(_.Z.GOOGLE_ADWORDS_ID,_.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE,void 0,$),h.Z.reportLinkedInConversion(_.Z.LINKEDIN_PARTNER_ID,_.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT))),eo&&null!=(e=K.state)&&e.next)(0,u.Z)(K.state.next);else if(t._shouldShowFirstAdUpsellPage())(0,c.Z)("/business/install_app");else if(Q){var n={},o=K&&K.state&&K.state.next;n.pathname=o||"/",n.search=o?"?".concat(o[1],"&").concat((0,U.XP)({accept_invite:!0,seamless:!0})):"",t.props.setGenderStepComplete(),X(n.pathname)}else en&&null!=(r=K.state)&&r.next?X((0,U.Jx)(K.state.next)):X("/")}).catch(function(e){t.setState({isLoading:!1,canEditCurrentTextField:!0});var r,n,o=[A.tz,A.dj,A.tL,A.NF];(0,B.Rp)({event:"signup_api_call_failure",provider:"email"});var s=null!=(r=(0,b.Z)(e,"api_error_code"))?r:0,a=null!=(n=(0,b.Z)(e,"message"))?n:"";if(o.includes(s)){if(s===A.tz){m.t8(i.It,"1",(0,m.kZ)(i.It)),(0,B.My)("email_register_step_show_underage_confirmation"),t.setState({isUnderageModalOpen:!0});return}if(s===A.dj)return void t.setState({birthdayErrorMessage:a});q(function(e){var t=e.hideToast;return(0,ea.jsx)(S.Z,{duration:3e3,onHide:t,text:a,type:"error"})})}else q(function(e){var r=e.hideToast;return(0,ea.jsx)(S.Z,{duration:3e3,onHide:r,text:s&&a?a:t.props.i18n._('Oops! Something went wrong\u2026 Tap Done to try again.', 'Error during signup', 'Error during signup'),type:"error"})});(0,R.rY)(function(e){return t.setState({recaptchaV3Token:e})},function(){},R.ys)})}),tl(ts(t),"reportToPropel",function(){var e=t.state,r=e.email,n=e.fullName,o=e.website,s=e.phone,a=e.salesName,i=e.intent,u=t.props.country,c=a.trim().split(" ").filter(function(e){return!!e}),d=c[0],p=c.length>1?c.slice(1).join(" "):"",h="self_serve_mweb_create";i===(0,eA.x)(t.props.i18n).NOT_SURE.value&&(h+="_not_sure");var _={lead_email:r,lead_first_name:d,lead_last_name:p,lead_website:o,lead_phone:s,country:u,lead_source_detail:h,lead_source_type:"business_create",lead_company:n};(0,e6.nP)("mweb_business_create_unauth_report_to_propel_request",{sampleRate:1}),l.Z.create("PropelFormResource",_).callCreate({showError:!1}).then(function(){return(0,e6.nP)("mweb_business_create_unauth_report_to_propel_success",{sampleRate:1})}).catch(function(){return(0,e6.nP)("mweb_business_create_unauth_report_to_propel_fail",{sampleRate:1})})}),tl(ts(t),"isLeadScoringEligible",(r=tt(regeneratorRuntime.mark(function e(r){var n,o,s,a,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=t.state).website,s=n.businessType,a=n.intent,i={key:r,email:n.email,business_name:n.fullName,is_create:!0,locale:t.props.locale,account_type:s,advertising_intent:parseInt(a,10),website:o},e.next=5,(0,y.Z)({url:"/v3/business/lead/score/above_threshold/",data:i});case 5:if("success"!==(l=e.sent).resource_response.status){e.next=11;break}return u=l.resource_response.data,e.abrupt("return",!0===u);case 11:return(0,e6.nP)("mweb_business_create_unauth_lead_score_fail",{sampleRate:1}),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})),tl(ts(t),"handleSkipStep",function(){var e=t.state,r=e.isValid,n=e.stepToRender;(0,B.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".skip")),t.props.logContextEvent({element:1150,event_type:102,view_type:10,view_parameter:t.getViewParameterType()}),n!==tc.WEBSITE_STEP||r||t.setState({website:""}),t.nextSignupStep()}),tl(ts(t),"handlePasswordReset",function(){var e=t.props,r=e.history,n=e.logContextEvent,o=t.state.email,s=(0,k.F)().checkExperiment;n({view_type:10,view_parameter:t.getViewParameterType(),element:10881,event_type:102}),n({event_type:51,view_type:10,view_parameter:t.getViewParameterType()}),(0,y.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o,type:s("unauth_mweb_unified_ar").anyEnabled?"unified":"reset"}}).then(function(){r.replace({pathname:"/password/reset/sent/",state:{destinationEmail:o}}),t.setState({isLoading:!1})}),t.setState({isLoading:!0})}),tl(ts(t),"nextSignupStepWithValidation",function(e){e&&e.preventDefault(),t.setState({canEditCurrentTextField:!1},tt(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.validate();case 2:if(!e.sent){e.next=19;break}(0,B.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".completed")),e.t0=t.getCurrentActionName(),e.next="email"===e.t0?8:"password"===e.t0?10:"birthday"===e.t0?12:14;break;case 8:return r="submit_email",e.abrupt("break",15);case 10:return r="submit_password",e.abrupt("break",15);case 12:return r="submit_birthday",e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:r&&(0,B.Rp)({event:r,provider:"email"}),t.nextSignupStep(),e.next=21;break;case 19:(0,B.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".error")),t.setState({canEditCurrentTextField:!0});case 21:case"end":return e.stop()}},e)})))}),tl(ts(t),"trackStepViewed",function(){(0,B.My)("mweb.signup.step.".concat(t.getCurrentActionName(),".viewed"))}),tl(ts(t),"validate",tt(regeneratorRuntime.mark(function e(){var r,n,o,s,a,i,l,u,c,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(r=t.state).email,o=r.fullName,s=r.password,a=r.stepToRender,i=r.website,l=r.intent,u=r.phone,c=r.salesName,d=r.businessType,e.t0=a,e.next=e.t0===tc.EMAIL_STEP?4:e.t0===tc.PASSWORD_STEP?5:e.t0===tc.ALREADY_HAS_PASSWORD_STEP?9:e.t0===tc.NAME_STEP?10:e.t0===tc.BIRTHDAY_STEP?11:e.t0===tc.WEBSITE_STEP?12:e.t0===tc.INTENT_STEP?13:e.t0===tc.SALES_CONTACT_STEP?14:e.t0===tc.BUSINESS_TYPE_STEP?15:16;break;case 4:return e.abrupt("return",!(0,G.a3)(n,[t.requiredValidator(),(0,G.GT)({message:t.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')})]));case 5:return e.next=7,(0,G.U2)(s,t.props.getPasswordValidationRules({}));case 7:return p=e.sent,e.abrupt("return",!p);case 9:return e.abrupt("return",!(0,G.a3)(s,[t.requiredValidator()]));case 10:return e.abrupt("return",!(0,G.a3)(o,[t.requiredValidator()]));case 11:return e.abrupt("return",t.state.stepToRender===tc.BIRTHDAY_STEP||!(0,G.a3)(o,[t.requiredValidator(),(0,G.Gy)({max:30,maxErrorString:t.props.i18n._('Hmm, that\'s a few characters too long. Try a nickname instead?', 'Name exceeds 30 character maximum error', 'Name exceeds 30 character maximum error')})]));case 12:return e.abrupt("return",!(0,G.a3)(i,[(0,G.Jx)({message:t.props.i18n._('Please use a valid URL', 'Invalid website validation error', 'Invalid website validation error')})]));case 13:return e.abrupt("return",!(0,G.a3)(l,[t.requiredValidator(),t.numberValidator()]));case 14:return e.abrupt("return",!(0,G.a3)(u,[(0,G.Bh)({message:t.props.i18n._('Please use a valid phone number', 'Invalid phone number validation error', 'Invalid phone number validation error')})])&&!(0,G.a3)(c,[t.requiredValidator()]));case 15:return e.abrupt("return",!(0,G.a3)(d,[t.requiredValidator()]));case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}},e)}))),tl(ts(t),"numberValidator",function(){return(0,G.qA)({message:t.props.i18n._('Not a number.', 'Number field validation error message', 'Number field validation error message')})}),tl(ts(t),"requiredValidator",function(){return(0,G.aH)({message:t.props.i18n._('Required', 'Required field validation error message', 'Required field validation error message')})}),tl(ts(t),"_shouldShowFirstAdUpsellPage",function(){var e=t.props,r=e.country,n=e.isBusiness,o=e.isLBA;return!!((n||o)&&(0,p.Fl)(r))}),tl(ts(t),"isStepSkipable",function(){var e=t.state.stepToRender;return -1!==[tc.WEBSITE_STEP,tc.SALES_CONTACT_STEP].indexOf(e)}),tl(ts(t),"handleConsentStepSubmit",function(e){var r=e.kr_privacy_consent_opt_in,n=e.marketing_notifs_opt_out;t.setState({kr_privacy_consent_opt_in:r,marketing_notifs_opt_out:n},function(){t.nextSignupStepWithValidation()})}),t.state=tn({localBirthday:"",birthdayString:"",birthdayErrorMessage:"",email:"",fullName:"",isExistingUser:!1,isLoading:!1,isUnderageModalOpen:!1,isValid:!1,password:"",showLoginButtons:!1,steps:t.getSteps(),stepToRender:tc.EMAIL_STEP,isSignUpFromLoginError:!1,isSsoFlow:!1,isFromSignupEmailExistError:!1,ssoAuthorizationUri:"",ssoEmail:"",ssoId:"",ssoIdToken:"",ssoName:"",emailError:null,canEditCurrentTextField:!0,isSubmitting:!1,gender:"",customGender:"",website:"",intent:"",phone:"",salesName:"",businessType:"",recaptchaV3Token:"default",kr_privacy_consent_opt_in:void 0,marketing_notifs_opt_out:void 0},t.getStateAdditions(e)),t}return r=[{key:"componentDidMount",value:function(){var e=this;this.trackStepViewed();var t=this.props.isBusiness;this.incrementBusinessStep(t);var r=function(){(0,R.rY)(function(t){return e.setState({recaptchaV3Token:t})},function(){},R.ys)};r(),setInterval(r,R.yc)}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.isBusiness,o=r.isLBA,s=r.isGroupBoardSignup,a=r.isConsentStepNeeded;(e.isBusiness!==n||e.isLBA!==o||e.isGroupBoardSignup!==s||e.isConsentStepNeeded!==a)&&(this.incrementBusinessStep(n),this.setAdditionalSteps());var i=this.getStepFromMatchParams(e),l=this.getStepFromMatchParams(this.props);this.state.isExistingUser&&e.location!==this.props.location&&2!==l&&this.setIsExistingUser(!1,void 0),i!==l&&this.handleBack(t.steps[l-1]),t.stepToRender!==this.state.stepToRender&&this.trackStepViewed()}},{key:"isCountryUS",value:function(){return"US"===this.props.country}},{key:"updateLBA",value:function(){var e=this.state,t=e.fullName,r=e.website,n=e.intent,o=e.businessType,s=this.props;(0,s.saveWebsite)(r,function(){return(0,e6.nP)("mweb_business_create_unauth_save_website_success",{sampleRate:1})},function(){return(0,e6.nP)("mweb_business_create_unauth_save_website_fail",{sampleRate:1})},s.userId),l.Z.create("UserSettingsResource",{advertising_intent:n,business_name:t,account_type:o,surface_tag:N.i.REGISTRATION}).callUpdate().then(function(){return(0,u.Z)("/me")})}},{key:"render",value:function(){var e,t=this,r=this.props,o=r.isBusiness,s=r.history,l=r.i18n,u=r.location,c=r.inSmbSalesCopyChangeExperiment,d=r.isLBA,p=r.isAppFactoryOAuth,h=r.isGroupBoardSignup,_=this.getStepFromMatchParams(this.props);if(Number.isNaN(_)||_<1||_>12)return s.replace("/"),null;var f=this.state,g=f.birthdayString,b=f.birthdayErrorMessage,y=f.canEditCurrentTextField,S=f.isSubmitting,P=f.email,E=f.fullName,T=f.businessType,A=f.website,O=f.intent,j=f.phone,I=f.salesName,k=f.emailError,R=f.isExistingUser,L=f.isLoading,N=f.isUnderageModalOpen,B=f.isValid,z=f.password,U=f.passwordValidationError,Z=f.showLoginButtons,F=f.steps,W=f.stepToRender,M=F.length,V=X.tr,H=d?tf.length:o?t_.length:M+V;this.state.isSsoFlow&&(H=th.length);var G=(0,K.Z)({i18n:l,location:u}),q=G.showPLPBanner,Q=G.pinForBanner,J=!(o||d||p),ee=J&&!tm.includes(W),et=J&&W===tc.EMAIL_STEP,er=o||d?void 0:"300";er&&tm.includes(W)&&(er="200");var en=o||d?156:10,eo=this.getViewParameterType(),es=!o&&!d,ei=!o&&!d&&!h,ed=null==(e=u.state)?void 0:e.attributionLabel;return(0,ea.jsxs)(x.default,{hasFixedHeader:!1,hasGutter:!q&&!this.props.showConsistentSteps,children:[!!eo&&(0,ea.jsx)(e3.Z,{currentIndex:_-1,numSteps:H,showPLPBanner:q,viewParameter:eo,viewType:en}),(0,ea.jsx)(a.xu,{"data-test-id":"signup-page-form",marginEnd:this.props.showConsistentSteps?4:"auto",marginStart:this.props.showConsistentSteps?4:"auto",maxWidth:400,children:(0,ea.jsxs)("form",{onSubmit:this.nextSignupStepWithValidation,children:[q&&Q&&(0,ea.jsx)(e1.Z,{pin:Q}),(0,ea.jsxs)(a.xu,{paddingX:q&&!this.props.showConsistentSteps?4:0,children:[W===tc.EMAIL_STEP&&(0,ea.jsx)(eT,{disabled:!y,email:P,emailError:k,getFocusFieldRef:v.Z,handleChangeEmail:this.handleChangeEmail,isReducedHeader:es,setEmailError:function(e){return t.setState({emailError:e})},setValidState:this.setValidState,showConsistentSteps:this.props.showConsistentSteps,showModernizedNuxUI:ei,showPLPBanner:q,viewType:en}),W===tc.PASSWORD_STEP&&(0,ea.jsx)(e$,{disabled:!y,externalError:U,getFocusFieldRef:v.Z,handleChangePassword:this.handleChangePassword,isReducedHeader:es,password:z,setValidState:this.setValidState,showConsistentSteps:this.props.showConsistentSteps,showModernizedNuxUI:ei,showPLPBanner:q,viewType:en}),W===tc.ALREADY_HAS_PASSWORD_STEP&&(0,ea.jsx)(el,{disabled:!y,error:U,getFocusFieldRef:v.Z,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isReducedHeader:es,password:z,setValidState:this.setValidState,showPLPBanner:q,viewType:en}),W===tc.SSO_STEP&&(0,ea.jsx)(C.Z,{onContinueClick:this.handleSsoContinue,showConsistentSteps:this.props.showConsistentSteps}),W===tc.NAME_STEP&&(0,ea.jsx)(ez,{disabled:!y,getFocusFieldRef:v.Z,handleChangeName:this.handleChangeFullName,isBusiness:o,name:E,setValidState:this.setValidState,viewType:en}),W===tc.BIRTHDAY_STEP&&(0,ea.jsx)(eu.Z,{birthday:this.state.localBirthday,birthdayErrorMessage:b,disabled:!y,handleChangeBirthday:this.handleChangeBirthday,handleChangeName:this.handleChangeFullName,name:E,setBirthday:this.handleSetLocalBirthday,setValidState:this.setValidState,showConsistentSteps:this.props.showConsistentSteps,viewType:en}),W===tc.BUSINESS_TYPE_STEP&&(0,ea.jsx)(ec.Z,{handleChangeBusinessType:this.handleChangeBusinessType,selectedBusinessType:T,setValidState:this.setValidState,viewType:en}),W===tc.WEBSITE_STEP&&(0,ea.jsx)(e0.Z,{disabled:!y,getFocusFieldRef:v.Z,handleChangeWebsite:this.handleChangeWebsite,setValidState:this.setValidState,viewType:en,website:A}),W===tc.INTENT_STEP&&(0,ea.jsx)(eA.b,{disabled:!y,handleChangeIntent:this.handleChangeIntent,intent:O,setValidState:this.setValidState,viewType:en}),W===tc.SALES_CONTACT_STEP&&(0,ea.jsx)(eJ.Z,{disabled:!y,handleChangeName:this.handleChangeSalesName,handleChangePhone:this.handleChangePhone,inCopyChangeExp:c,name:I,phone:j,setValidState:this.setValidState,viewType:en}),W===tc.CONSENT_STEP&&(0,ea.jsx)(D.Z,{isBusiness:o,isRegistering:!1,onSubmitHandler:this.handleConsentStepSubmit,showConsistentSteps:this.props.showConsistentSteps,validationError:""}),W!==tc.SSO_STEP&&W!==tc.CONSENT_STEP?(0,ea.jsxs)(n.Fragment,{children:[(0,ea.jsx)(a.xu,{marginBottom:6}),(0,ea.jsx)(ex.Z,{allowSkip:this.isStepSkipable(),attributionLabel:ed,handleSkipStep:this.handleSkipStep,isBusiness:o||d,location:u,loginLink:er,nextButtonText:this.getNextButtonText(),nextDisabled:!B||S||W===tc.WEBSITE_STEP&&!A,nextPageForLogin:u.state?u.state.next:"",showBusinessSignup:et,showSocialSignUpButtons:ee,showTextDivider:Z,showTos:!0,viewParameter:this.getViewParameterType()})]}):null]})]})}),(0,ea.jsx)(w.ZP,{accessibilityModalLabel:"",isOpen:N,mobileAccessibilityCloseIconLabel:l._('Close', 'modal.underage.close', 'Label for underage modal close button'),mobileHideCloseIcon:!0,onDismiss:function(){},children:(0,ea.jsx)(e2.Z,{birthday:g,onEditBirthday:function(){m.t8(i.It,"0",(0,m.kZ)(i.It)),t.setState({isUnderageModalOpen:!1}),W===tc.CONSENT_STEP&&t.navigateToStep(_-1)}})}),L&&(W!==F[F.length-1]||R?(0,ea.jsx)(Y.Z,{}):(0,ea.jsx)($.Z,{isReducedHeader:es,showConsistentSteps:this.props.showConsistentSteps}))]})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tu(n.key),n)}}(s.prototype,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.PureComponent);function tb(e){var t,r,n,a,i,l,u,c,p=(0,s.k6)(),h=(0,s.TH)(),_=null==(t=h.state)?void 0:t.attributionLabel,m=(0,s.$B)(),g=(0,P.ZP)(),b=(0,o.I0)(),y=(0,k.F)().checkExperiment,v=(0,z.F9)().showToast,w=(0,s.TH)().pathname,S=(0,V.Z)(),T=S.isAuth&&S.isLimitedLogin,x=S.isAuth?S.id:"",A=S.isAuth?S.third_party_marketing_tracking_enabled:void 0,O=y("mweb_smb_sales_handraiser_copy_change_unauth").anyEnabled,j=(0,ee.m)(),C=(0,J.f)(),R=(0,d.Z)(),D=(0,f.Z)(),B=(0,L.B)(),U=B.country,H=B.isAuthenticated,G=B.locale,K=(0,o.v9)(function(e){return e.session}),X=K.loggedOutUserInfo,$=K.userId,eo=null!=(r=(0,o.v9)(function(e){return e.users}))?r:{},es=(0,Q.xT)(eo[$]),ei=(0,F.ZP)(),el=(0,W.Z)(),eu=(0,Z.yp)(),ec=eu.isRequirementEnabled,ed=eu.state,ep=!el&&h.pathname.startsWith("/business/"),eh=!el&&h.pathname.startsWith("/linked/"),e_=(0,q.m)().unauthBoardInvite,ef=null!=(n=null!=(a=!el&&(null==(i=h.state)?void 0:i.isFromGroupBoardsInvite))?a:!!e_)&&n,em=null!=(l=(0,E.q)())&&l,eg=null!=(u=null==(c=h.state)?void 0:c.isRedirectToNextParamAfterSignup)&&u,eb=y("ppm_p_gate").anyEnabled,ey=!el&&ec({requirementEnum:1,viewType:10}),ev=y("ap_mweb_signup_and_nux_consistent_ui").anyEnabled,ew=y("mweb_strong_password").group,eS=(0,I.Z)(),eP=eS.authenticateWithSso,eE=eS.verifySsoUser,eT=(0,M.Z)();return w.startsWith("/business/")&&T||"desktop"===ei?(0,ea.jsx)(s.l_,{to:"/"}):el&&ed===Z.AA.LOADING?(0,ea.jsx)(Y.Z,{}):(0,ea.jsx)(tg,tn(tn({},e),{},{attributionLabel:_,authenticateWithSso:eP,country:U,getPasswordValidationRules:eT,history:p,i18n:g,inSmbSalesCopyChangeExperiment:O,isAppFactoryOAuth:em,isAuthenticated:H,isBusiness:ep,isConsentStepNeeded:ey,isGroupBoardSignup:ef,isLBA:eh,isLimitedLoginUser:es,isOnPasswordStrengthExperiment:"enabled"===ew,isOnPasswordStrengthRemoteExperiment:"enabled_remote"===ew,isRedirectToNextParamAfterSignup:eg,locale:G,location:h,logContextEvent:D,loggedOutUserInfo:X,login:C,match:m,navigateAfterLoginStatusChange:R,pixelBlocked:eb,register:j,saveBusinessType:function(e,t,r,n){return b((0,er._L)({field:"account_type",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:N.i.REGISTRATION,userId:n}))},saveIntent:function(e,t,r,n){return b((0,er._L)({field:"advertising_intent",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:N.i.REGISTRATION,userId:n}))},saveWebsite:function(e,t,r,n){return b((0,er._L)({field:"website_url",value:e,onSettingSavedHn:t,showErrorHn:r,surfaceTag:N.i.REGISTRATION,userId:n}))},setGenderStepComplete:function(){return b((0,en.Q_)("COMPLETED_GENDER_SIGNUP",1))},setNumSignupSteps:function(e){return b((0,et.e0)(e))},showConsistentSteps:ev,showToast:v,thirdPartyMarketingTrackingEnabled:A,userId:x,validateEmailExists:function(e){return(0,en.OF)(e)},verifySsoUser:eE}))}},226003:function(e,t,r){"use strict";r.d(t,{Ge:function(){return p},JS:function(){return l},OF:function(){return g},P_:function(){return u},Q_:function(){return f},b8:function(){return m},cg:function(){return c},h2:function(){return h},h6:function(){return _}});var n=r(578373),o=r(397657),s=r(941925);function a(e,t,r,n,o,s,a){try{var i=e[s](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var s=e.apply(t,r);function i(e){a(s,n,o,i,l,"next",e)}function l(e){a(s,n,o,i,l,"throw",e)}i(void 0)})}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var u=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},c=function(e,t){return{type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},p=function(e){var t,r=e.id,o=e.orbacSubjectId,s=e.blockSource,a=e.blockContext,l=e.logContextEvent;return t=i(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(d(r,!0)),e.next=3,n.Z.create("UserBlockResource",{blocked_user_id:r,orbac_subject_id:o,block_source:s,block_context:a}).callCreate().catch(function(){return t(d(r,!1))});case 3:return i=e.sent,l({event_type:54,object_id_str:r}),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}},h=function(e,t){var r;return r=i(regeneratorRuntime.mark(function r(o){var s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o(d(e,!1)),r.next=3,n.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(function(){return o(d(e,!0))});case 3:return s=r.sent,t({event_type:55,object_id_str:e}),r.abrupt("return",s);case 6:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}};function _(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var f=function(e,t){return function(){return n.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},m=function(e,t,r){return function(n,a){(0,o.Z)({url:"/v3/users/me/",method:"POST"}).then(function(){r({event_type:48,object_id_str:a().session.userId}),e(),(0,s.Z)()},t)}},g=function(e){return(0,o.Z)({url:"/v3/register/exists/",data:{email:e}})}},192946:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(545007),o=r(284987),s=r(233846),a=r(139714),i=r(174646),l=r(903683),u=r(258712),c=r(132227),d=r(19035),p=function(e){var t=e.pin,r=t.image,n=t.pinDescription,o=t.dominantColor,s=t.bannerCopy;return(0,d.jsx)(u.Fragment,{children:(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,d.jsx)(c.xu,{height:40,margin:4,width:30,children:(0,d.jsx)(c.zd,{height:"100%",rounding:2,width:"100%",children:(null==r?void 0:r.url)&&(0,d.jsx)(c.Ee,{alt:n||"",color:o||"",fit:"cover",naturalHeight:(r||{}).height||1,naturalWidth:(r||{}).width||1,src:r.url})})}),(0,d.jsx)(c.xv,{children:s})]})})};function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){m(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(e,t,r){var n;return(n=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==h(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=function(e){var t=e.pin,r=(0,s.ZP)(),u=(0,n.v9)(function(e){var t=e.session;return t&&t.unauthSavePinId}),c=(0,l.S6)()(null!=u?u:""),h=(0,i.B)(),_=h.isBot,g=h.isSocialBot,b=(0,o.TH)();if(!t&&!u)return null;var y=b.pathname.startsWith("/signup");if(!(b.pathname.startsWith("/login")||y))return null;if(c){var v,w,S=b.pathname.startsWith("/signup"),P={url:(0,a.Z)({imagesUrls:c.images?Object.keys(c.images).reduce(function(e,t){var r,n;return t&&null!=(r=c.images)&&null!=(n=r[t])&&n.url?f(f({},e),{},m({},t,c.images[t].url)):e},{}):void 0,embedSrc:null==(v=c.embed)?void 0:v.src,embedType:null==(w=c.embed)?void 0:w.type,excludeOriginals:!_&&!g}),height:1,width:1},E=c.description||"",T=c.dominant_color||"",x=S?r._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):r._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,d.jsx)(p,{pin:{image:P,pinDescription:E,dominantColor:T,bannerCopy:x}})}return t?(0,d.jsx)(p,{pin:t}):null}},850117:function(e,t,r){"use strict";t.Z=r(266573).Z},308192:function(e,t,r){"use strict";t.Z=r(266573).Z},906413:function(e,t,r){"use strict";t.Z=r(266573).Z},549663:function(e,t,r){"use strict";t.Z=r(266573).Z},169562:function(e,t,r){"use strict";t.Z=r(266573).Z},295697:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/signup",function(){return r(850117).Z}])},455987:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/signup/step[step]",function(){return r(308192).Z}])},477500:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/linked/signup/step[step]",function(){return r(906413).Z}])},36038:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/signup",function(){return r(549663).Z}])},481005:function(e,t,r){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/signup/step[step]",function(){return r(169562).Z}])}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[97270,32227,6194,76175,8789,75114,59514,55965,5966,80347,48609,509,92160,17616,11383,73428,56799,43099,60495,12113,76904],function(){return t(455987),t(295697),t(477500),t(36038),t(481005)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/signup-8935b9c5ed7b81a4.js.map