(self.legacyJsonp=self.legacyJsonp||[]).push([[3286,84370,32226,34801,81772,5112,99797,64119,21332,5926,1450,40930],{302926:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ActivityAvatar_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],type:"User",abstractKey:null};r.hash="abf151ba4d389a02e4541aa5f969d468",t.default=r},637129:function(e,t,n){"use strict";n.r(t);var r,o,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AggregatedCommentListUnified_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:o=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"highlightedAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="ba6cb3d83648d5a9f07e044db4a9cf58",t.default=i},16976:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:o=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="04a6ffbbcbcb28dcddfcf245347318b6",t.default=l},4466:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:r,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:r,storageKey:'coverImages(spec:"474x")'}],type:"ExploreArticle",abstractKey:null};o.hash="ee837caaba80f67c3ccb2223d20c7649",t.default=o},871737:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:r,storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};o.hash="4a14df4142363241fba79dec5c9e9f45",t.default=o},180385:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="cf7ae619f5ec8cf58cf3302e69136b1d",t.default=r},510709:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};r.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6",t.default=r},421018:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoWithContextLogging_pin",selections:[{args:null,kind:"FragmentSpread",name:"VideoWrapper_pin"}],type:"Pin",abstractKey:null};r.hash="93ed23334d5bac81ac8410f05c4f2031",t.default=r},955537:function(e,t,n){"use strict";n.d(t,{q:function(){return y}});var r=n(258712),o=n(545007),i=n(284987),a=n(43280),l=n(967312),s=n(857147),u=n(882368),c=n(445435),d=n(903405),f=n(346892);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y=function(){var e=(0,l.F)().checkExperiment,t=e("ap_dweb_nux_hf_use_case_request",{dangerouslySkipActivation:!0}).anyEnabled,n=e("ap_dweb_nux_in_sync_closeup_request",{dangerouslySkipActivation:!0}).group,p="control_baseline"===n||"enabled_closeup"===n,h=e("ap_dweb_nux_revamp_v3_iteration",{dangerouslySkipActivation:!0}).anyEnabled,y=e("activation_foundation_dweb_autofollow_v2",{dangerouslySkipActivation:!0}).anyEnabled,g=(0,i.TH)(),v=(0,u.Z)(),b=(0,o.I0)(),_=(0,d.B)(),w=_.selectedUseCases,j=_.selectedPins,x=(0,c.rQ)(w,j);return(0,r.useCallback)(function(){var e,n=v.isAuth&&v.firstHomeFeedRequestAfterNux,r=(0,a.Z)({viewerIsPartner:v.isAuth&&v.isPartner,inNux:(n&&b((0,f.H5)(!1)),n),staticFeed:!!(g&&(g.pathname.includes("pwt_performance_testing")||void 0!==(0,s.mB)(g.search).pwt_performance_testing)),inNewsHub:null!=(e=null==g?void 0:g.pathname.includes("news_hub"))&&e});return{name:"UserHomefeedResource",options:(t||p||h||y)&&x.length>0?m(m({},r),{},{nux_signals_map:x}):r}},[b,v,g,t,p,h,y,x])}},254377:function(e,t,n){"use strict";var r;void 0===r&&(r=n.g),t.Z={setTimeout:function(e,t){return r.setTimeout(e,t)},clearTimeout:function(e){return r.clearTimeout(e)},setInterval:function(e,t){return r.setInterval(e,t)},clearInterval:function(e){return r.clearInterval(e)}}},909598:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}}),n(53583);var r,o=n(132227),i=n(971518),a=n(962119),l=n(882368),s=n(19035),u=void 0!==r?r:r=n(302926);function c(e){var t,n=e.userKey,r=e.size,c=e.hasOutline,d=(0,a.Z)(u,n),f=(0,l.Z)(),p=f.isAuth?null==f?void 0:f.avatar_color_index:void 0;if(!d)return null;var h=d.firstName,m=d.imageMediumUrl,y=null!=(t=d.username)?t:"";return(0,s.jsx)(o.Tg,{href:"/".concat(y,"/"),rounding:"circle",children:(0,s.jsx)(i.qE,{color:p,name:h||y||"",outline:c,size:void 0===r?"md":r,src:null!=m?m:""})})}},776682:function(e,t,n){"use strict";var r=n(258712),o=n(132227),i=n(909512),a=n(233846),l=n(876748),s=n(719311),u=n(19035);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.handleBlockUser,d=void 0===n?null:n,f=e.handleClickReport,p=void 0===f?null:f,h=e.handleDelete,m=void 0===h?null:h,y=e.handleOnEdit,g=void 0===y?null:y,v=e.handleRemoveMention,b=void 0===v?null:v,_=e.handleHighlight,w=e.handleRemoveHighlight,j=e.showHighlightEducator,x=e.iconColor,O=e.small,P=(0,a.ZP)(),S=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),I=S[0],E=S[1],C=(0,r.useRef)(null),T=function(e){var t=null==e?void 0:e.event;null!=t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation()),E(!I)};if(!(d||p||m||g||b||_))return null;var D={highlight:P._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),remove:P._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:P._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:P._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),report:P._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:P._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),blockUser:P._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')};return(0,u.jsxs)(o.kC,{alignItems:"end",direction:"column",justifyContent:"start",children:[(0,u.jsx)(o.xu,{"data-test-id":"flyout-toggle",children:(0,u.jsx)(o.hU,{ref:C,accessibilityExpanded:I,accessibilityHaspopup:!0,accessibilityLabel:P._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",iconColor:x||"gray",onClick:T,size:O?"sm":"md"})}),j&&(0,u.jsx)(o.mh,{zIndex:s.lI,children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(i.Qp,{anchor:C.current,experienceIds:[503461],idealDirection:"down",placementId:12,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})}),I&&(0,u.jsxs)(o.Lt,{anchor:C.current,disableMobileUI:!0,id:"dropdown-flyout",idealDirection:"down",onDismiss:T,children:[_&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-highlight",onSelect:function(){_(),T()},option:{label:D.highlight,value:D.highlight}}),w&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-removeHighlight",onSelect:function(){w(),T()},option:{label:D.remove,value:D.remove}}),g&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-edit",onSelect:function(){return g()},option:{label:D.edit,value:D.edit}}),m&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-delete",onSelect:function(){return m()},option:{label:D.delete,value:D.delete}}),p&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-report",onSelect:function(){return p()},option:{label:D.report,value:D.report}}),b&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-removeMention",onSelect:function(){b(),T()},option:{label:D.removeMention,value:D.removeMention}}),d&&(0,u.jsx)(o.Lt.Item,{dataTestId:"dropdown-item-blockUser",onSelect:function(){return d()},option:{label:D.blockUser,value:D.blockUser}})]})]})}},80118:function(e,t,n){"use strict";var r=n(258712),o=n(132227),i=n(951016),a=n(504122),l=n(656594),s=n(233846),u=n(19035);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");d.prototype=Object.create(e&&e.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),e&&p(d,e);var t,n,s=(t=m(),function(){var e,n=y(d);return e=t?Reflect.construct(n,arguments,y(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function d(){var e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=s.call.apply(s,[this].concat(n))),"state",{truncate:!!e.props.text&&e.props.text.length>(e.props.maxCharLength||i.lr)+e.revealText.length}),g(h(e),"showFullText",function(){return e.setState({truncate:!1})}),e}return n=[{key:"revealText",get:function(){return this.props.inUnifiedComments?this.props.i18n._('... More', 'click to see more of a long post', 'click to see more of a long post'):this.props.i18n._('... See more', 'click to see more of a long post', 'click to see more of a long post')}},{key:"render",value:function(){var e=this.props,t=e.allowReveal,n=e.maxCharLength,s=e.size,c=e.tags,d=e.taggedUsers,f=e.text,p=this.state.truncate,h=p?f.substring(0,n||i.lr).trim():f;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.Z,{shouldShowFirstNameOnly:!0,taggedUsers:d,tags:c,text:h}),p&&!t&&(0,u.jsx)(o.xv,{inline:!0,overflow:"normal",weight:"bold",children:this.revealText}),p&&t&&(0,u.jsx)(a.Z,{color:"default",handleClick:this.showFullText,size:s,text:this.revealText})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}(d.prototype,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);g(b,"defaultProps",{allowReveal:!1,size:"200",tags:[],taggedUsers:[],text:""}),t.Z=function(e){var t=(0,s.ZP)();return(0,u.jsx)(b,f(f({},e),{},{i18n:t}))}},504122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(132227),o=n(19035);function i(e){var t=e.color,n=e.handleClick,i=e.size,a=e.text;return(0,o.jsx)(r.xu,{display:"inlineBlock",children:(0,o.jsx)(r.iP,{onTap:n,rounding:"pill",children:(0,o.jsx)(r.xv,{color:void 0===t?"subtle":t,size:void 0===i?"100":i,weight:"bold",children:a})})})}},951016:function(e,t,n){"use strict";n.d(t,{A7:function(){return o},YD:function(){return i},lr:function(){return r}});var r=170,o=function(e,t,n){var r=new Date(e);return 60>Math.floor((new Date().getTime()-r.getTime())/1e3)?t._('now', 'timestamp for a comment or post that was created within the last minute', 'timestamp for a comment or post that was created within the last minute'):n(e,!0)},i=function(e){var t=e.first_name||e.full_name||e.username;return t&&t.length>60?t.substring(0,60).trim().concat("..."):t}},450745:function(e,t,n){"use strict";n.d(t,{K:function(){return a},Q:function(){return i}});var r=n(258712),o=(0,r.createContext)(null),i=o;function a(){var e=(0,r.useContext)(o);return null==e?void 0:e.featuredCommentId}},868977:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,o=n(545007),i=n(578373),a=n(921506),l=n(644849),s=n(617100),u=n(312702),c=n(992110),d=n(875202);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function y(e,t,n){var r;return(r=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==f(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(y(r={},l.o.aggregatedComment,"AggregatedCommentReplyResource"),y(r,l.o.pin,"AggregatedCommentResource"),y(r,l.o.didIt,"DidItCommentsResource"),r);function v(){var e,t,n=(0,o.I0)(),r=(0,a.nf)(),l=r.aggregatedCommentCreated,f=r.updateCommentCount;return e=regeneratorRuntime.mark(function e(t){var r,o,a,p,m,y,v,b,_,w,j,x,O,P,S,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commentMedia,a=void 0===(o=t.force)||o,p=t.fromUnifiedComment,m=t.objectId,y=t.objectType,v=t.orbacSubjectId,b=t.pinId,_=t.replyToCommentId,w=t.tags,j=t.text,x=g[y],O=h(h({force:a,objectId:m,pinId:b,tags:w,text:j,replyToCommentId:_},v?{orbacSubjectId:v}:{}),r?{commentMedia:r}:{}),P=d.Z.AGGREGATED_COMMENTS,p&&(P="pin"===y?d.Z.UNIFIED_COMMENTS:d.Z.AGGREGATED_COMMENT_REPLIES),e.next=7,i.Z.create(x,O).callCreate({showError:!1});case 7:return I=(S=e.sent).resource_response.data,l(m,I),n((0,u.vX)({feedType:P,feedId:m,itemIds:[I.id],itemType:I.type,prepend:!0})),"aggregatedComment"===y?f(m,1):"pin"!==y&&n((0,s.L8)(m,1)),b&&n((0,c.R)(b,1)),e.abrupt("return",I.id||S);case 14:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,l,"next",e)}function l(e){m(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},761254:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(545007),o=n(578373),i=n(265332),a=n(921506),l=n(617100),s=n(312702),u=n(992110),c=n(875202);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function h(){var e,t,n=(0,r.I0)(),h=(0,a.nf)(),m=h.aggregatedCommentDeleted,y=h.updateCommentCount;return e=regeneratorRuntime.mark(function e(t){var r,a,p,h,g,v,b,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.aggregatedCommentId,a=t.aggregatedPinId,p=t.feedType,h=t.orbacSubjectId,g=t.parentId,v=t.type,b=t.updateParentCommentCount,_=t.pinId,e.next=3,o.Z.create("AggregatedCommentResource",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({commentId:r},h?{orbacSubjectId:h}:{})).callDelete({showError:!1});case 3:g&&(n((0,s.EX)({feedId:a||g,feedType:p||c.Z.AGGREGATED_COMMENTS,itemIds:[r],itemType:"aggregatedcomment"})),m(g,r),b&&(v||0===v)&&(v===i.Rv.TOP&&_?n((0,u.R)(_,-1)):v===i.Rv.REPLY_TO_AGGREGATED?y(g,-1):n((0,l.L8)(g,-1))));case 4:case"end":return e.stop()}},e)}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){p(i,r,o,a,l,"next",e)}function l(e){p(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return t.apply(this,arguments)}}},71408:function(e,t,n){"use strict";n.d(t,{Z:function(){return eQ}});var r=n(258712),o=n(132227),i=n(115157),a=n(545007),l=n(766178),s=n(87134),u=n(19963),c=n(216029),d=n(578373),f=n(267708),p=n(346611),h=n(233846),m=n(970601),y=n(143759),g=n(19035);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}var I="\n.uploadProgressBar {\n  background-color: ".concat(p.x_d,";\n  border-radius: 8px;\n  height: 16px;\n  opacity: 1;\n  position: absolute;\n  transition: opacity 85ms ease-in, width 85ms ease-in;\n  z-index: 10;\n\n  &.transition {\n    opacity: 0;\n    transition: opacity 85ms ease-in, width 85ms ease-in;\n  }\n}\n"),E=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&w(a,e);var t,n,i=(t=x(),function(){var e,n=O(a);return e=t?Reflect.construct(n,arguments,O(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==v(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return j(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(j(e=i.call.apply(i,[this].concat(n))),"_videoContainerRef",null),P(j(e),"removeVideoTag",function(){e._videoContainerRef&&e._videoContainerRef.childNodes[0]&&e._videoContainerRef.removeChild(e._videoContainerRef.childNodes[0])}),P(j(e),"clear",function(t){t.event.stopPropagation(),e.removeVideoTag(),e.props.handleRemoveClick()}),e}return n=[{key:"isPin",get:function(){var e=this.props,t=e.display,n=e.imagePreviewSrc,r=e.videoUrls;return"pin"===t&&(!!n||!!r)}},{key:"renderProgressBar",value:function(){var e=this.props.progress;return(0,g.jsx)("div",{className:100===e||0===e?"uploadProgressBar transition":"uploadProgressBar",style:{width:"".concat(e,"%")}})}},{key:"renderDropZone",value:function(){return(0,g.jsxs)(o.xu,{children:[(0,g.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(o.JO,{accessibilityLabel:this.props.i18n._('Add a Photo', 'Add a photo as part of a form', 'Add a photo as part of a form'),color:"default",icon:"camera",size:32})})}),(0,g.jsx)(o.xu,{marginTop:2,paddingX:12,children:(0,g.jsx)(o.xv,{align:"center",color:"default",weight:"bold",children:this.props.i18n._('Drag and drop or click to upload', 'Label on drag/drop area for uploading a pin', 'Label on drag/drop area for uploading a pin')})})]})}},{key:"renderImage",value:function(){var e=this.props,t=e.height,n=e.imagePreviewSrc,r=e.width,i=this.props.i18n._('Your Upload', 'Image a pinner just uploaded to a form', 'Image a pinner just uploaded to a form');return this.isPin?(0,g.jsx)(o.Ee,{alt:i,src:n}):(0,g.jsx)(o.xu,{height:t,width:r,children:(0,g.jsx)(o.Ee,{alt:i,color:"white",naturalHeight:t,naturalWidth:r,src:n})})}},{key:"renderResetButton",value:function(){return(0,g.jsx)(o.xu,{left:!0,margin:2,position:"absolute",top:!0,children:(0,g.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Remove Photo', 'Remove photo from a form', 'Remove photo from a form'),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"})})}},{key:"renderContent",value:function(){var e=this.props,t=e.height,n=e.imagePreviewSrc,i=e.isHovering,a=e.isVideo,l=e.isVideoComplete,s=e.isOver,u=e.thumbnail,c=e.videoUrls,d=e.allowReset,f=e.width,p=c?(0,g.jsx)("video",{autoPlay:!0,controls:!0,height:this.isPin?"auto":t,loop:!0,poster:u||"",width:f,children:Object.keys(c).map(function(e){return(0,g.jsx)("source",{src:c[e],type:"hls"===e?"m3u8":"video/mp4"},e)})}):null;return(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(o.zd,{height:"100%",rounding:2,children:(0,g.jsxs)(o.xu,{alignItems:"center",color:s?"secondary":"default",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[!n&&!a&&this.renderDropZone(),a&&!c&&(0,g.jsxs)(o.xu,{children:[l&&(0,g.jsx)(o.xv,{align:"center",weight:"bold",children:this.props.i18n._('Processing Video', 'Loading message shown while user video is uploading', 'Loading message shown while user video is uploading')}),(0,g.jsx)(o.xu,{paddingY:4,children:(0,g.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Video uploading', 'Loading spinner while video uploads', 'Loading spinner while video uploads'),show:!0})})]}),p,n&&this.renderImage()]})}),(n||c)&&(void 0===d||d)&&i&&this.renderResetButton()]})}},{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.height,r=e.imagePreviewSrc,i=e.onClick,a=e.videoUrls,l=e.width,s=e.hoverHandlers,u=s.onMouseOver,c=s.onMouseLeave,d=this.isPin?"auto":n,f=(0,g.jsxs)(o.xu,{position:"relative",children:[(0,g.jsx)(m.Z,{unsafeCSS:I}),this.renderProgressBar(),r||a?(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",outline:"none"}},height:d,marginEnd:"auto",marginStart:"auto",padding:0,width:l,children:(0,g.jsx)(o.iP,{fullWidth:!1,mouseCursor:r?"default":"pointer",onMouseEnter:u,onMouseLeave:c,children:this.renderContent()})}):(0,g.jsx)(o.iP,{onMouseEnter:u,onMouseLeave:c,onTap:i,children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:this.isPin?0:"2px dashed #767676",borderRadius:"10px",cursor:r?"default":"pointer",outline:"none"}},height:d,marginEnd:"auto",marginStart:"auto",padding:0,width:l,children:this.renderContent()})})]});return t((0,g.jsx)("div",{children:f}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component),C=(0,f.GR)(function(e){return e.accepts},{drop:function(e,t){e.onDrop&&e.onDrop(e,t)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}})(function(e){var t=(0,h.ZP)(),n=(0,y.Z)(),r=n.isHovering,o=n.hoverHandlers;return(0,g.jsx)(E,_(_({},e),{},{hoverHandlers:o,i18n:t,isHovering:r}))}),T=n(397657),D=n(174646);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){Z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,l,"next",e)}function l(e){M(i,r,o,a,l,"throw",e)}a(void 0)})}}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(U=function(){return!!e})()}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}var B=["video/quicktime","video/mp4"],W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1200x";return e&&"https://i.pinimg.com/".concat(t,"/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},G=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&z(a,e);var t,n,r,i=(t=U(),function(){var e,n=H(a);return e=t?Reflect.construct(n,arguments,H(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==A(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return L(e)}(this,e)});function a(){var e,t;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var n=arguments.length,r=Array(n),l=0;l<n;l++)r[l]=arguments[l];return Z(L(e=i.call.apply(i,[this].concat(r))),"state",{imagePreviewSrc:e.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,errorFlyout:null,progress:0}),Z(L(e),"mounted",!1),Z(L(e),"containerRef",null),Z(L(e),"fileInputRef",null),Z(L(e),"xhr",null),Z(L(e),"CHECK_VIDEO_TIMEOUT",null),Z(L(e),"ERROR_MESSAGE",e.props.i18n._('Unable to upload video. Please try again later.', 'Error shown when we can\'t accept video uploads', 'Error shown when we can\'t accept video uploads')),Z(L(e),"handleFileDrop",function(t,n){if(n&&(!e.xhr||4===e.xhr.readyState)){var r=n.getItem().files[0];e.handleFile(r)}}),Z(L(e),"handleFile",function(t){var n=e.props.onImageUploadStart;t.size>2e9?e.showError(e.props.i18n._('The video is too large. The maximum size is 2 GB.', 'Error if a user tries to upload a video that is too large', 'Error if a user tries to upload a video that is too large')):(e.props.allowVideo&&B.includes(t.type)&&e.setState({isVideo:!0}),e.loadMedia(t),n&&n())}),Z(L(e),"showError",function(t){var n=(0,g.jsx)(o.J2,{anchor:e.containerRef,idealDirection:e.props.idealErrorDirection,onDismiss:function(){return e.setState({errorFlyout:null})},shouldFocus:!1,size:"sm",children:(0,g.jsx)(o.xu,{padding:3,children:(0,g.jsx)(o.qb,{title:t,type:"problem"})})});e.removePreview(n)}),Z(L(e),"openFileDialog",function(){e.state.imagePreviewSrc||e.state.isVideo||(e.props.logContextEvent({event_type:101,component:192,element:1156}),e.fileInputRef&&e.fileInputRef.click())}),Z(L(e),"openFile",function(t){var n=t.target.files[0];e.handleFile(n)}),Z(L(e),"removePreview",function(t){e.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:t}),e.fileInputRef&&(e.fileInputRef.value=""),e.xhr&&e.xhr.abort&&(e.xhr.abort(),e.xhr=null),e.CHECK_VIDEO_TIMEOUT&&clearTimeout(e.CHECK_VIDEO_TIMEOUT),e.props.onReset&&e.props.onReset()}),Z(L(e),"checkForMedia",(t=N(regeneratorRuntime.mark(function t(n){var r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.Z.create("VIPResource",{upload_ids:[n]}).callGet();case 2:(r=t.sent).resource_response&&r.resource_response.data&&r.resource_response.data[n]?(i=(o=r.resource_response.data[n]).status,a=o.signature,"processing"===i||"registered"===i?e.CHECK_VIDEO_TIMEOUT=setTimeout(function(){return e.checkForMedia(n)},1e3):"succeeded"===i?e.handleMediaUploadSuccess(a,n):e.showError(e.ERROR_MESSAGE)):e.showError(e.ERROR_MESSAGE);case 4:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)})),Z(L(e),"loadMedia",function(t){var n=e.state.isVideo;d.Z.create("VIPResource",{type:n?"video":"triedit-image"}).callCreate().then(function(n){var r,o=null!=(r=n.resource_response.data)?r:{},i=o.upload_id,a=o.upload_url,l=o.upload_parameters;e.uploadMedia(t,i,a,l)},function(){e.showError(e.ERROR_MESSAGE)})}),Z(L(e),"uploadMedia",function(t,n,r,o){var i=e.state.isVideo,a=new XMLHttpRequest;a.open("POST",r,!0),a.onload=function(){var t;(t=a.status)>=200&&t<400?e.setState({errorFlyout:null,isVideoComplete:i}):e.showError(e.props.i18n._('Something went wrong. Please try again later.', 'Error if video fails to upload', 'Error if video fails to upload')),e.checkForMedia(n)},a.upload.onprogress=function(t){var n=Math.round(99*t.loaded/t.total);e.setState({progress:n})};var l=new FormData;for(var s in o)l.append(s,o[s]);l.append("file",t),a.send(l),e.xhr=a}),e}return r=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleMediaUploadSuccess",value:(n=N(regeneratorRuntime.mark(function e(t,n){var r,o,i,a,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.isVideo,i=(o=this.props).width,a=o.height,!r){e.next=12;break}if(this.props.isAuthenticated){e.next=6;break}return this.showError(this.ERROR_MESSAGE),e.abrupt("return");case 6:return e.next=8,(0,T.Z)({url:"/v3/videos/urls/",data:{signatures:[t]}});case 8:l=e.sent,this.handleVideoUploadSuccess(l,t,n),e.next=15;break;case 12:s=W(t),this.setState({imagePreviewSrc:s,progress:100}),this.props.onImageUploadFinished({image:{url:s,width:i,height:a}});case 15:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"handleVideoUploadSuccess",value:function(e,t,n){var r=this;if(this.mounted){var o=e.resource_response.data,i="https://i.pinimg.com/".concat(o[t].metadata.thumbnail),a=o[t].urls;this.setState({videoUrls:a,thumbnail:i,progress:100});var l=new XMLHttpRequest;l.onload=function(){var e=new FileReader;e.readAsDataURL(l.response),e.onloadend=function(){var t;r.props.onImageUploadFinished({video:{uploadId:n,imageBase64:null!=(t=e.result)?t:""}})}},l.open("GET",i),l.responseType="blob",l.send()}}},{key:"render",value:function(){var e=this,t=c.hm.FILE,n=this.state,r=n.errorFlyout,i=n.imagePreviewSrc,a=n.isVideo,l=n.isVideoComplete,s=n.progress,u=n.thumbnail,d=n.videoUrls,f=this.props,p=f.allowReset,h=f.allowVideo,m=f.display,y=f.height,v=f.width;return(0,g.jsxs)(o.xu,{ref:function(t){e.containerRef=t},children:[(0,g.jsx)(o.xu,{display:"visuallyHidden",children:(0,g.jsx)("input",{ref:function(t){e.fileInputRef=t},accept:h?"image/*,video/mp4,video/quicktime":"image/*","data-gestalt-valid-html":"TextField",onChange:this.openFile,type:"file"})}),(0,g.jsx)(C,{accepts:[t],allowReset:p,display:m,handleRemoveClick:this.removePreview,height:y,imagePreviewSrc:i,isVideo:a,isVideoComplete:l,onClick:this.openFileDialog,onDrop:this.handleFileDrop,progress:s,thumbnail:u,videoUrls:d,width:v}),r]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);Z(G,"defaultProps",{onImageUploadStart:function(){}});var V=function(e){var t=(0,u.v)().logContextEvent,n=(0,D.B)().isAuthenticated,r=(0,h.ZP)();return(0,g.jsx)(G,R(R({},e),{},{i18n:r,isAuthenticated:n,logContextEvent:t}))},K=n(81772),Y=n(231333),q=n(339908),X=n(617100),$=n(486738);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){ei(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function et(e,t){return(et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function en(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(er=function(){return!!e})()}function eo(e){return(eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ei(e,t,n){return(t=ea(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ea(e){var t=function(e,t){if("object"!=J(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J(t)?t:t+""}var el=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/,es=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&et(i,e);var t,n,r=(t=er(),function(){var e,n=eo(i);return e=t?Reflect.construct(n,arguments,eo(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==J(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return en(e)}(this,e)});function i(e){if(!(this instanceof i))throw TypeError("Cannot call a class as a function");ei(en(t=r.call(this,e)),"setTextAreaRef",function(e){t._textAreaRef=e}),ei(en(t),"handleTextInputChange",function(e){var n=e.value;t.setState({notes:n.substring(0,1e3)}),n.length>1e3?t.forceUpdate():t.handleHashtagTypeahead(n)}),ei(en(t),"handleHashtagTypeahead",function(e){var n=el.exec(e),r=n?n[0]:"";!t.state.inTypeahead&&r?t.setState({inTypeahead:!0,typeaheadValue:r}):t.state.inTypeahead&&(r?t.setState({typeaheadValue:r}):t.setState({inTypeahead:!1,typeaheadValue:""}))}),ei(en(t),"addHashtag",function(e){t.setState(function(t){return{inTypeahead:!1,notes:t.notes.replace(el,e),typeaheadValue:""}})}),ei(en(t),"uploadImageAndCreateDidIt",function(){(0,T.Z)({url:"/v3/did_it/image/upload/",method:"PUT",data:{image_url:t.state.imageUrlToSend}}).then(function(e){var n=e.resource_response.data.image_signature;return t.createUpdateDidIt(n)}).catch(function(){return t.createUpdateDidIt()})}),ei(en(t),"handleImageReset",function(){return t.setState({imageUrlToSend:null})}),ei(en(t),"handleFinishImageUpload",function(e){e.image&&t.setState({imageUrlToSend:e.image.url})}),ei(en(t),"handleDoneClick",function(){var e=t.props,n=e.pinId;(0,e.logContextEvent)({event_type:101,view_type:101,component:192,element:1112,object_id_str:n}),t.setState({submitted:!0}),t.handleDoneSubmission()}),ei(en(t),"handleDoneSubmission",function(){var e=t.state.imageUrlToSend,n=t.props.pinActivity;if(e){if(!n||e!==n.oldImageUrl)return t.uploadImageAndCreateDidIt();else if(n.imageSignatures&&n.imageSignatures.length>0)return t.createUpdateDidIt(n.imageSignatures[0])}return t.createUpdateDidIt()}),ei(en(t),"handleCancel",function(){var e=t.props.onDoneStateChanged;e&&e(!1)}),ei(en(t),"handleDeleteConfirmation",function(e){var n=t.props,r=n.aggregatedPinDataId,o=n.deleteUserDidItData,i=n.isDoneByMe,a=n.loggedInUser.username,l=n.onDoneStateChanged,s=n.pinId,u=n.logContextEvent;t.setState({showDeleteModal:!1}),e&&(u({event_type:101,view_type:101,component:192,element:1264,object_id_str:s}),o({aggregatedPinDataId:r,pinId:s,username:a,id:e,isOwnedByMe:!0}),l&&l(i))}),ei(en(t),"handleShowDeleteModal",function(){return t.setState({showDeleteModal:!0})});var t,n=e.pinActivity;return t.state={id:(null==n?void 0:n.id)||null,imageUrlToSend:(null==n?void 0:n.oldImageUrl)||null,inTypeahead:!1,notes:(null==n?void 0:n.notes)||"",showDeleteModal:!1,submitted:!1,typeaheadValue:""},t}return n=[{key:"createUpdateDidIt",value:function(e){var t=this,n=this.props,r=n.aggregatedPinDataId,o=n.createUserDidItData,i=n.isDoneByMe,a=n.loggedInUser.username,l=n.onDoneStateChanged,s=n.pinId,u=n.toastManagerContext,c=n.updateUserDidItData,d=this.state,f=d.id,p=d.notes;p&&(i?f&&c({id:f,pinId:s,details:p,image_signatures:e?[e]:[]}):o({aggregatedPinDataId:r,username:a,details:p,image_signatures:e?[e]:[],pin_id:s}),l&&l(!i),-1===window.location.href.indexOf(a+"/tried")&&u.showToast(function(e){var n=e.hideToast;return(0,g.jsx)(Y.Z,{duration:3e3,href:"/".concat(a,"/tried/"),onHide:n,text:t.props.i18n._('Nice work! Pins you\'ve tried live on your profile', 'Congratulations after trying a pin', 'Congratulations after trying a pin')})}))}},{key:"render",value:function(){var e=this.state,t=e.imageUrlToSend,n=e.notes,r=e.showDeleteModal,i=e.submitted,a=this.props,l=a.isDoneByMe,u=a.pinActivity,c=!!t&&(u||{}).oldImageUrl!==t,d=!!t,f=u&&u.notes!==n,p=!!n&&""!==n.trim();return(0,g.jsxs)(o.xu,{children:[(0,g.jsx)(o.xu,{marginTop:4,paddingX:12,children:(0,g.jsx)(o.xu,{column:12,children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transition:"padding-top 0.2s ease"}},paddingY:10*!t,children:(0,g.jsx)(o.xu,{alignItems:"center",color:"transparent",column:12,display:"flex",justifyContent:"center",marginBottom:2,rounding:2,children:(0,g.jsx)(V,{display:"image",existingImageSrc:t,height:366,idealErrorDirection:"up",onImageUploadFinished:this.handleFinishImageUpload,onReset:this.handleImageReset,width:366})})})})}),(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease",transitionDelay:"0.2s",visibility:t?"visible":"hidden"}},height:t?"auto":0,opacity:+!!t,children:(0,g.jsxs)(o.xu,{margin:3,marginEnd:"auto",marginStart:"auto",width:366,children:[(0,g.jsx)(o.xu,{ref:this.setTextAreaRef,children:(0,g.jsx)(o.Kx,{id:"trynotes",onChange:this.handleTextInputChange,placeholder:this.props.i18n._('Add a note or tip', 'Tip input for tried it', 'Tip input for tried it'),value:n})}),this.state.inTypeahead&&this._textAreaRef?(0,g.jsx)($.Z,{addHashtag:this.addHashtag,anchor:this._textAreaRef,idealDirection:"up",query:this.state.typeaheadValue}):null,n.length>900&&(0,g.jsx)(o.xu,{paddingY:1,children:(0,g.jsxs)(o.xv,{align:"end",size:"200",children:[" ",n.length,"/",1e3," "]})})]})}),(0,g.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[r&&(0,g.jsx)(s.Z,{didItData:u,onDeleteConfirmation:this.handleDeleteConfirmation}),i?(0,g.jsx)(o.xu,{marginEnd:2,children:(0,g.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('submit', 'accessible label for loading spinner on submit button', 'accessible label for loading spinner on submit button'),show:!0})}):null,(0,g.jsxs)(o.xu,{display:"flex",marginBottom:3,marginEnd:4,children:[l?(0,g.jsx)(o.xu,{marginEnd:1,children:(0,g.jsx)(o.zx,{onClick:this.handleShowDeleteModal,size:"md",text:this.props.i18n._('Delete', 'delete button in modal for tried-it info', 'delete button in modal for tried-it info')})}):(0,g.jsx)(o.xu,{marginEnd:1,children:(0,g.jsx)(o.zx,{onClick:this.handleCancel,size:"md",text:this.props.i18n._('Cancel', 'cancel button in modal for tried-it info', 'cancel button in modal for tried-it info')})}),(0,g.jsx)(o.xu,{children:(0,g.jsx)(o.zx,{color:"red",disabled:!d||!p||!f&&!c,onClick:this.handleDoneClick,size:"md",text:this.props.i18n._('Done', 'done button in modal for tried-it info', 'done button in modal for tried-it info')})})]})]})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ea(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent),eu=(0,K.Z)(function(e){var t=(0,u.v)().logContextEvent,n=(0,h.ZP)(),r=(0,a.I0)(),o=(0,l.bindActionCreators)(X.DD,r),i=(0,l.bindActionCreators)(X.lg,r),s=(0,l.bindActionCreators)(X.IU,r);return(0,g.jsx)(es,ee(ee({},e),{},{createUserDidItData:o,deleteUserDidItData:i,i18n:n,logContextEvent:t,toastManagerContext:(0,q.F9)(),updateUserDidItData:s}))}),ec=n(113474),ed=["onDoneStateChanged","pinActivityResource","pinTitle","userDidItDataId"];function ef(e){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){eb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function em(e,t){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ey(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eg=function(){return!!e})()}function ev(e){return(ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,n){return(t=e_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e_(e){var t=function(e,t){if("object"!=ef(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ef(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ef(t)?t:t+""}var ew=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&em(a,e);var t,n,r=(t=eg(),function(){var e,n=ev(a);return e=t?Reflect.construct(n,arguments,ev(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ef(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ey(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return eb(ey(e=r.call.apply(r,[this].concat(n))),"onDoneStateChanged",function(t){var n=e.props,r=n.onDoneStateChanged,o=n.pinActivityResource;r&&r(t),t&&o&&o.refresh&&o.refresh()}),e}return n=[{key:"render",value:function(){var e=this.props,t=(e.onDoneStateChanged,e.pinActivityResource),n=(e.pinTitle,e.userDidItDataId,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ed));return!t||t&&t.isLoaded?(0,g.jsx)(o.xu,{rounding:2,children:(0,g.jsx)(eu,eh({onDoneStateChanged:this.onDoneStateChanged,pinActivity:function(e){if(!e)return null;var t=e.details,n=e.images,r=e.image_signatures;return{id:e.id,imageSignatures:r,notes:t,oldImageUrl:n[0]["200x"].url}}(t&&t.data)},n))}):(0,g.jsx)(i.Z,{})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e_(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function ej(e){var t=(0,ec.Z)({name:"DidItUserPinActivityResource",options:{aggregated_pin_data_id:e.aggregatedPinDataId,username:"me"},noCache:!0});return(0,g.jsx)(ew,eh(eh({},e),{},{pinActivityResource:t}))}function ex(e){var t=(0,ec.Z)({name:"DidItActivityResource",options:{user_did_it_data_id:e.userDidItDataId,username:"me"},noCache:!0});return(0,g.jsx)(ew,eh(eh({},e),{},{pinActivityResource:t}))}function eO(e){return e.isDoneByMe&&e.userDidItDataId?(0,g.jsx)(ex,eh({},e)):e.isDoneByMe?(0,g.jsx)(ej,eh({},e)):(0,g.jsx)(ew,eh({},e))}var eP=n(852015),eS=n(522539);function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=eI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eI(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eT=function(e){if(!e)return null;var t=e.richMetadata.title;return t?eC(eC({},e),{},{title:t}):null},eD=n(50865),eA=n(257159);function ek(e){return(ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=eN(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eN(e){var t=function(e,t){if("object"!=ek(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ek(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ek(t)?t:t+""}function ez(e,t){return(ez=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eL=function(){return!!e})()}function eU(e){return(eU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eH=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&ez(a,e);var t,n,r=(t=eL(),function(){var e,n=eU(a);return e=t?Reflect.construct(n,arguments,eU(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==ek(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var n=e;if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(this,e)});function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"render",value:function(){var e=this.props,t=e.aggregatedPinDataId,n=e.isDoneByMe,r=e.loggedInUser,a=e.onDoneStateChanged,l=e.onHide,s=e.pinId,u=e.pinResource,c=e.pinTitle,d=e.userDidItDataId;if(!u.isLoaded)return(0,g.jsx)(i.Z,{});var f=(eT((0,eS.Z)((0,eD.Z)({pin:u.data})))||{}).title,p=c||f?(0,eA.Z)(this.props.i18n._('Add a photo of {{pinTitle}}', 'Adding photo of a pin', 'Adding photo of a pin'),{pinTitle:c||f||""}):this.props.i18n._('Add a photo', 'Adding a photo', 'Adding a photo');return(0,g.jsx)(eP.ZP,{accessibilityModalLabel:p,heading:p,onDismiss:l,size:500,children:(0,g.jsx)(o.xu,{color:"default",display:"flex",justifyContent:"center",rounding:2,children:(0,g.jsx)(eO,{aggregatedPinDataId:t,isDoneByMe:n,loggedInUser:r,onDoneStateChanged:a,pinId:s,pinTitle:c||f,userDidItDataId:d})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eN(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function eZ(e){var t=(0,h.ZP)(),n=(0,ec.Z)({name:"PinResource",options:{field_set_key:"detailed",id:e.pinId}});return(0,g.jsx)(eH,eM(eM({},e),{},{i18n:t,pinResource:n}))}var eF=n(135376);function eB(e){return(eB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){eX(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eV(e,t){return(eV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eK(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eY=function(){return!!e})()}function eq(e){return(eq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eX(e,t,n){return(t=e$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e$(e){var t=function(e,t){if("object"!=eB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eB(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eB(t)?t:t+""}var eJ=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&eV(i,e);var t,n,o=(t=eY(),function(){var e,n=eq(i);return e=t?Reflect.construct(n,arguments,eq(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eB(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eK(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eX(eK(e=o.call.apply(o,[this].concat(n))),"state",{showModal:!1}),eX(eK(e),"onTriedItButtonClick",function(t){var n=e.props,r=n.requireAuth,o=n.logContextEvent;if(t&&t.stopPropagation(),r)return void r();e.handleModalStateChange(!0),o({event_type:101,view_type:101,component:e.props.thriftComponentType,element:1141,object_id_str:e.props.pinId,aux_data:{is_create:!e.props.isDoneByMe}})}),eX(eK(e),"handleHideModal",function(){e.handleModalStateChange(!1),e.props.logContextEvent({event_type:101,view_type:101,component:192,element:75,object_id_str:e.props.pinId})}),eX(eK(e),"onModalDoneStateChanged",function(t){e.handleModalStateChange(!1,t)}),eX(eK(e),"handleModalStateChange",function(t,n){var r=e.props,o=r.onDoneStateChanged,i=r.onToggleModal;e.setState({showModal:t},function(){!t&&o&&o("boolean"==typeof n&&n),i&&i(t)})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.aggregatedPinDataId,n=e.isDoneByMe,o=e.loggedInUser,i=e.pinId,a=e.pinTitle,l=e.userDidItDataId;return(0,g.jsxs)(r.Fragment,{children:[this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.showModal?(0,g.jsx)(eZ,{aggregatedPinDataId:void 0===t?"":t,isDoneByMe:void 0!==n&&n,loggedInUser:void 0===o?{id:"",username:""}:o,onDoneStateChanged:this.onModalDoneStateChanged,onHide:this.handleHideModal,pinId:void 0===i?"":i,pinTitle:null!=a?a:"",userDidItDataId:l}):null]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e$(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent);function eQ(e){var t=(0,u.v)().logContextEvent,n=(0,eF.Z)();return(0,g.jsx)(eJ,eG(eG({},e),{},{logContextEvent:t,requireAuth:n}))}},810641:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(258712),o=n(132227),i=n(346611),a=n(754322),l=n(19963),s=n(233846),u=n(586033),c=n(396695),d=n(19035);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.direction,n=e.onClick,r=(0,s.ZP)(),a="right"===t?r._('Click to scroll right', 'featuredBoards.featuredBoardsModule.iconScrollRight.label', 'Accessibility label for clicking to scroll right in Featured Boards Module'):r._('Click to scroll left', 'featuredBoards.featuredBoardsModule.iconScrollLeft.label', 'Accessibility label for clicking to scroll left in Featured Boards Module');return(0,d.jsx)(o.xu,{alignItems:"center",display:"flex",height:157,left:"left"===t,marginEnd:5*("right"===t),marginStart:5*("left"===t),position:"absolute",right:"right"===t,top:!0,children:(0,d.jsx)(o.xu,{borderStyle:"shadow",height:i.QAx,rounding:4,children:(0,d.jsx)(o.hU,{accessibilityLabel:a,bgColor:"white",icon:"right"===t?"arrow-forward":"arrow-back",onClick:n,size:"sm"})})})};function m(e){return null==e?void 0:e.map(function(e){var t=e.type,n=e.id;return"".concat(null!=t?t:"",":").concat(null!=n?n:"")}).join("|")}function y(e){var t,n=e.board,r=e.boardIndex,i=e.slotIndex,a=e.story,s=e.viewParameter,f=e.viewType,p=(0,l.v)().logContextEvent,h=(0,u.Z)({clientTrackingParams:a.tracking_params,componentType:15086,contextLogData:{board_id:n.id,board_pin_count:null!=(t=n.pin_count)?t:0,board_index:r,content_ids:m(null==a?void 0:a.objects),story_id:a.id,story_type:a.story_type},impressionType:"Board",loggingId:a.id,slotIndex:i,viewParameter:s,viewType:f}),y=function(e){var t;p({aux_data:{board_id:e.id,board_index:r,board_pin_count:null!=(t=e.pin_count)?t:0,content_ids:m(null==a?void 0:a.objects),story_id:a.id,story_type:a.story_type},component:15086,event_type:102,view_type:f,view_parameter:s})};return(0,d.jsx)(o.xu,{ref:h,children:(0,d.jsx)(o.iP,{onTap:function(){return y(n)},children:(0,d.jsx)(c.default,{boardKey:{type:"deprecated",data:n},display:"static",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,noPaddings:!0,showFollowButton:!1,type:"grid",viewParameter:s,viewType:f},n.id)})})}function g(e){var t,n,s=e.renderAsStory,c=void 0!==s&&s,p=e.slotIndex,g=e.story,v=e.viewParameter,b=e.viewType,_=(0,l.v)().logContextEvent,w=(0,r.useRef)(null),j=((0,a.Z)()||{}).width,x=f((0,r.useState)({current:0,end:!1,start:!0}),2),O=x[0],P=x[1],S=f((0,r.useState)(!c),2),I=S[0],E=S[1],C=g.action,T=g.objects,D=g.subtitle,A=g.title,k=C&&C.text&&C.url,R=(0,u.Z)({clientTrackingParams:g.tracking_params,componentType:15086,contextLogData:{content_ids:m(null==g?void 0:g.objects),story_id:g.id,story_index:p,story_reason:"Featured Boards Module",story_title:null==(t=g.title)?void 0:t.format,story_type:g.story_type,total_object_count:null==(n=g.objects)?void 0:n.length},impressionType:"Story",loggingId:g.id,slotIndex:p,viewParameter:v,viewType:b}),M=function(e){if(w.current){var t=w.current,n=t.clientWidth,r=t.scrollLeft,o=t.scrollWidth-n,i=Math.max(0,(r||0)+240*Math.floor(n/240)*e);0===i?w.current.scrollLeft=0:o-i<118?w.current.scrollLeft=o:w.current.scrollLeft=i-i%240,_({aux_data:{content_ids:m(null==g?void 0:g.objects),story_id:g.id,story_type:g.story_type},component:15086,event_type:e>0?9315:9316,view_type:b,view_parameter:v})}},N=function(){if(w.current){var e=w.current.scrollLeft||0,t=e+w.current.clientWidth>=w.current.scrollWidth;P({current:e,end:t,start:0===e})}};return(0,r.useEffect)(function(){if(w.current){var e=w.current;E(e.clientWidth<e.scrollWidth),N()}},[c,j]),(0,d.jsxs)(o.xu,{ref:R,borderStyle:c?"none":"lg",paddingY:5,rounding:4,children:[(0,d.jsx)(o.xu,{paddingX:7,children:(0,d.jsxs)(o.kC,{alignItems:"center",gap:2,justifyContent:c?"center":"between",children:[(0,d.jsxs)(o.xu,{children:[D&&(0,d.jsx)(o.xv,{align:c?"center":"start",size:"200",children:D.format}),A&&(0,d.jsx)(o.xu,{marginTop:+!!D,children:(0,d.jsx)(o.xv,{align:c?"center":"start",size:"500",weight:"bold",children:A.format})})]}),k&&(0,d.jsx)(o.zx,{color:"gray",onClick:function(e){e.event.stopPropagation(),_({event_type:101,component:15086}),window.location.assign(C.url)},text:C.text})]})}),(0,d.jsxs)(o.xu,{marginTop:3,position:"relative",children:[(0,d.jsxs)(o.xu,{ref:w,dangerouslySetInlineStyle:{__style:{gap:"4px",scrollBehavior:"smooth"}},display:"flex",justifyContent:c&&!I?"center":"start",onScroll:N,overflow:"hidden",paddingX:4,children:[(0,d.jsx)(o.xu,{width:i.AE8}),null==T?void 0:T.map(function(e,t){return(0,d.jsx)(y,{board:e,boardIndex:t,slotIndex:p,story:g,viewParameter:v,viewType:b},e.id)}),(0,d.jsx)(o.xu,{width:i.AE8})]}),I&&!O.start&&(0,d.jsx)(h,{direction:"left",onClick:function(){return M(-1)}}),I&&!O.end&&(0,d.jsx)(h,{direction:"right",onClick:function(){return M(1)}})]})]})}},675905:function(e,t,n){"use strict";n.d(t,{Z:function(){return ez}});var r=n(258712),o=n(545007),i=n(284987),a=n(132227),l=n(955537),s={inject:function(){var e=window,t=document,n="addEventListener",r="load";function o(){var e,n=t.createElement("script");n.async=!0,n.src="//radar.cedexis.com/1/14290/radar.js",null==(e=t.body)||e.appendChild(n)}(function(){for(var e=[/\bMSIE (5|6)/i],t=e.length;t--;)if(e[t].test(navigator.userAgent))return!1;return!0})()&&("complete"!==t.readyState?(n=e[n])?n(r,o,!1):(n=e.attachEvent)&&n("on"+r,o):o())}},u=n(810641),c=n(415761),d=n(685945),f=n(294905),p=n(985459),h=n(547504),m=n(851990),y=n(1794),g=n(95460),v=n(909512),b=n(253735),_=n(633569),w=n(911829),j=n(231333),x=n(56063),O=n(468318),P=n(233846),S=n(970601),I=n(51340),E=n(414374),C=n(28760),T=n(879318),D=n(209216),A=n(967312),k=n(520949),R=n(762422),M=n(174646),N=n(113474),z=n(181710),L=n(943369),U=n(805),H=n(169650),Z=n(5112),F=n(677316),B=n(404092),W=n(339908),G=n(857147),V=n(755090),K=n(492604),Y=n(882368),q=n(771753),X=n(515207),$=n(12624),J=n(961902),Q=n(356204),ee=n(852276),et=n(140042),en=n(739951),er=n(506536),eo=n(903683),ei=n(992114),ea=n(757653),el=n(19035);function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eu(e){return function(e){if(Array.isArray(e))return ec(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ec(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ec(e,t):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){eg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ep(e,t){return(ep=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eh(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function em(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(em=function(){return!!e})()}function ey(e){return(ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eg(e,t,n){return(t=ev(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ev(e){var t=function(e,t){if("object"!=es(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=es(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==es(t)?t:t+""}var eb=(0,ea.Z)(function(){return n.e(85796).then(n.bind(n,569023))},void 0,function(e){return 569023},"app-common-react-components-FeedsAndFollowing-Homefeed-PinterestPicksFeed"),e_=(0,ea.Z)(function(){return n.e(12260).then(n.bind(n,107106))},void 0,function(e){return 107106},"MoreIdeasTabsNavCommon"),ew=(0,ea.Z)(function(){return n.e(6910).then(n.bind(n,206910))},{ssr:!1},function(e){return 206910},void 0),ej=(0,ea.Z)(function(){return n.e(33972).then(n.bind(n,133972))},{ssr:!1},function(e){return 133972},void 0),ex=(0,r.lazy)(function(){return n.e(95796).then(n.bind(n,895796))}),eO=(0,r.lazy)(function(){return n.e(39705).then(n.bind(n,739705))}),eP=(0,r.lazy)(function(){return n.e(8834).then(n.bind(n,608834))}),eS=(0,ea.Z)(function(){return n.e(52536).then(n.bind(n,886980))},void 0,function(e){return 886980},"app-www-EUPrompt-EUPromptModal"),eI=(0,ea.Z)(function(){return Promise.all([n.e(71274),n.e(22898)]).then(n.bind(n,423957))},void 0,function(e){return 423957},"app-packages-StructuredFeed-Feed-StructuredFeed"),eE=(0,ea.Z)(function(){return Promise.all([n.e(35160),n.e(24783)]).then(n.bind(n,86747))},void 0,function(e){return 86747},"app-common-react-components-save-board-BoardMoreIdeasTabContentResourceWrapper"),eC=(0,r.lazy)(function(){return n.e(58406).then(n.bind(n,461114))}),eT=(0,ea.Z)(function(){return n.e(34801).then(n.bind(n,236062))},void 0,function(e){return 236062},"app-www-discover-Bubbles-BubblesGridRep"),eD=(0,ea.Z)(function(){return n.e(13634).then(n.bind(n,25035))},{fallback:(0,el.jsx)(a.xu,{height:1})},function(e){return 25035},"app-common-react-components-SummaryCard-Story-StoryCard"),eA=(0,r.createRef)(),ek=function(e){var t=document.createElement("link"),n=document.querySelector("link[rel='icon']")||document.getElementById("dynamic-favicon");if(t.id="dynamic-favicon",t.rel="shortcut icon",t.type="image/x-icon",t.href=e,document.head){if(n){if(n instanceof HTMLLinkElement&&n.href===e)return;document.head.removeChild(n)}document.head.appendChild(t)}},eR=function(e,t){return(e||[]).slice(0,t).map(function(e){return e.id})},eM=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&ep(i,e);var t,n,o=(t=em(),function(){var e,n=ey(i);return e=t?Reflect.construct(n,arguments,ey(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==es(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eh(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eg(eh(e=o.call.apply(o,[this].concat(n))),"state",{hasScrolled:!1,hideTabs:!1,refreshReason:null,isRefreshing:!1,showYipModal:!1}),eg(eh(e),"refreshData",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",n=e.props.refreshData;e.setState({refreshReason:t,isRefreshing:!0},function(){n()})}),eg(eh(e),"handleScroll",(0,H.Z)(function(){var t=e.state.hasScrolled,n=e.props,r=n.experience,o=n.lastScrollYRef,i=window.scrollY,a=o.current;i<50?e.setState({hideTabs:!1}):Math.abs(i-a)>20&&(requestAnimationFrame(function(){a>i?e.setState({hideTabs:!1}):a<i&&e.setState({hideTabs:!0})}),o.current=i),r&&502535===r.experience_id&&!t&&e.setState({hasScrolled:!0})},10)),eg(eh(e),"onWindowFocus",function(){e.windowBlurStart>-1&&Date.now()-e.windowBlurStart>6e5&&e.refreshData("MORE_THAN_10_MINUTES"),e.windowBlurStart=-1,e.clearFaviconNotification()}),eg(eh(e),"onWindowBlur",function(){e.windowBlurStart=Date.now(),e.prepareForFaviconUpdate()}),eg(eh(e),"onInstallPrompt",function(t){e.installPromptEvent=t,e.setState({pwaUpsellBannerEligibility:e.getpwaUpsellBannerEligibility()})}),eg(eh(e),"clearFaviconNotification",function(){e.faviconUpdateTimeout&&(clearTimeout(e.faviconUpdateTimeout),e.faviconUpdateTimeout=null),ek("https://s.pinimg.com/webapp/favicon_48x48-7470a30d.png")}),eg(eh(e),"prepareForFaviconUpdate",function(){e.faviconUpdateTimeout=setTimeout(function(){var e=L.ZP.getItem(h.jz);(!e||new Date().getTime()-e>=y.F4)&&(ek("https://s.pinimg.com/webapp/favicon-notification_48x48-caeeb45a.png"),L.ZP.setItem(h.jz,new Date().getTime()))},6e5)}),eg(eh(e),"windowBlurStart",-1),eg(eh(e),"faviconUpdateTimeout",null),eg(eh(e),"loadItems",function(){var t=e.props,n=t.dataIsFetching,r=t.feedLimit,o=t.fetchMoreData,i=t.homefeedData||[];if(r&&i.length>r){e.props.setFeedLoading&&e.props.setFeedLoading(!1);return}!n&&i.length>0&&o()}),eg(eh(e),"installPromptEvent",null),eg(eh(e),"getpwaUpsellBannerEligibility",function(){var t=e.props.requestContext,n=e.state.pwaUpsellBannerEligibility;if(!(0,k.So)(window)&&t&&!n&&window.navigator.userAgent){if(window.navigator.userAgent.includes("Windows NT 10.0"))return"windows";else if(e.installPromptEvent)return"chrome"}return"notEligible"}),eg(eh(e),"handleInstallWindowsPWA",function(t){t(),(0,ei.nP)("windows.web.upsell.completed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),eg(eh(e),"handleInstallChromePWA",function(t){t(),(0,ei.nP)("chrome.web.upsell.completed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),eg(eh(e),"handleDismissChromePWAUpsell",function(t){t(),(0,ei.nP)("chrome.web.upsell.dismissed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),eg(eh(e),"renderItem",function(t){var n,r,o,i=t.data,a=t.itemIdx,l=e.props,s=l.homefeedData,c=l.lfvExperiences,d=l.location;if(!i||!i.type)return console.error("Invalid data received. ",a,i),null;var f=null==s||null==(n=s.find(function(e){return"home_feed_tabs"===e.type}))?void 0:n.tabs,p=(0,G.mB)(d.search),h=p.boardId,m=p.holidayFinds,y=f?e.getCurrentTabIndex(d,h,m,f):J.e,g=y>=1&&(null==(r=f[y-1])?void 0:r.tab_type)==="pinterest_picks",v=!!g&&(null==(o=f[y-1])?void 0:o.action.quick_save_icon)===1,b=g&&v;switch(i.type){case"pin":var _=!!c&&!!(0,E.Z)(c);return(0,el.jsx)(et.ZP,{duploQueryRef:null,imageOnlyOption:_?"image-only":"default",isEggsUi:b,pinId:i.id,saveButtonOptions:b?{savedInfo:{boardId:void 0,pinId:i.id,title:void 0,url:void 0},type:"inline"}:void 0,slotIndex:a,surface:"AuthHomefeed",trackingParams:i.tracking_params,viewParameter:b?4055:92,viewType:1});case"story":var w=i.story_type;if((0,ei.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:w||"unknown",surface:"homefeed"}}),"BUBBLE_ONE_COL"===w)return(0,el.jsx)(eT,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:a,storyType:w,title:i.title,viewParameter:92,viewType:1});if("featured_boards"===w)return(0,el.jsx)(u.default,{slotIndex:a,story:i,surface:"AuthHomefeed",viewParameter:92,viewType:1});return(0,el.jsx)(eD,{component:b?14769:void 0,isEggsUi:b,itemIdx:a,saveButtonOptions:b?{savedInfo:{boardId:void 0,pinId:i.id,title:void 0,url:void 0},type:"inline"}:void 0,story:i,surface:"AuthHomefeed",viewParameter:b?4055:92,viewType:1});default:return null}}),e}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.checkExperiment,r=t.experienceClient,o=t.history,i=t.location,a=t.mountWebRepinPlacement,l=t.toastManagerContext;r.triggerExperimentsForPlacement(1000116),n("web_disable_cedexis_sampling").anyEnabled||s.inject(),(0,G.mB)(i.search).show_error?l.showOneToast(function(t){var n=t.hideToast;return(0,el.jsx)(j.Z,{duration:5e3,onHide:n,text:e.props.i18n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- ')})}):i.state&&"/pin-builder/"===i.state.from?i.state.boardName&&i.state.imageUrl&&this.handlePinSuccessPinBuilder():(0,G.mB)(i.search).show_yip_modal&&(o.replace("/homefeed/"),this.setState({showYipModal:!0})),window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),window.addEventListener("beforeinstallprompt",this.onInstallPrompt),document.addEventListener("scroll",this.handleScroll),a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dataIsFetching,r=t.history,o=t.homefeedData,i=this.state.refreshReason,a=e.dataIsFetching,l=e.homefeedData;if(o&&l&&a&&!n&&o.length<=l.length){var s=r&&"POP"!==r.action,u=eR(o,10),c=eR(l,10);this.logRefreshStats(i||(s?"ROUTE_CHANGE":"UNKNOWN"),JSON.stringify(c)===JSON.stringify(u)),this.setState({isRefreshing:!1,refreshReason:null})}}},{key:"logRefreshStats",value:function(e,t){var n=this.props,r=n.currentHistoryStack,o=n.requestContext,i={appType:"web",language:o.language||"unknown",locale:o.locale||"unknown",refreshReason:e},a=JSON.parse((0,U.q)(d.g,null)),l=null!=a&&a.time?new Date(a.time):null,s=r&&r.length>1?r[r.length-2]:{};T.default.logToServer(T.default.SERVER_LOG_TYPE.HF_REFRESH,T.default.HTTP_METHOD.POST,{refreshReason:e,lastRoute:s.match,timeSinceHomefeed:l?Date.now()-l.getTime():null,timeSinceBlur:this.windowBlurStart?Date.now()-this.windowBlurStart:null}),(0,ei.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:i}),t&&(0,ei.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:i})}},{key:"componentWillUnmount",value:function(){var e=this.props.unmountWebRepinPlacement;window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("beforeinstallprompt",this.onInstallPrompt),(0,U.N)(d.g,JSON.stringify({time:Date.now(),scrollPosition:[window.scrollX,window.scrollY]})),document.removeEventListener("scroll",this.handleScroll),e()}},{key:"isHomefeed",get:function(){var e=this.props,t=e.inLocalNavigation,n=e.location,r=(0,G.mB)(n.search);return!(r&&"string"==typeof r.boardId&&r.boardId)||!!t}},{key:"handlePinSuccessPinBuilder",value:function(){var e=this.props,t=e.location,n=e.toastManagerContext,r=(t.state||{}).boardName,o=(t.state||{}).imageUrl,i=(0,I.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:(0,el.jsx)(a.xv,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:r},r)});n.showOneToast(function(e){var t=e.hideToast;return(0,el.jsx)(j.Z,{duration:5e3,imageUrl:o,onHide:t,text:(0,el.jsx)(a.xv,{children:i},"toast_".concat(r))})})}},{key:"getCurrentTabIndex",value:function(e,t,n,r){return n||"/homefeed/holiday_finds/"===e.pathname?r.findIndex(function(e){return"pinterest_picks"===e.tab_type})+1:t?r.findIndex(function(e){return(null==e?void 0:e.id)===t})+1:J.e}},{key:"getColumnSpanConfig",value:function(e){var t,n="recently_viewed"===e.story_type&&this.props.checkExperiment("web_recently_viewed_responsive").anyEnabled;if((null==(r=e.display_options)||null==(o=r.item_view_rep_style)?void 0:o.explore_article_rep_style)===10||n)return{sm:2,md:3,lg:3,xl:4};if("story"===e.type&&"featured_boards"===e.story_type){var r,o,i,a,l,s,u=(null==e||null==(s=e.objects)?void 0:s.length)||0;return{sm:2,md:2,lg:Math.min(3,u),xl:Math.min(4,u)}}return"story"===e.type&&null!=e&&null!=(i=e.display_options)&&null!=(a=i.content_display)&&null!=(l=a.grid_layout)&&l.cols?e.display_options.content_display.grid_layout.cols:null!=(t=e.columnSpan)?t:1}},{key:"render",value:function(){var e,t=this,n=this.state,o=n.hasScrolled,i=n.hideTabs,l=n.isRefreshing,s=n.pwaUpsellBannerEligibility,u=n.showYipModal,d=this.props,p=d.checkExperiment,h=d.dataIsFetching,y=d.dataIsRefreshing,b=d.headerHeight,j=d.homefeedData,O=d.i18n,P=d.inLocalNavigation,I=d.location,E=d.requestContext,C=d.viewer,T=j||[],D=T[0],A=!!D&&"story"===D.type&&["board_more_ideas","boards_more_ideas_feed_upsell_list_cards","boards_more_ideas_feed_upsell_list_cards_square"].includes(D.story_type);A&&D.objects&&(D.objects=D.objects.filter(function(e){return(null==e?void 0:e.images)&&"70x"in e.images&&"170x"in e.images}));var k=A?T.slice(1):T,M=I&&I.pathname.includes("news_hub"),N=P?null==(e=k.find(function(e){return"home_feed_tabs"===e.type}))?void 0:e.tabs:void 0,L=(0,G.mB)(I.search),U=L.boardId,H=L.holidayFinds,F=p("hfp_pinterest_picks_mock_exp").anyEnabled||p("hfp_web_holiday_finds_gtm").anyEnabled,W=N?this.getCurrentTabIndex(I,U,H,N):J.e,V=p("dweb_eu_personalized_ads_prompt").anyEnabled;return(0,el.jsxs)(r.Fragment,{children:[(0,el.jsx)(v.a3,{eligibleIds:[505801],placementId:11,children:function(e){var t=e.complete;return(0,el.jsx)(z.Z,{children:(0,el.jsx)(eC,{complete:t})})}}),(0,el.jsx)(v.a3,{eligibleIds:[504943,505226],placementId:11,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data,o=!("is_blocking"in r)||!!r.is_blocking,i=r.message_blocking;return o||(i=r.message_dismissible),(0,el.jsx)(ej,{complete:t,dismiss:n,isBlockingModal:o,modalDescription:i})}}),V&&(0,el.jsx)(v.a3,{eligibleIds:[507007],placementId:11,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data;return(0,el.jsx)(eS,{complete:t,dismiss:n,displayData:r})}}),(0,el.jsx)(v.a3,{eligibleIds:[505111],placementId:11,children:function(e){var t=e.complete,n=e.dismiss;return(0,el.jsx)(r.Suspense,{children:(0,el.jsx)(eP,{complete:t,dismiss:n})})}}),"windows"===s&&(0,el.jsx)(v.a3,{eligibleIds:[501123],placementId:11,children:function(e){var n=e.complete;return(0,el.jsx)(r.Suspense,{children:(0,el.jsx)(eO,{handleComplete:function(){return t.handleInstallWindowsPWA(n)},language:E.language||"",locale:E.locale||""})})}}),"chrome"===s&&(0,el.jsx)(v.a3,{eligibleIds:[500999],placementId:11,children:function(e){var n=e.complete,r=e.dismiss;return(0,el.jsx)(B.Z,{completeButtonText:O._('Get the app', 'Confirm button to install Chrome PWA', 'Confirm button to install Chrome PWA'),dismissButtonText:O._('Not now', 'Dismiss button for Chrome PWA upsell banner', 'Dismiss button for Chrome PWA upsell banner'),message:O._('Get our Chrome app for faster searching and saving', 'Text for banner to install Chrome PWA', 'Text for banner to install Chrome PWA'),onComplete:function(){return t.handleInstallChromePWA(n)},onDismiss:function(){return t.handleDismissChromePWAUpsell(r)}})}}),o&&(0,el.jsx)(v.a3,{eligibleIds:[502535],placementId:11,children:function(e){var t=e.complete,n=e.dismiss;return(0,el.jsx)(r.Suspense,{children:(0,el.jsx)(ex,{handleComplete:t,handleDismiss:n})})}}),u&&(0,el.jsx)(g.Z,{name:"SafeSuspense_AuthHomefeed_YearInPreview",children:(0,el.jsx)(ew,{onModalDismiss:function(){t.setState({showYipModal:!1})}})}),(0,el.jsx)(Z.Z,{view:1,viewParameter:92,children:(0,el.jsxs)(r.Fragment,{children:[C.isAuth&&C.isPartner&&!M&&(0,el.jsx)(g.Z,{name:"SafeSuspense_AuthHomefeed_MoreIdeas",children:(0,el.jsx)(a.Le,{top:b,zIndex:new a.Ry(2*!!this.isHomefeed),children:(0,el.jsx)(a.xu,{"data-root-margin":"more-ideas-tabs",height:c.Z,children:(0,el.jsx)(e_,{fallback:(0,el.jsx)(a.xu,{height:c.Z}),hideTabs:i,nonFixed:!0})})})}),this.isHomefeed&&(0,el.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:x.$H}},"data-test-id":"homefeed-feed",children:[(0,el.jsx)(X.Z,{text:this.props.i18n._('Home', 'text for accessibility hidden heading', 'text for accessibility hidden heading')}),(y||l)&&(0,el.jsx)(a.xu,{paddingY:6,children:(0,el.jsx)(a.xH,{accessibilityLabel:this.props.i18n._('Refreshing homefeed', 'Authhomefeed.refreshSpinner', 'spinner for refreshing homefeed'),show:!0})}),A&&(0,el.jsx)(a.xu,{marginBottom:2,marginTop:4,children:(0,el.jsxs)("div",{className:"gridCentered",children:[(0,el.jsx)(S.Z,{unsafeCSS:(0,w.Z)({gutterWidth:0,isRTL:!1,itemWidth:x.yF+x.ZZ,maxColumns:k.length,minColumns:x.yc})}),(0,el.jsx)(eI,{disableLastGutter:!0,fallback:(0,el.jsx)(a.xu,{height:142}),feed:[D],view:1,viewParameter:92})]})}),!!(null!=N&&N.length)&&C.isAuth&&!C.isPartner&&(0,el.jsx)(q.Z,{dataLayoutShiftBoundaryId:"TabsContentHeader",position:"sticky",shouldShowShadow:!0,stickyZIndex:new a.H3(this.isHomefeed?[new a.Ry(5)]:[new a.Ry(6)]),style:{width:"100%",backgroundColor:"#ffffff",transform:i?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out"},children:(0,el.jsx)(a.xu,{"data-root-margin":"more-ideas-tabs",marginBottom:4*(W===J.e),marginEnd:(0,f.mH)(),marginStart:(0,f.mH)(),overflow:"visible",children:(0,el.jsx)(e_,{boards:N,currentTabIndex:W,hideTabs:i,inLocalNavigation:P,nonFixed:!0})})}),!!(null!=N&&N.length)&&!!W&&"pinterest_picks"===N[W-1].tab_type&&F&&(0,el.jsx)(eb,{getColumnSpanConfig:this.getColumnSpanConfig,renderItem:this.renderItem}),!!(null!=N&&N.length)&&!!W&&"pinterest_picks"!==N[W-1].tab_type&&(0,el.jsx)(eE,{inLocalNavigation:P,tabBoard:N[W-1]}),W===J.e&&(0,el.jsxs)(r.Fragment,{children:[(0,el.jsx)(R.Z,{includeBackgroundImages:!0,includeVideos:!0,isAtEndOfFeed:this.props.dataIsAtEnd,isPlaceholderGrid:h&&!k.length,itemCount:k.length,pinData:k,children:(0,el.jsx)(_.default,{_dynamicHeights:!0,_getColumnSpanConfig:function(e){return t.getColumnSpanConfig(e)},cacheKey:"homefeed",isFetching:h,isLoadedAccessibilityLabel:k.length>0?this.props.i18n._('More Pins loaded for homefeed', 'authhomefeed.masonry.paginationLoaded', 'More Pins loaded for homefeed'):this.props.i18n._('Loaded homefeed', 'authhomefeed.masonry.loaded', 'Pins have loaded for homefeed'),isLoadingAccessibilityLabel:k.length>0?this.props.i18n._('Loading more Pins for homefeed', 'authhomefeed.masonry.paginationLoading', 'Loading more Pins for homefeed'):this.props.i18n._('Loading homefeed', 'authhomefeed.masonry.loading', 'Loading homefeed'),isLoadingStateEnabled:!0,items:k,loadItems:this.loadItems,masonryRef:eA,renderItem:this.renderItem})}),k.length>0&&(0,el.jsx)(m.Z,{surface:"homefeed"})]}),(0,el.jsx)(v.O9,{placementId:11})]})]})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ev(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent);function eN(e){var t=(0,P.ZP)(),n=(0,o.I0)(),a=(0,r.useRef)(0),l=(0,i.TH)(),s=(0,Y.Z)(),u=(0,M.B)(),c=(0,F.Z)(),f=(0,eo.AF)(),m=(0,ee.f)(),y=(0,Q.Z)(),g=y.pins,_=y.clear,w=(0,W.F9)(),j=(0,v.M0)(),x=j.mountPlacement,S=j.unmountPlacement,I=(0,A.F)().checkExperiment,E=(0,O.aX)(),T=(0,b.Z)(),k=(0,i.k6)(),R=(0,K.Z)(),z=(0,d.Z)().shouldMaintainHomefeed,U=(0,$.t)(),H=(0,N.Z)(ef(ef({},e.homefeedResourceConfig),{},{enabledRouteRefresh:!z})),Z=H.isAtEnd,B=H.isFetching,G=H.isRefreshing,q=H.fetchMore,X=H.data,J=H.refresh,et=I("hfp_local_nav_tabs_web").anyEnabled;(0,V.Z)(function(){var e=X||[];if(s.isAuth&&!s.isPartner&&(0,C.Z)(s.createdAt)&&e.length>0&&1){var r=L.ZP.getItem(h.M8);if(r||g.length>0){var o=[].concat(eu(g),eu(r?[{id:r}]:[]));setTimeout(function(){o.forEach(function(e){var r=e.id,o=e.nodeId;(0,p.Z)({description:"",entityId:r,link:"",promotedIsRemovable:void 0,title:""},t).then(function(e){var t=e.id,i=e.url,a=e.name;n((0,en.d)({boardId:t,url:i,title:a||"",pinId:r||"",nodeId:o}))})}),c({action:"trigger",item:"unauth-save-button-quicksave"}),n((0,er.Z)(!0)),L.ZP.removeItem(h.M8),_()},1500)}}});var ei=(0,r.useCallback)(function(){return x(1000294,{})},[x]),ea=(0,r.useCallback)(function(){return S(1000294)},[S]);return(0,D.Z)(l,w.showToast,t),(0,el.jsx)(r.Fragment,{children:(0,el.jsx)(eM,ef(ef({},e),{},{checkExperiment:I,currentHistoryStack:E,dataIsAtEnd:Z,dataIsFetching:B,dataIsRefreshing:G,dispatch:n,experienceClient:T,fetchMoreData:q,headerHeight:U,history:k,homefeedData:X,i18n:t,inLocalNavigation:et,lastScrollYRef:a,lfvExperiences:R,location:l,mostRecentPLP:m.id?f[m.id]:null,mountWebRepinPlacement:ei,refreshData:J,requestContext:u,toastManagerContext:w,unmountWebRepinPlacement:ea,viewer:s}))})}function ez(e){var t=(0,l.q)(),n=(0,r.useMemo)(function(){return t()},[t]);return(0,el.jsx)(eN,ef(ef({},e),{},{homefeedResourceConfig:n}))}},415761:function(e,t){"use strict";t.Z=64},685945:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},g:function(){return i}});var r=n(284987),o=n(805),i="lastOnHomefeed",a=["/","/homefeed/"];function l(){var e=(0,r.TH)().pathname,t=(0,r.k6)(),n=a.includes(e),l=t&&"POP"!==t.action;if(n&&l){var s=JSON.parse((0,o.q)(i,null)),u=null!=s&&s.time?Date.now()-s.time:0;return{shouldMaintainHomefeed:u>0&&u/6e4<2.5,lastHFScrollPosition:null==s?void 0:s.scrollPosition}}return{shouldMaintainHomefeed:!1}}},43280:function(e,t){"use strict";t.Z=function(e){var t=e.inNux,n=e.inNewsHub,r=e.staticFeed;return{field_set_key:e.viewerIsPartner?"hf_grid_partner":"hf_grid",in_nux:t,in_news_hub:n,static_feed:r}}},87134:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(132227),o=n(852015),i=n(233846),a=n(19035);function l(e){var t=e.onDeleteConfirmation,n=e.didItData,l=(0,i.ZP)(),s=n&&n.id,u=l._('Are you sure?', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data');return(0,a.jsx)(o.ZP,{accessibilityModalLabel:l._('Are you sure you want to delete the did it photo?', 'Label for a modal showing to confirm deleting a did it photo', 'Label for a modal showing to confirm deleting a did it photo'),footer:(0,a.jsxs)(r.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(r.xu,{padding:1,children:(0,a.jsx)(r.zx,{fullWidth:!0,onClick:function(){return t(null)},size:"lg",text:l._('Cancel', 'Cancel the deleting data in a modal form', 'Cancel the deleting data in a modal form')})}),(0,a.jsx)(r.xu,{padding:1,children:(0,a.jsx)(r.zx,{color:"red",dataTestId:"delete-did-it-button",fullWidth:!0,onClick:function(){t(s)},size:"lg",text:l._('Delete', 'Confirmation of deleting data', 'Confirmation of deleting data')})})]}),heading:u,onDismiss:function(){return t(null)},role:"alertdialog",size:"sm",children:(0,a.jsx)(r.xu,{paddingX:4,paddingY:2,children:(0,a.jsx)(r.xv,{children:l._('This will remove this photo', 'Confirmation dialog for deleting data', 'Confirmation dialog for deleting data')})})})}},115157:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(132227),o=n(233846),i=n(19035);function a(){var e=(0,o.ZP)();return(0,i.jsx)(r.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{outline:"none"}},display:"flex",height:155,justifyContent:"center",rounding:2,width:300,children:(0,i.jsx)(r.xH,{accessibilityLabel:e._('Tried it', ' - ', ' -- '),show:!0})})}},1450:function(e,t,n){"use strict";n.d(t,{Z:function(){return ts}});var r,o=n(258712),i=n(545007),a=n(766178),l=n(132227),s=n(166543),u=n(19035),c="__SafeLinkFlag__",d=function(e){var t=e.html,n=e.onClick||null,r=[],o=(t=(t=t||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,function(e){return r.push({url:"/search/pins/?q=".concat(encodeURIComponent(e),"&rs=").concat(s.i.HASHTAG_CLOSEUP),text:e}),c})).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,function(e,t,n){return r.push({url:t,text:n}),c});return(0,u.jsx)(l.xu,{"data-test-id":"safe-link",children:o.split(new RegExp("(".concat(c,")"))).filter(function(e){return e.length>0}).map(function(e,t){var o=e;if(e===c&&r.length){var i=r.shift(),a=i.url,s=i.text;o=(0,u.jsx)(l.rU,{display:"inlineBlock",href:a,onClick:n||void 0,underline:"hover",children:s})}return(0,u.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:o},t)})})};n(53583);var f=n(284987),p=n(909598),h=n(852015),m=function(e){var t=e.accessibilityModalLabel,n=e.cancelButtonText,r=e.confirmButtonText,o=e.detail,i=e.heading,a=e.onConfirm,s=e.onDismiss;return(0,u.jsx)(h.ZP,{accessibilityModalLabel:t,heading:i,onDismiss:s,size:"md",children:(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xu,{padding:4,children:(0,u.jsx)(l.xv,{children:o})}),(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,u.jsx)(l.xu,{margin:2,children:(0,u.jsx)(l.xu,{"data-test-id":"confirm-modal-cancel",children:(0,u.jsx)(l.zx,{fullWidth:!0,onClick:s,text:n})})}),(0,u.jsx)(l.xu,{margin:2,children:(0,u.jsx)(l.xu,{"data-test-id":"confirm-modal-confirm",children:(0,u.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:function(){a(),s()},text:r})})})]})]})})},y=n(233846),g=n(970601);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var b=(0,o.forwardRef)(function(e,t){var n,r=e.isCloseup,i=e.isEmojiTrayOpen,a=e.onClick,s=function(e){if(Array.isArray(e))return e}(n=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(n,2)||function(e,t){if(e){if("string"==typeof e)return v(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],d=s[1],f=(0,l.JZ)(),p=(0,y.ZP)(),h=(0,o.useRef)(null);(0,o.useEffect)(function(){t&&(t.current=h.current)},[t]);var m=function(){null==a||a()},b=p._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button');return(0,u.jsx)(l.xu,{color:i?"secondary":"transparent","data-test-id":"emoji-selector",display:"flex",justifyContent:"center",rounding:"circle",children:void 0!==r&&r?(0,u.jsx)(l.xu,{ref:h,children:(0,u.jsx)(l.hU,{accessibilityLabel:b,icon:"face-smiley",iconColor:"darkGray",onClick:m,size:"lg"})}):(0,u.jsx)(l.iP,{ref:h,accessibilityLabel:b,fullWidth:!1,onMouseEnter:function(){d(!0)},onMouseLeave:function(){d(!1)},onTap:m,rounding:"circle",children:(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(g.Z,{unsafeCSS:"@keyframes wiggle {\n        0% {transform: rotate(0deg);}\n        25% {transform: rotate(15deg);}\n        50% {transform: rotate(-15deg);}\n        75% {transform: rotate(15deg);}\n        100% {transform: rotate(0deg);}\n      }"}),(0,u.jsx)(l.xu,{ref:t,alignItems:"center",dangerouslySetInlineStyle:{__style:c&&!f?{fontSize:"24px",animationName:"wiggle",animationDuration:"0.9s"}:{fontSize:"24px"}},display:"flex",height:40,justifyContent:"center",width:40,children:"\uD83D\uDE03"})]})})})}),_=n(19963),w=n(81772),j=n(882368),x=n(644849),O=n(418579),P=n(332245);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){R(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return(t=M(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var N={isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",userMentionOverLimitError:!1},z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&T(o,e);var t,n,r=(t=A(),function(){var e,n=k(o);return e=t?Reflect.construct(n,arguments,k(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return R(D(e=r.call.apply(r,[this].concat(n))),"state",C(C({},N),{},{tags:e.props.tags||[],textValue:e.props.text||"",isEmojiTrayOpen:!1})),R(D(e),"handleFocus",function(){e.props.onEnter()}),R(D(e),"handleChange",function(t){var n=t.text,r=t.mentions;r.length<e.state.tags.length&&e.props.logContextEvent({event_type:8906,aux_data:{tag_type:1}});var o=e.props.text||"";e.setState({isTextChanged:o!==n,textValue:n,tags:r,userMentionOverLimitError:r.length>5})}),R(D(e),"handleOnClickEdit",function(){var t=e.props.onEditItem,n=e.state,r={contentMarkdown:n.textValue,imageSignatures:"",objectIds:[],tags:JSON.stringify(n.tags)};t&&t(r),e.setState({submissionInProgress:!1})}),R(D(e),"handleOnClickPost",function(){e.state.userMentionOverLimitError||(e.setState({submissionInProgress:!0,isEmojiTrayOpen:!1}),e.handleOnClickPostFinal())}),R(D(e),"handleOnClickPostFinal",function(){var t=e.props.onAddItem,n=e.state,r={contentMarkdown:n.textValue,imageSignatures:"",objectIds:[],tags:JSON.stringify(n.tags)};t&&t(r),e.setState(N)}),R(D(e),"handleOnFinalDiscardItem",function(){var t=e.props.onCancelItem;e.setState(N),t()}),R(D(e),"isSubmitEditDisabled",function(){return!e.state.isTextChanged}),R(D(e),"toggleShowConfirmDiscardModal",function(){var t=e.state.showConfirmDiscardModal;e.setState({showConfirmDiscardModal:!t,isEmojiTrayOpen:!1})}),R(D(e),"renderConfirmDiscardModal",function(){var t,n;return"textInFlightNested"===e.props.statusType?(t=e.props.i18n._('Your changes will be discarded', 'Confirmation dialog before discarding changes', 'Confirmation dialog before discarding changes'),n=e.props.i18n._('Discard changes', 'Clear edits', 'Clear edits')):(t=e.props.i18n._('Once you delete a draft, you can\u2019t undo it', 'Confirmation before discarding changes', 'Confirmation before discarding changes'),n=e.props.i18n._('Delete', 'delete draft of a post or comment', 'delete draft of a post or comment')),(0,u.jsx)(m,{accessibilityModalLabel:e.props.i18n._('Confirm discard composer', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),cancelButtonText:e.props.i18n._('Cancel', 'Cancel discarding a post or comment', 'Cancel discarding a post or comment'),confirmButtonText:n,detail:t,heading:e.props.i18n._('Are you sure?', 'Confirm discarding a post or comment', 'Confirm discarding a post or comment'),onConfirm:e.handleOnFinalDiscardItem,onDismiss:e.toggleShowConfirmDiscardModal})}),R(D(e),"getReplyToEntity",function(e){return[e?"@".concat(e.user.username," "):"",e?[{offset:0,object_id:e.user.id,length:e.user.username.length+1,tag_type:1}]:[]]}),e}return n=[{key:"isAggregatedComment",get:function(){var e=this.props.objectType;return e===x.o.pin||e===x.o.didIt||e===x.o.aggregatedComment}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,i=o.avatarSize,a=o.replyToObject,s=o.privatePin,c=o.statusType,d=o.viewingUser,f=this.state,h=f.isTextChanged,m=f.isEmojiTrayOpen,y=f.showConfirmDiscardModal,g=f.submissionInProgress,v=f.tags,_=f.textValue,w=f.userMentionOverLimitError,j=function(e){if(Array.isArray(e))return e}(e=this.getReplyToEntity(a))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return I(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=j[0],S=j[1],E=(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.xv,{align:"end",color:"error",size:"100",children:(0,P.bl)(!1,this.props.i18n)})});return(t=this.isAggregatedComment&&s?this.props.i18n._('Add a public comment', 'Add a comment', 'Add a comment'):this.isAggregatedComment?this.props.i18n._('Add a comment', 'Prompt to add a comment', 'Prompt to add a comment'):this.props.i18n._('Reply', 'Adding text to a community comment', 'Adding text to a community comment'),n=this.isAggregatedComment?this.props.i18n._('Done', 'Post a top level comment on a pin or tried it', 'Post a top level comment on a pin or tried it'):this.props.i18n._('Reply', 'Posting a reply to a post or comment', 'Posting a reply to a post or comment'),"textInflightCreation"===c)?(0,u.jsxs)(l.xu,{column:12,display:"flex",justifyContent:"center",children:[(0,u.jsxs)(l.xu,{width:"100%",children:[(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(l.xu,{marginEnd:2,children:(0,u.jsx)(p.Z,{size:i,userKey:{type:"deprecated",data:d}})}),(0,u.jsx)(l.xu,{borderStyle:"sm",flex:"grow",padding:3,rounding:4,children:(0,u.jsx)(O.Z,{focusOnMount:!0,initialMentions:S,initialText:x,onAddMention:function(){r.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:function(){r.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){r.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:t})})]}),w&&E,(0,u.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,u.jsx)(l.xu,{"data-test-id":"activity-item-create-cancel",children:(0,u.jsx)(l.zx,{color:"gray",onClick:h?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')})}),(0,u.jsx)(l.xu,{marginStart:2,children:(0,u.jsx)(l.xu,{"data-test-id":"activity-item-create-submit",children:(0,u.jsx)(l.zx,{color:"red",disabled:!h||g||!_.length,onClick:this.handleOnClickPost,text:n})})})]})]}),y&&this.renderConfirmDiscardModal()]}):"textInFlightNested"===c?(0,u.jsxs)(l.xu,{column:12,"data-test-id":"activity-item-create",display:"flex",justifyContent:"center",children:[(0,u.jsxs)(l.xu,{width:"100%",children:[(0,u.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,u.jsx)(l.xu,{borderStyle:"sm",flex:"grow",padding:3,rounding:4,children:(0,u.jsx)(O.Z,{focusOnMount:!0,initialMentions:v,initialText:_,onAddMention:function(){r.props.logContextEvent({event_type:8905,aux_data:{tag_type:1}})},onChange:this.handleChange,onSearchMentionCancel:function(){r.props.logContextEvent({event_type:8908,aux_data:{tag_type:1}})},onSuggestionsPopoverOpen:function(){r.props.logContextEvent({event_type:8907,aux_data:{tag_type:1}})},placeholder:t})})}),w&&E,(0,u.jsxs)(l.xu,{display:"flex",justifyContent:"end",marginTop:4,children:[(0,u.jsx)(l.zx,{color:"gray",onClick:h?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:this.props.i18n._('Cancel', 'Cancel making post or comment', 'Cancel making post or comment')}),(0,u.jsx)(l.xu,{marginStart:2,children:(0,u.jsx)(l.zx,{color:"red",disabled:this.isSubmitEditDisabled()||g,onClick:this.handleOnClickEdit,text:this.props.i18n._('Save', 'comment save button', 'comment save button')})})]})]}),y&&this.renderConfirmDiscardModal()]}):(0,u.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{cursor:"text"}},display:"flex",justifyContent:"between",rounding:2,children:(0,u.jsx)(l.iP,{"aria-label":this.props.i18n._('Add comment field', 'ActivityItemCreate.textbox.accessibilityLabel', 'Textbox for comment field.'),mouseCursor:"default",onKeyDown:this.handleFocus,onTap:this.handleFocus,tabIndex:0,children:(0,u.jsxs)(l.xu,{column:12,display:"flex",children:[(0,u.jsx)(l.xu,{width:48,children:(0,u.jsx)(p.Z,{size:i,userKey:{type:"deprecated",data:d}})}),(0,u.jsxs)(l.xu,{alignItems:"center",borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderRadius:"26px"}},display:"flex",height:48,marginStart:4,padding:4,width:"100%",children:[(0,u.jsx)("textarea",{"data-gestalt-valid-html":"TextArea","data-test-id":"communityItemTextBox",maxLength:2e3,name:"communityItemTextBox",onFocus:this.handleFocus,placeholder:t,rows:1,style:{background:"transparent",border:"0",display:h?"inline-block":"block",minHeight:"textStaticDisplay"===c?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"}}),(0,u.jsx)(b,{isEmojiTrayOpen:m,onClick:function(){r.setState({isEmojiTrayOpen:!m})}})]})]})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component);R(z,"defaultProps",{imageSignature:"",onEnter:function(){},text:"",widthAuto:!1});var L=(0,w.Z)(function(e){var t=(0,_.v)().logContextEvent,n=(0,y.ZP)(),r=(0,j.Z)(),o=r.isAuth?{image_medium_url:r.imageMediumUrl,type:"user",username:r.username,full_name:r.fullName,first_name:"",id:""}:{id:"",type:"user",username:""};return(0,u.jsx)(z,C(C({},e),{},{i18n:n,logContextEvent:t,viewingUser:o}))}),U=n(504122),H=n(776682),Z=n(254377),F=n(757653);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V=function(){return!!e})()}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return(t=q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}var X=(0,F.Z)(function(){return Promise.all([n.e(88248),n.e(28164)]).then(n.bind(n,130035))},void 0,function(e){return 130035},"app-common-react-components-Activities-Utils-Linkify"),$=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&W(o,e);var t,n,r=(t=V(),function(){var e,n=K(o);return e=t?Reflect.construct(n,arguments,K(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==B(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return G(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return Y(G(e=r.call.apply(r,[this].concat(n))),"parseText",function(){var t=e.props,n=t.tags,r=t.taggedUsers,o=t.text,i=t.size;if(!n.length||!r||n.length!==r.length)return e.renderRegularText(o,"1");var a=0,s=[];return n.forEach(function(t,n){var r=o.substring(a,t.offset);a=t.offset+t.length;var i=o.substring(t.offset,a);s=s.concat(e.renderRegularText(r,"".concat(n,"a"))).concat(e.renderTaggedText(i,n,"".concat(n,"b")))}),s=s.concat(e.renderRegularText(o.substring(a),"2")),(0,u.jsx)(l.xv,{inline:!0,overflow:"normal",size:i,children:s})}),Y(G(e),"renderRegularText",function(t,n){return(0,u.jsx)(l.xv,{inline:!0,overflow:"normal",size:e.props.size,children:e.props.allowLink?(0,u.jsx)(X,{children:t}):t},n)}),Y(G(e),"renderTaggedText",function(t,n,r){return(0,u.jsx)(l.xv,{color:"shopping",inline:!0,overflow:"normal",size:e.props.size,weight:"bold",children:(0,u.jsx)(l.rU,{display:"inlineBlock",href:"/".concat(e.props.taggedUsers[n].username),underline:"hover",children:t})},r)}),e}return n=[{key:"render",value:function(){return(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap",wordWrap:"break-word"}},children:this.parseText()})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,q(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);Y($,"defaultProps",{allowLink:!0,size:"200"});var J=n(80118),Q=n(951016),ee=n(660691);function et(e){var t=e.createdAt,n=e.user,r=e.isHighlighted,o=(0,y.ZP)(),i=(0,ee.Z)(),a=(0,u.jsx)(l.xv,{color:"subtle",size:"200",children:(0,Q.A7)(t,o,i)}),s=(0,u.jsxs)(l.xv,{color:"subtle",size:"200",children:["\xb7 ",o._('Highlighted', 'pin.comments.highlight', 'Identifier for highlighted comments')]});return(0,u.jsxs)(l.xu,{alignItems:"start",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.xv,{size:"200",weight:"bold",children:(0,u.jsx)(l.rU,{href:"/".concat(n.username,"/"),children:(0,Q.YD)(n)})})}),(0,u.jsx)(l.xu,{paddingX:1,children:a}),r&&(0,u.jsx)(l.xu,{paddingX:1,children:s})]})}var en=n(450745),er=n(113474),eo=n(181710),ei=n(59784),ea=n(140042),el=n(242490);function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eu(e){var t,n=e.avatarSize,r=e.commentCount,i=e.contentImageSignature,a=e.contentText,s=e.flyout,c=e.handleOnEditCancel,d=e.handleOnEdited,f=e.handleHelpfulClick,h=e.handleLikeClick,m=e.handleReplyClick,g=e.handleReplyCountClick,v=e.helpfulCount,b=e.hideAddObjects,_=e.hideReplyCount,w=e.inEditMode,j=e.isHighlighted,x=e.isLikedByMe,O=e.isMarkedHelpfulByMe,P=e.isPlainComment,S=e.parentObject,I=e.reactionCounts,E=e.responsePinId,C=e.slotIndex,T=e.taggedUsers,D=e.tags,A=e.truncateText,k=e.commentId,R=e.createdAt,M=e.commentAuthor,N=e.type,z=e.isORBACProfileManager,U=(0,en.K)(),H=(0,y.ZP)(),F=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(k===U))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return es(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),B=F[0],W=F[1],G=(0,er.Z)(E?{name:"PinResource",options:{id:E,field_set_key:"detailed"}}:null),V=G.isLoaded,K=G.data;(0,o.useEffect)(function(){k===U&&Z.Z.setTimeout(function(){W(!1)},1500)},[]);var Y=V&&!!E;return(0,u.jsx)(l.xu,{"data-test-id":"canonical-comment",children:(0,u.jsxs)(l.xu,{display:"flex",marginBottom:4*!!P,children:[(0,u.jsx)(l.xu,{marginEnd:2,children:(0,u.jsx)(p.Z,{size:void 0===n?"sm":n,userKey:{type:"deprecated",data:M}})}),(0,u.jsxs)(l.xu,{flex:"grow",marginStart:2,children:[(0,u.jsx)(l.xu,{borderStyle:"sm",dangerouslySetInlineStyle:{__style:{borderColor:w?"transparent":void 0,transition:"".concat(1e3,"ms"),backgroundColor:B?"lightGray":void 0}},padding:3*!w,rounding:4,children:w?(0,u.jsx)(L,{hideAddObjects:b,imageSignature:i,objectType:N,onAddItem:function(){},onCancelItem:c,onEditItem:d,onEnter:function(){},parentObjectId:S.id,statusType:"textInFlightNested",tags:D,text:a,widthAuto:!0}):(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(et,{createdAt:R,isHighlighted:j,user:M}),A?(0,u.jsx)(J.Z,{allowReveal:!0,size:"100",taggedUsers:T,tags:D,text:a}):(0,u.jsx)($,{size:"100",taggedUsers:T,tags:D,text:a}),E&&Y&&K&&(0,u.jsx)(eo.Z,{fallback:(0,u.jsx)(ei.Z,{accessibilityLabel:H._('Loading comment reply Pin preview', 'Loading pin previews for comment reply comments component', 'Loading pin previews for comment reply comments component')}),children:(0,u.jsx)(l.xu,{marginTop:1,maxWidth:"21%",children:(0,u.jsx)(ea.rX,{pinKey:{type:"deprecated",data:K},slotIndex:C,surface:"CommentReply"})})})]})}),!z&&!Y&&!w&&!P&&(0,u.jsx)(l.xu,{padding:1,children:(0,u.jsx)(el.Z,{commentCount:r,flyout:w?null:s,helpfulCount:v,hideReplyCount:_,isLikedByMe:x,isMarkedHelpfulByMe:O,onHelpfulClick:f,onLikeClick:h,onReplyClick:m,onReplyCountClick:g,reactionCounts:I,small:!0})})]})]})})}var ec=n(868977),ed=n(761254),ef=n(684556),ep=n(265332),eh=n(231333),em=n(586033),ey=n(987775),eg=n(121006),ev=n(339908),eb=n(921506),e_=n(365797),ew=n(29210),ej=n(932226),ex=n(226003),eO=n(903683),eP=n(906417);function eS(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eE(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eC=function(e){var t,n,r=e.aggregatedCommentId,a=e.apdId,s=e.creatorId,c=e.depth,d=e.didItOwnerId,f=e.isManagedView,p=e.objectType,g=e.onUpdate,v=e.parentObjectId,b=e.pinDomainOwnerId,w=e.pinId,j=e.slotIndex,O=e.viewerId,P=e.showHighlightEducator,S=e.numHighlights,I=e.canSetHighlight,E=e.isORBACProfileManager,C=(0,_.v)().logContextEvent,T=(0,e_.Z)(),D=(0,y.ZP)(),A=(0,er.Z)({name:"PinResource",options:{id:w,field_set_key:"detailed"}}).isLoaded,k=(0,ev.F9)().showToast,R=(0,eP.f)().reportComment,M=(0,eb.lV)(),N=(0,eb.nf)(),z=N.aggregatedCommentsHiddenForUser,U=N.deleteCommentMention,Z=N.toggleAggregatedCommentHelpful,F=N.toggleAggregatedCommentHighlight,B=N.toggleAggregatedCommentLike,W=N.updateAggregatedComment,G=(0,ec.Z)(),V=(0,ed.Z)(),K=M[r],Y=(0,ew.G)().nativeEngagementsHiddenForUser,q=eI((0,o.useState)(!1),2),X=q[0],$=q[1],J=eI((0,o.useState)(!1),2),Q=J[0],ee=J[1],et=eI((0,o.useState)(!1),2),en=et[0],eo=et[1],ei=eI((0,o.useState)(!1),2),ea=ei[0],el=ei[1],es=eI((0,o.useState)(!1),2),eE=es[0],eC=es[1],eT=eI((0,o.useState)(!1),2),eD=eT[0],eA=eT[1],ek=(0,i.I0)();(0,o.useEffect)(function(){ek((0,ey.U)("AggregatedCommentResource",{options:{commentId:r}}))},[ek,r]),(0,o.useEffect)(function(){g&&g()},[g]);var eR=(0,eO.S6)()(w),eM="pin";if(eR){var eN,ez=!!(null!=(eN=eR.videos)&&eN.video_list);eR.story_pin_data_id?eM="story":ez&&(eM="video")}if(!K||!K.user)return null;var eL=K.comment_response_pin,eU=K.comment_count,eH=K.created_at,eF=K.helpful_count,eB=K.marked_helpful_by_me,eW=K.reaction_by_me,eV=K.reaction_counts,eK=K.tagged_users,eY=K.tags,eq=K.text,eX=K.user,e$=eX.id,eJ=eX.username,eQ=K.highlighted_by_pin_owner,e0=c===eZ,e1=eV[1],e2=function(){B({aggregatedCommentId:r,isLikedByMe:!!eW})},e3=function(){Z({aggregatedCommentId:r,isMarkedHelpfulByMe:!!eB})},e8=function(){if(S&&S>=3)return void k(function(e){var t=e.hideToast;return(0,u.jsx)(eh.Z,{onHide:t,text:D._('Only 3 comments can be highlighted', 'closeup.pinActionDropDown.commentHighlightMaxNumberToast', 'Toast that tells user that at most 3 comments can be highlighted.')})});F({aggregatedCommentId:r,pinId:w,isHighlighted:!1}),k(function(e){var t=e.hideToast;return(0,u.jsx)(eh.Z,{onHide:t,primaryAction:{accessibilityLabel:D._('Undo comment highlight or comment highlight removal', 'closeup.pinActionDropDown.commentHighlightToast.a11yUndoButton', 'Accessibility label for toast to undo comment highlight or comment highlight removal'),label:D._('Undo', 'closeup.pinActionDropDown.commentHighlightToast.UndoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:function(){F({aggregatedCommentId:r,pinId:w,isHighlighted:!0})}},text:D._('Comment highlighted', 'closeup.pinActionDropDown.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.')})})},e6=function(){F({aggregatedCommentId:r,pinId:w,isHighlighted:!0}),k(function(e){var t=e.hideToast;return(0,u.jsx)(eh.Z,{onHide:t,primaryAction:{accessibilityLabel:D._('Undo comment highlight or comment highlight removal', 'closeup.pinActionDropDown.commentHighlightToast.a11yUndoButton', 'Accessibility label for toast to undo comment highlight or comment highlight removal'),label:D._('Undo', 'closeup.pinActionDropDown.commentHighlightToast.UndoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:function(){F({aggregatedCommentId:r,pinId:w,isHighlighted:!1})}},text:D._('Highlight removed', 'closeup.pinActionDropDown.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.')})})},e5=function(){eo(!en)},e7=(t=regeneratorRuntime.mark(function e(t){var n,o,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contentMarkdown,o=t.tags,a=r,e5(),ee(!0),e0&&(a=v,i=r),e.next=7,ek(G({objectType:x.o.aggregatedComment,objectId:a,tags:o,text:n,replyToCommentId:i}));case 7:ee(!1);case 8:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){eS(i,r,o,a,l,"next",e)}function l(e){eS(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),e4=function(){$(!0)},e9=function(){$(!1)},te=function(e){W({commentId:r,force:!0,tags:e.tags,text:e.contentMarkdown}),$(!1)},tt=function(){U(r),C({event_type:8909,component:13464,view_type:3,view_parameter:140,aux_data:{tag_id:O,tag_type:1}}),k(function(e){var t=e.hideToast;return(0,u.jsx)(eh.Z,{onHide:t,text:D._('@mention removed!', 'closeup.pinActionDropDown.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in another user\'s Pin description')})})},tn=function(){el(!0)},tr=function(){eA(!0)},to=function(){el(!1),eC(!1),eA(!1)},ti=function(){R(r,v,p===x.o.aggregatedComment?"aggregatedcomment":"userdiditdata")},ta=function(){var e=[e$,s,d,b].includes(O),t=O===e$,n=O!==e$,r=O!==e$,o=eK.filter(function(e){return e.id===O}).length>0;return(0,u.jsx)(H.Z,{handleBlockUser:r?tr:null,handleClickReport:n?ti:null,handleDelete:e?tn:null,handleHighlight:I&&!eQ?e8:null,handleOnEdit:t?e4:null,handleRemoveHighlight:I&&eQ?e6:null,handleRemoveMention:o?tt:null,showHighlightEducator:P,small:!0})};return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(em.F,{componentType:p===x.o.pin?13696:13697,contextLogData:{objectId:K.id},impressionAuxFields:{commentId:K.id,pinId:w,pinType:eM,parentId:v,parentType:p,commentType:x.o.aggregatedComment},impressionType:"Comment",isPaused:!A,loggingId:K.id,slotIndex:j,viewType:3,children:function(e){var t=e.impressionTrackerRef;return(0,u.jsx)(l.xu,{ref:t,"data-test-id":"aggregatedCommentContainer-comment",children:(0,u.jsx)(eu,{avatarSize:e0?"sm":"md",commentAuthor:K.user,commentCount:eU,commentId:r,contentText:eq,createdAt:eH,flyout:ta(),handleHelpfulClick:e3,handleLikeClick:e2,handleOnEditCancel:e9,handleOnEdited:te,handleReplyClick:e5,helpfulCount:eF,hideAddObjects:!0,hideReplyCount:!0,inEditMode:X,isHighlighted:eQ,isLikedByMe:!!eW,isMarkedHelpfulByMe:eB,isORBACProfileManager:E,parentObject:{id:v},reactionCounts:eV,responsePinId:null==eL?void 0:eL.id,slotIndex:j,taggedUsers:eK,tags:eY,truncateText:!0,type:x.o.aggregatedComment})})}}),en&&(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48*!e0}},"data-test-id":"aggregatedCommentContainer-replyComposer",children:(0,u.jsx)(l.xu,{display:"flex",marginTop:2,children:(0,u.jsx)(l.xu,{flex:"grow",children:(0,u.jsx)(L,{avatarSize:"sm",hideAddObjects:!0,objectType:x.o.aggregatedComment,onAddItem:e7,onCancelItem:e5,onEnter:function(){},parentObjectId:v,replyToObject:e0?K:null,statusType:"textInflightCreation"})})})}),eU>0&&(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}},"data-test-id":"aggregatedCommentContainer-replyList",children:[(0,u.jsx)(eG,{baseIndex:j+1,commentCount:eU,creatorId:s,depth:c,didItOwnerId:d,isManagedView:f,isORBACProfileManager:E,objectId:r,objectType:x.o.aggregatedComment,onUpdate:g,parentObjectId:v,pinDomainOwnerId:b,pinKey:null!=eR?{type:"deprecated",data:eR}:null,variant:"legacy"}),(0,u.jsx)(l.xH,{accessibilityLabel:D._('Comments loading', ' - ', ' -- '),show:Q})]}),ea&&(0,u.jsx)(m,{accessibilityModalLabel:D._('Deleting a comment', 'closeup.deleteCommentModal.label', 'Label for deleting a comment'),cancelButtonText:D._('Cancel', 'closeup.deleteCommentModal.cancelButton', 'Cancel deleting comment'),confirmButtonText:D._('Delete', 'closeup.deleteCommentModal.confirmButton', 'Delete comment'),detail:D._('This comment will be deleted', 'closeup.deleteCommentModal.detailText', 'confirmation before deleting comment'),heading:D._('Are you sure?', 'closeup.deleteCommentModal.heading', 'Are you sure to remove post or comment'),onConfirm:function(){ek(V({aggregatedCommentId:r,aggregatedPinId:a,feedType:"aggregatedComments",type:e0?ep.Rv.REPLY_TO_AGGREGATED:ep.Rv.TOP,parentId:v,updateParentCommentCount:!0,pinId:w}))},onDismiss:to}),eE&&(0,u.jsx)(h.ZP,{accessibilityModalLabel:D._('Users who have liked this.', 'closeup.comment.showLikeListModal.label', 'Label for a modal showing a list of users who have liked a Tried Item Comment'),heading:(0,eg.Z)(D.ngettext('{{count}} Like', '{{count}} Likes', e1, 'closeup.comment.showLikeListModal.heading', 'Number of likes a comment has'),{count:e1.toString()}),onDismiss:to,size:"md",children:(0,u.jsx)(ef.Xd,{id:r})}),eD&&(0,u.jsx)(ej.default,{firstName:eJ,onBlockUser:function(){ek((0,ex.Ge)({id:e$,blockSource:"comment",blockContext:r,logContextEvent:C})),z(e$),Y(e$),to(),T()},onClearModal:to})]})},eT=n(962119),eD=n(51340),eA=n(857147),ek=n(755090),eR=n(875202);function eM(e){return(eM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=eM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eM(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eM(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eL(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eH(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eH(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eZ=2,eF=void 0!==r?r:r=n(637129),eB=function(e){var t,n,r,i,a=e.baseIndex,s=void 0===a?0:a,c=e.commentCount,d=e.creatorId,p=e.depth,h=void 0===p?0:p,m=e.didItOwnerId,g=e.feedItems,v=e.feedResourceName,b=e.initialLoadCount,w=e.isManagedView,O=e.objectId,P=e.objectType,S=e.onUpdate,I=e.parentObjectId,E=e.pinDomainOwnerId,C=e.pinKey,T=e.privatePin,D=e.shouldFeatureComment,A=void 0!==D&&D,k=e.variant,R=e.isORBACProfileManager,M=(0,_.v)().logContextEvent,N=(0,y.ZP)(),z=eU((0,o.useState)(!1),2),H=z[0],Z=z[1],F=eU((0,o.useState)(!1),2),B=F[0],W=F[1],G=(0,j.Z)(),V=(0,en.K)(),K=(0,f.TH)(),Y=(0,eA.mB)(K.search).comment_is_hidden,q=1===parseInt(void 0===Y?"0":Y,10),X=(0,ev.F9)().showOneToast,$=(0,ec.Z)(),J=(0,eT.Z)(eF,C);(0,ek.Z)(function(){if(V&&q&&A){var e=N._('Sorry, the comment has been hidden', 'AggregatedCommentList.featuredComment.isHidden', 'Error message for featured comment is unavailable');X(function(t){var n=t.hideToast;return(0,u.jsx)(eh.Z,{onHide:n,text:e})})}});var Q=(0,er.Z)({name:v,options:{objectId:O,page_size:b||2,redux_normalize_feed:!0,featured_ids:A&&V&&!q?[V]:null}}),ee=Q.fetchMore,et=Q.isAtEnd,eo=Q.isLoaded,ei=null==J?void 0:J.entityId,ea=J&&J.pinner?J.pinner.entityId:"",el=!!J&&J.storyPinDataId,es=null!=(r=null==J||null==(i=J.aggregatedPinData)?void 0:i.entityId)?r:"";(0,o.useEffect)(function(){eo&&S&&S()},[eo,S]);var eu=function(){Z(!H)},ed=(t=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.contentMarkdown,r=t.tags,eu(),W(!0);try{$({objectType:P,objectId:O,pinId:ei,tags:r,text:n}),P===x.o.pin&&M({event_type:7,object_id_str:ei,aux_data:ez({num_user_mention_tags:(r?JSON.parse(r):[]).length},el?{creator_id:d,story_pin_data_id:el}:{})})}catch(e){}W(!1);case 5:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){eL(i,r,o,a,l,"next",e)}function l(e){eL(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}),ef=!!g&&eo&&c>g.length&&!et,ep=g?c-g.length:0,em=(0,eD.nk)(N.ngettext('{{commentCount}} comment', '{{commentCount}} comments', ep, 'Show comments link with count', 'Show comments link with count'),{commentCount:String(ep)}).join(""),ey=P===x.o.aggregatedComment,eg=P===x.o.pin&&(g&&0===g.length||0===c)&&eo&&!B,eb="default"===k,e_=0===h,ew=e_&&J&&J.highlightedAggregatedComments?J.highlightedAggregatedComments:[],ej=e_&&G.isAuth&&G.id===ea,ex=ej;return(0,u.jsxs)(l.xu,{"data-test-id":"aggregated-comment-list",marginTop:ey&&!eb?2:0,paddingY:ey||eb?0:2,children:[!!ei&&ew.map(function(e,t){return(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(eC,{aggregatedCommentId:e,apdId:es,canSetHighlight:ej,creatorId:d,depth:h+1,didItOwnerId:m,isManagedView:w,isORBACProfileManager:R,objectType:P,onUpdate:S,parentObjectId:P===x.o.pin?ei:O,pinDomainOwnerId:E,pinId:ei,slotIndex:s+t,viewerId:G.isAuth?G.id:""})},e)}),!!ei&&(null==g?void 0:g.filter(function(e){return!ew.includes(e.id)}).map(function(e,t){var n=e.id,r=ex;return ex=!1,(0,u.jsx)(l.xu,{marginBottom:2,children:(0,u.jsx)(eC,{aggregatedCommentId:n,apdId:es,canSetHighlight:ej,creatorId:d,depth:h+1,didItOwnerId:m,isManagedView:w,isORBACProfileManager:R,numHighlights:ew.length,objectType:P,onUpdate:S,parentObjectId:P===x.o.pin?ei:O,pinDomainOwnerId:E,pinId:ei,showHighlightEducator:r,slotIndex:s+ew.length+t,viewerId:G.isAuth?G.id:""})},n)})),(0,u.jsx)(l.xH,{accessibilityLabel:N._('Comments loading', ' - ', ' -- '),show:!eo||B}),ef&&(0,u.jsx)(l.xu,{marginTop:3,children:(0,u.jsx)(U.Z,{handleClick:ee,text:em})}),eg&&(0,u.jsx)(l.xu,{paddingY:2*!eb,children:(0,u.jsx)(l.xv,{size:eb?"100":"200",children:N._('Share feedback, ask a question or give a high five', ' - ', ' -- ')})}),!R&&P!==x.o.aggregatedComment&&!w&&(0,u.jsx)(l.xu,{display:"flex",marginTop:6,children:(0,u.jsx)(l.xu,{"data-test-id":"add-comment",flex:"grow",children:(0,u.jsx)(L,{hideAddObjects:!0,objectType:P,onAddItem:ed,onCancelItem:eu,onEnter:eu,parentObjectId:I||"",privatePin:T,replyToObject:null,statusType:H?"textInflightCreation":"textStaticDisplay"})})})]})},eW=function(e){return(0,i.v9)(function(t){return t.feeds["".concat(eR.Z.AGGREGATED_COMMENTS,":").concat(e)]})},eG=function(e){var t;return(0,u.jsx)(eB,ez(ez({},e),{},{feedItems:null!=(t=eW(e.objectId))?t:[],feedResourceName:"AggregatedCommentReplyFeedResource"}))},eV=function(e){var t;return(0,u.jsx)(eB,ez(ez({},e),{},{feedItems:null!=(t=eW(e.objectId))?t:[],feedResourceName:"DidItCommentsResource"}))};function eK(e){var t=e.item.images,n=e.item.pin&&e.item.pin.title||"",r=t.length>0,o=t[0]?t[0]["750x"]:null;if(!r||!o)return null;var i=o.url;return(0,u.jsx)(l.zd,{rounding:2,wash:!0,children:(0,u.jsx)(l.Ee,{alt:n,color:"#efefef",naturalHeight:o.height,naturalWidth:o.width,src:i},i)})}var eY=n(711111),eq=n(71408);function eX(e){return(eX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=eX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eX(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eX(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eQ(e){var t=(0,y.ZP)();return(0,u.jsx)(eq.Z,eJ(eJ({thriftComponentType:193},e),{},{children:function(e){var n=e.onTriedItButtonClick;return(0,u.jsx)(l.iP,{onTap:function(e){return n(e.event)},children:(0,u.jsx)(l.xu,{paddingX:2,paddingY:1,children:(0,u.jsx)(l.xv,{weight:"bold",children:t._('Save', 'comment save button', 'comment save button')})})})}}))}var e0=n(87134),e1=n(509228),e2=n(135376),e3=n(397657),e8=n(617100),e6=n(640018),e5=n(238872);function e7(e){return(e7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e4(Object(n),!0).forEach(function(t){to(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tn=function(){return!!e})()}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function to(e,t,n){return(t=ti(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e){var t=function(e,t){if("object"!=e7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e7(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e7(t)?t:t+""}var ta=function(e){var t=e.isLikedByMe,n=e.onClick,r=(0,y.ZP)(),o=(0,e2.Z)();return(0,u.jsx)(l.hU,{accessibilityLabel:r._('Like', ' - ', ' -- '),icon:"heart",iconColor:t?"red":"gray",onClick:function(){o?o():n()},size:"md"})},tl=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&te(o,e);var t,n,r=(t=tn(),function(){var e,n=tr(o);return e=t?Reflect.construct(n,arguments,tr(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==e7(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tt(e)}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var e,t,n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return to(tt(t=r.call.apply(r,[this].concat(i))),"state",{isLikedByMe:null!=(e=t.props.item.liked_by_me)&&e,likeCount:t.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showShareFlyout:!1,isDeleteHover:!1,isReportHover:!1}),to(tt(t),"handleClickthrough",function(){var e=t.props,n=e.handlePinClickLogging,r=e.logContextEvent,o=e.item.id;n&&n(),r({event_type:101,component:172,element:1263,object_id_str:o})}),to(tt(t),"handleClickHashTag",function(){var e=t.props;(0,e.logContextEvent)({event_type:101,component:172,element:10194,object_id_str:e.item.id})}),to(tt(t),"handleToggleLikesListModal",function(){return t.setState(function(e){return{showLikesListModal:!e.showLikesListModal}})}),to(tt(t),"handleClickLike",function(){var e=t.props,n=e.item.id,r=e.viewType,o=e.logContextEvent,i=t.state,a=i.isLikedByMe,l=i.likeCount;o({event_type:101,component:172,element:1353,object_id_str:n,view_type:r}),t.setState({isLikedByMe:!a,likeCount:a?l-1:l+1}),(0,e3.Z)({url:"/v3/did_it/".concat(n,"/like/"),method:a?"DELETE":"POST"})}),to(tt(t),"handleToggleFlyout",function(){return t.setState(function(e){return{showFlyout:!e.showFlyout,showShareFlyout:!1}})}),to(tt(t),"handleShowShareFlyout",function(){return t.setState({showShareFlyout:!0})}),to(tt(t),"handleDismissFlyout",function(){t.state.showEditModal||t.setState({showFlyout:!1,showShareFlyout:!1})}),to(tt(t),"handleShowReportModal",function(){var e,n=t.props,r=n.item,o=r.id,i=r.pin.aggregated_pin_data,a=n.removeReportedActivity;(0,n.reportComment)(o,null!=(e=null==i?void 0:i.id)?e:"","userdiditdata"),a&&a(o)}),to(tt(t),"handleShowDeleteModal",function(){return t.setState({showDeleteModal:!0})}),to(tt(t),"handleDeleteConfirmation",function(e){var n=t.props,r=n.item,o=r.id,i=r.pin,a=i.aggregated_pin_data,l=void 0===a?{}:a,s=i.id,u=r.user,c=n.deleteUserDidItData,d=n.logContextEvent;if(t.setState({showDeleteModal:!1}),e&&u){var f=u.username;d({event_type:101,view_type:101,component:192,element:1264,object_id_str:s}),c({aggregatedPinDataId:null==l?void 0:l.id,id:o,isOwnedByMe:t.isOwnedByCurrentUser,pinId:s,username:f})}}),to(tt(t),"handleToggleEditModal",function(e){return t.setState({showEditModal:e,showFlyout:e})}),to(tt(t),"handleClickHelpful",function(){var e=t.props,n=e.didItDataId,r=e.item.marked_helpful_by_me;(0,e.toggleHelpful)({didItDataId:n,isMarkedHelpfulByMe:!!r})}),to(tt(t),"handleDeleteMouseEnter",function(){return t.setState({isDeleteHover:!0})}),to(tt(t),"handleDeleteMouseLeave",function(){return t.setState({isDeleteHover:!1})}),to(tt(t),"handleReportMouseEnter",function(){return t.setState({isReportHover:!0})}),to(tt(t),"handleReportMouseLeave",function(){return t.setState({isReportHover:!1})}),to(tt(t),"renderFlyout",function(){var e,n,r,o=t.props,i=o.creatorId,a=o.item,s=a.details,c=a.id,d=a.images,f=a.pin,p=a.privacy,h=a.user,m=o.viewer,y=f||{},g=y.aggregated_pin_data,v=void 0===g?{}:g,b=y.id,_=y.images,w=y.link_domain,j=y.rich_metadata,x=y.title,O=t.state,P=O.showFlyout,S=O.showShareFlyout,I=((void 0===w?{}:w)||{}).official_user||{},E=((void 0===j?{}:j)||{}).title,C={description:s,id:c,imageUrl:d.length>0?null==d||null==(e=d[0])||null==(n=e["550x"])?void 0:n.url:null==(r=(void 0===_?{}:_)["136x136"])?void 0:r.url,name:E||t.props.i18n._('this idea', ' - ', ' -- '),type:e5.d.DID_IT,url:"/pin/".concat(b,"/activity/tried/").concat(c)},T=t.isOwnedByCurrentUser||m.isAuth&&m.id===I.id||m.isAuth&&m.id===i;return(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.xu,{ref:function(e){t.flyoutAnchor=e},children:(0,u.jsx)(l.hU,{accessibilityExpanded:P,accessibilityHaspopup:!0,accessibilityLabel:t.props.i18n._('more options', 'accessible label for button to see more options on report content', 'accessible label for button to see more options on report content'),icon:"ellipsis",iconColor:"gray",onClick:t.handleToggleFlyout,size:"sm"})}),P&&(0,u.jsx)(l.mh,{children:(0,u.jsx)(l.xu,{alignSelf:"end",children:(0,u.jsx)(l.J2,{anchor:t.flyoutAnchor,idealDirection:"down",onDismiss:t.handleDismissFlyout,size:S?"lg":"xs",children:S?(0,u.jsx)(e6.Z,{component:56,onHide:t.handleToggleFlyout,sendType:"did_it",sharedObject:C,viewType:3}):(0,u.jsx)(l.xu,{alignSelf:"start",color:"default",column:12,display:"flex",position:"relative",rounding:2,children:(0,u.jsxs)(l.sg,{span:12,children:["public"===p&&(0,u.jsx)(l.xu,{children:(0,u.jsx)(l.iP,{onTap:t.handleShowShareFlyout,children:(0,u.jsx)(l.xu,{display:"flex",paddingX:2,paddingY:1,children:(0,u.jsx)(l.xv,{weight:"bold",children:t.props.i18n._('Share', ' - ', ' -- ')})})})}),(0,u.jsx)(l.xu,{display:"flex",paddingX:2,paddingY:1,children:(0,u.jsx)(l.rU,{href:t.pinURL,onClick:t.handleClickthrough,children:(0,u.jsx)(l.xv,{weight:"bold",children:t.props.i18n._('Go to Pin', ' - ', ' -- ')})},t.pinURL)}),h&&(t.isOwnedByCurrentUser||T)?(0,u.jsxs)(l.xu,{children:[t.isOwnedByCurrentUser&&(0,u.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:(0,u.jsx)(eQ,{aggregatedPinDataId:null==v?void 0:v.id,isDoneByMe:t.isOwnedByCurrentUser,loggedInUser:h,onToggleModal:t.handleToggleEditModal,pinId:b,pinTitle:x,userDidItDataId:c})}),T&&(0,u.jsx)(l.iP,{onTap:t.handleShowDeleteModal,children:(0,u.jsx)(l.xu,{"data-test-id":"flyout-delete-button",display:"flex",paddingX:2,paddingY:1,children:(0,u.jsx)(l.xv,{weight:"bold",children:t.props.i18n._('Delete', ' - ', ' -- ')})})})]}):(0,u.jsx)(l.iP,{onTap:t.handleShowReportModal,children:(0,u.jsx)(l.xu,{display:"flex",paddingX:2,paddingY:1,children:(0,u.jsx)(l.xv,{weight:"bold",children:t.props.i18n._('Report this content', ' - ', ' -- ')})})})]})})})})})]})}),to(tt(t),"renderStatsBar",function(){var e=t.props,n=e.item,r=n.comment_count,o=n.done_at,i=n.marked_helpful_by_me,a=n.helpful_count,s=e.isManagedView,c=e.viewer,d=t.props.item.pin&&t.props.item.pin.link_domain||{},f=t.state,p=f.isLikedByMe,h=f.likeCount,m=f.isDeleteHover,y=f.isReportHover,g=(0,eg.Z)(t.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', h, ' - ', ' -- '),{likeCount:h}),v=(0,eg.Z)(t.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', r, ' - ', ' -- '),{commentCount:r}),b=d.official_user||{},_=t.isOwnedByCurrentUser||c.isAuth&&c.id===b.id,w=t.props.getHumanizedTimeSince(o,!0);return(0,u.jsxs)(l.xu,{alignItems:"center",column:12,display:"flex",children:[(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,u.jsx)(l.xv,{size:"200",children:s?w:(0,u.jsx)(e1.Z,{dateFormatType:e1.k.LONG,useUTC:!1,value:new Date(o)})}),r>0&&(0,u.jsx)(l.xu,{marginStart:6,children:(0,u.jsx)(l.xv,{size:"200",weight:"bold",children:v})}),h>0&&(0,u.jsx)(l.xu,{"data-test-id":"did_it_show_likes_tap_area",marginStart:6,children:(0,u.jsx)(l.iP,{onTap:t.handleToggleLikesListModal,children:(0,u.jsx)(l.xv,{size:"200",weight:"bold",children:g})})})]}),(0,u.jsxs)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"end",children:[(0,u.jsx)(l.xu,{display:"flex",justifyContent:h>0?"between":"end",marginBottom:1,marginTop:1,children:c.isAuth&&(0,u.jsx)(ta,{isLikedByMe:p,onClick:t.handleClickLike})}),(0,u.jsx)(l.xu,{display:"flex",paddingY:3,children:(0,u.jsx)(el.N,{helpfulCount:a,isMarkedHelpfulByMe:i,onHelpfulClick:t.handleClickHelpful})})]}),s&&(0,u.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,u.jsx)(l.iP,{onMouseEnter:t.handleReportMouseEnter,onMouseLeave:t.handleReportMouseLeave,onTap:t.handleShowReportModal,rounding:"pill",children:(0,u.jsx)(l.xu,{padding:2,children:(0,u.jsx)(l.xv,{color:y?"default":"subtle",size:"200",weight:"bold",children:t.props.i18n._('Report', ' - ', ' -- ')})})})}),s&&_&&(0,u.jsx)(l.kC,{alignItems:"stretch",flex:"none",children:(0,u.jsx)(l.iP,{onMouseEnter:t.handleDeleteMouseEnter,onMouseLeave:t.handleDeleteMouseLeave,onTap:t.handleShowDeleteModal,rounding:"pill",children:(0,u.jsx)(l.xu,{padding:2,children:(0,u.jsx)(l.xv,{color:m?"default":"subtle",size:"200",weight:"bold",children:t.props.i18n._('Delete', ' - ', ' -- ')})})})})]})}),to(tt(t),"renderPinInfoBar",function(){var e,n,r=t.props,o=r.item,i=o.images,a=o.pin,s=o.user,c=r.isManagedView,d=(s||{}).full_name,f=a.dominant_color,p=a.images,h=void 0===p?{}:p,m=a.rich_metadata,y=a.title,g=((void 0===m?{}:m)||{}).title;return n=t.isOwnedByCurrentUser&&g?(0,eD.nk)(t.props.i18n._('You tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{pinTitleForTriedByText:g}):g?(0,eD.nk)(t.props.i18n._('{{fullName}} tried {{pinTitleForTriedByText}}', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'),{fullName:d,pinTitleForTriedByText:g}):t.isOwnedByCurrentUser?t.props.i18n._('See the Pin you tried', 'Navigating to a Pin from a try', 'Navigating to a Pin from a try'):t.props.i18n._('See the Pin that inspired it', 'call to action - navigating to a Pin from a try', 'call to action - navigating to a Pin from a try'),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:i.length?{backgroundImage:"linear-gradient(to bottom, rgba(118, 118, 118, 0), rgba(0, 0, 0, 0.2) 33%, rgba(0, 0, 0, 0.5) 66%, rgba(0, 0, 0, 0.7))"}:{}},rounding:2*!!i.length,children:(0,u.jsx)(l.Tg,{href:t.pinURL,onTap:t.handleClickthrough,children:(0,u.jsxs)(l.xu,{alignItems:"center",display:"flex",paddingX:3*!!i.length,paddingY:3,children:[(0,u.jsxs)(l.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",marginEnd:2,children:[(0,u.jsx)(l.xu,{marginEnd:3,width:60,children:(0,u.jsx)(l.zd,{rounding:2,wash:!0,children:(null==(e=h["136x136"])?void 0:e.url)&&(0,u.jsx)(l.Ee,{alt:null!=y?y:"",color:null!=f?f:"transparent",naturalHeight:60,naturalWidth:60,src:h["136x136"].url})})}),(0,u.jsxs)(l.xv,{color:i.length?"inverse":"default",size:c?"100":"300",weight:"bold",children:[" ",n," "]})]}),(0,u.jsx)(l.JO,{accessibilityLabel:t.props.i18n._('See pin', ' - ', ' -- '),color:i.length?"inverse":"default",icon:"arrow-forward",size:32})]})},t.pinURL)})}),t}return n=[{key:"isOwnedByCurrentUser",get:function(){var e=this.props,t=e.viewer,n=e.item;return!!(t.isAuth&&n.user&&t.id===n.user.id)}},{key:"pinURL",get:function(){return"/pin/".concat(this.props.item.pin.id,"/")}},{key:"render",value:function(){var e,t,n,r=this.props,o=r.creatorId,i=r.isManagedView,a=r.item,s=r.viewType,c=this.state,f=c.likeCount,p=c.showDeleteModal,m=c.showLikesListModal,y=a.comment_count,g=a.details,v=a.id,b=a.images,_=a.pin,w=a.user,j=a.videos,O=w||{},P=O.full_name,S=O.id,I=O.image_medium_url,E=O.username,C="/".concat(E,"/");(0,eg.Z)(this.props.i18n.ngettext('{{likeCount}} like', '{{likeCount}} likes', f, ' - ', ' -- '),{likeCount:f}),(0,eg.Z)(this.props.i18n.ngettext('{{commentCount}} comment', '{{commentCount}} comments', y, ' - ', ' -- '),{commentCount:y});var T=!!(null!=j&&null!=(e=j[0])&&null!=(t=e.video_list)&&t.V_HLSV4),D=!!(null!=(n=b[0])&&n["750x"]),A=D||T,k=82!==s,R=D&&k;return(0,u.jsxs)(l.xu,{alignItems:"stretch",direction:"column",display:"flex",justifyContent:"between",paddingY:7,children:[(0,u.jsxs)(l.xu,{alignItems:"center",column:12,display:"flex",children:[(0,u.jsx)(l.kC,{alignItems:"center",children:(0,u.jsx)(l.xu,{marginEnd:3,width:i?36:42,children:(0,u.jsx)(l.Tg,{href:C,onTap:this.handleClickthrough,rounding:"circle",children:(0,u.jsx)(l.zd,{rounding:"circle",wash:!0,children:I&&(0,u.jsx)(l.Ee,{alt:null!=E?E:"",color:"#efefef",naturalHeight:42,naturalWidth:42,src:I},I)})},C)})}),(0,u.jsx)(l.xu,{column:1,display:"flex",mdDisplay:"none"}),(0,u.jsxs)(l.xu,{alignItems:"center",column:12,display:"flex",justifyContent:"between",children:[(0,u.jsx)(l.xv,{size:i?"200":"300",children:(0,u.jsx)(l.rU,{href:C,onClick:this.handleClickthrough,children:P||""},C)}),!i&&this.renderFlyout()]})]}),(0,u.jsx)(l.xu,{marginBottom:+!i,marginTop:2,children:A&&(0,u.jsxs)(l.xu,{column:12,position:"relative",children:[T?(0,u.jsx)(eY.Z,{item:a,viewType:s}):(0,u.jsx)(eK,{item:a}),R&&(0,u.jsx)(l.xu,{bottom:!0,column:12,position:"absolute",children:this.renderPinInfoBar()})]})}),(0,u.jsxs)(l.xu,{marginStart:1,children:[D&&this.renderStatsBar(),g&&(0,u.jsx)(l.xu,{column:10,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}},marginBottom:2,children:(0,u.jsx)(l.xv,{size:i?"100":"300",children:(0,u.jsx)(d,{html:g,onClick:this.handleClickHashTag})})}),!D&&(0,u.jsxs)(l.xu,{children:[k&&this.renderPinInfoBar(),this.renderStatsBar()]}),(0,u.jsx)(l.xu,{column:12,children:(0,u.jsx)(eV,{commentCount:y,creatorId:o,didItOwnerId:S,objectId:v,objectType:x.o.didIt,pinKey:{type:"deprecated",data:_},variant:"legacy"})})]}),p&&(0,u.jsx)(e0.Z,{didItData:{id:v},onDeleteConfirmation:this.handleDeleteConfirmation}),m&&(0,u.jsx)(h.ZP,{accessibilityModalLabel:this.props.i18n._('Users who have liked this.', 'Label for a modal showing a list of users who have liked a Tried Item', 'Label for a modal showing a list of users who have liked a Tried Item'),allowScroll:!0,heading:(0,eg.Z)(this.props.i18n.ngettext('{{count}} Like', '{{count}} Likes', f, ' - ', ' -- '),{count:f.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md",children:(0,u.jsx)(ef.Jo,{id:v})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ti(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function ts(e){var t=(0,_.v)().logContextEvent,n=(0,y.ZP)(),r=(0,ee.Z)(),o=(0,i.I0)(),l=(0,eP.f)().reportComment,s=(0,j.Z)(),c={deleteUserDidItData:(0,a.bindActionCreators)(e8.lg,o),toggleHelpful:(0,a.bindActionCreators)(e8.YH,o),updateUserDidItDataCommentCount:(0,a.bindActionCreators)(e8.L8,o)},d=(0,i.v9)(function(t){return t.didItData[e.didItDataId]}),f=d&&"comment_count"in d?d:void 0;return f&&(0,u.jsx)(tl,e9(e9(e9({},e),c),{},{getHumanizedTimeSince:r,i18n:n,item:f,logContextEvent:t,reportComment:l,viewer:s}))}},684556:function(e,t,n){"use strict";n.d(t,{Jo:function(){return O},Xd:function(){return x}});var r=n(258712),o=n(132227),i=n(233846),a=n(113474),l=n(327354),s=n(169650),u=n(882368),c=n(432710),d=n(945011),f=n(19035);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var j=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&y(i,e);var t,n,r=(t=v(),function(){var e,n=b(i);return e=t?Reflect.construct(n,arguments,b(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function i(){var e;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(g(e=r.call.apply(r,[this].concat(n))),"setRef",function(t){t&&!e.list&&(e.list=t.parentElement,e.list&&e.list.addEventListener("scroll",e.handleScroll))}),_(g(e),"fetchMore",function(){var t=e.props.feedResource;t.isFetching||(t.isAtEnd?window.removeEventListener("scroll",e.handleScroll):t.fetchMore())}),_(g(e),"handleScroll",(0,s.Z)(function(){var t=e.props.feedResource;if(!t.isFetching&&!t.isAtEnd){var n=(0,l.Uy)(e.list);(0,l.aZ)(e.list)-(0,l.MX)(e.list)-50<n&&e.fetchMore()}},10)),e}return n=[{key:"componentWillUnmount",value:function(){var e;null==(e=this.list)||e.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.feedResource,n=t.data,r=t.isLoaded,i=e.users,a=e.viewer;if(!r)return(0,f.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Loading spinner for like list', 'Accessibility label for loading spinner for like list', 'Accessibility label for loading spinner for like list'),show:!0});var l=n&&n.map(function(e){return e.id?m(m({},e),i[e.id]):e});return(0,f.jsx)(o.xu,{ref:this.setRef,"data-test-id":"liked-by-list",maxHeight:400,children:l&&l.map(function(e){return(0,f.jsx)(o.xu,{paddingX:4,paddingY:3,children:(0,f.jsx)(c.Z,{isSelf:!!(a.isAuth&&a.id&&e.id===a.id),user:e})},e.id)})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function x(e){var t=(0,i.ZP)(),n=(0,u.Z)(),r=(0,d.kW)(),o=(0,a.Z)({name:"AggregatedCommentLikedByResource",options:{aggregatedCommentId:e.id},noCache:!0});return(0,f.jsx)(j,m(m({},e),{},{feedResource:o,i18n:t,users:r,viewer:n}))}function O(e){var t=(0,i.ZP)(),n=(0,u.Z)(),r=(0,d.kW)(),o=(0,a.Z)({name:"DidItLikedByResource",options:{didItDataId:e.id},noCache:!0});return(0,f.jsx)(j,m(m({},e),{},{feedResource:o,i18n:t,users:r,viewer:n}))}},711111:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(258712),o=n(132227),i=n(576183),a=n(233846),l=n(174646),s=n(821332),u=n(19035);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var b=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&p(a,e);var t,n,r=(t=m(),function(){var e,n=y(a);return e=t?Reflect.construct(n,arguments,y(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return h(e)}(this,e)});function a(){var e;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return g(h(e=r.call.apply(r,[this].concat(n))),"state",{isFullscreen:!1,isPlaying:!1,showControls:!0,volumeLevel:0}),g(h(e),"handleTouch",function(t){t.event.stopPropagation(),e.setState(function(e){return{isPlaying:!e.isPlaying}})}),g(h(e),"handleShowControls",function(){return e.setState({showControls:!0})}),g(h(e),"handleHideControls",function(){return e.setState({showControls:!1})}),g(h(e),"handleEnded",function(t){t.event.stopPropagation(),e.setState({isPlaying:!1})}),g(h(e),"handlePause",function(t){t.event.stopPropagation(),e.setState({isPlaying:!1})}),g(h(e),"handlePlay",function(t){t.event.stopPropagation(),e.setState({isPlaying:!0})}),g(h(e),"handleToggleFullscreen",function(t){var n=t.event,r=t.fullscreen;n.stopPropagation(),e.setState({isFullscreen:r})}),g(h(e),"handleVolumeChange",function(t){var n=t.event,r=t.volume;n.stopPropagation(),e.setState({volumeLevel:r})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.item,n=e.requestContext,r=e.viewType,a=t.videos,l=null==a?void 0:a[0];if(!l)return null;var c=this.state,d=c.showControls,f=c.isFullscreen,p=c.isPlaying,h=c.volumeLevel,m=l.video_list.V_HLSV4;if(!m)return null;var y=m||{},g=y.height,v=y.width,b=y.thumbnail,_=y.url;return(0,u.jsx)(o.iP,{dataTestId:"tried-it-video",onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls,onTap:this.handleTouch,rounding:2,children:(0,u.jsx)(o.zd,{rounding:2,wash:!0,willChangeTransform:!((0,i.G6)(n.userAgent.browserName)&&f),children:(0,u.jsx)(s.ZP,{aspectRatio:Math.max((null!=v?v:1)/(null!=g?g:1),1),backgroundColor:"transparent",captions:"",contextLogData:{view:r,viewParameter:3071,component:172,objectId:t.id,video_id:l.id},controls:d,isAutoPlay:!1,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onPlay:function(){},onPlayError:function(){},onVolumeChange:this.handleVolumeChange,pinKey:null,playbackRate:1,playing:p,poster:b,preload:"auto",src:[{type:"video/m3u8",src:null!=_?_:""}],volume:h})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function _(e){var t=(0,a.ZP)(),n=(0,l.B)();return(0,u.jsx)(b,f(f({},e),{},{i18n:t,requestContext:n}))}},52358:function(e,t,n){"use strict";var r=n(258712),o=n(132227),i=n(75209),a=n(19035);t.Z=function(e){var t=e.animationData,n=(0,i.Z)({animationData:t,loop:!0,autoplay:!0}).animationContainerRef;return(0,r.useMemo)(function(){return(0,a.jsx)(o.xu,{ref:n,"data-testid":"lottie-header-icon",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"})},[n])||null}},985459:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(578373);function o(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})}}function a(e,t){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark(function e(t,n){var o,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=i(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:n._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}},e.abrupt("return",r.Z.create("BoardResource",t).callCreate());case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=3,o();case 3:return a=e.sent.resource_response.data,l=function(){var e=i(regeneratorRuntime.mark(function e(n){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.Z.create("RepinResource",{board_id:n,description:t.description||"",is_removable:null!=(o=t.promotedIsRemovable)?o:void 0,link:t.link,pin_id:t.entityId||"",title:t.title||""}).callCreate({showError:!1}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.next=8,l(a.id);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}},294905:function(e,t,n){"use strict";n.d(t,{$H:function(){return o},AG:function(){return a},M5:function(){return l},W5:function(){return s},_Y:function(){return i},mH:function(){return u}});var r=n(132227),o=16,i=137,a=103,l="rgba(17,17,17,0.4)",s=new r.Ry(1),u=function(){return 5}},138589:function(e,t,n){"use strict";n.d(t,{CB:function(){return y},y9:function(){return m}});var r=n(258712),o=n(218291),i=n(132227),a=n(397657),l=n(852015),s=n(233846),u=n(19035);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n=e.onConfirm,o=(0,s.ZP)(),d=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1],h=function(){p(!0),(0,a.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,u.jsx)(l.ZP,{accessibilityModalLabel:o._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,u.jsxs)(i.kC,{gap:{row:2,column:0},justifyContent:"end",children:[f?(0,u.jsx)(i.zx,{color:"gray",disabled:f,fullWidth:!0,onClick:h,size:"lg",text:o._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,u.jsx)(i.zx,{color:"gray",disabled:f,fullWidth:!0,onClick:h,size:"lg",text:o._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,u.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:o._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:o._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:n,role:"alertdialog",children:(0,u.jsx)(i.xu,{padding:8,children:(0,u.jsx)(i.xv,{align:"center",size:"300",children:o._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.Z)("EmailVerificationReminderModal"),h=p.Provider,m=p.useHook;function y(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1],l=(0,r.useMemo)(function(){return{showEmailVerificationReminderModal:function(){a(!0)}}},[]);return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(h,{value:l,children:n}),i&&(0,u.jsx)(d,{onConfirm:function(){a(!1)}})]})}},468318:function(e,t,n){"use strict";n.d(t,{Hv:function(){return m},aX:function(){return v},nK:function(){return b}});var r=n(258712),o=n(284987),i=n(218291),a=n(19035);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),h=p.Provider,m=p.useHook,y=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function g(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null==(n=e.current)?void 0:n.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&y(e.forward[0].location)===y(r.location))return f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(s(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(s(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:r});default:return e}}function v(){var e=m(),t=e.current,n=e.previous;return(0,r.useMemo)(function(){return t?n.concat(t):n},[t,n])}function b(e){var t,n=e.children,i=(0,o.k6)(),l=(0,o.TH)(),s=(0,o.$B)(),c={forward:[],current:{action:i.action,location:l,match:s},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(g,c))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||u(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1],m=(0,r.useRef)(l);return m.current!==l&&(p({type:i.action,location:l,match:s}),m.current=l),(0,a.jsx)(h,{value:f,children:n})}},259117:function(e,t,n){"use strict";n.d(t,{Q2:function(){return l},Wy:function(){return c},Y0:function(){return a},_Z:function(){return s},fK:function(){return u}});var r=n(1794),o=n(397657),i=n(660691),a=function(e,t){return t.some(function(t){return e&1<<t})},l=function(e){var t=e.lastUpdatedAt,n=(0,i.Z)(),o=new Date(t);return new Date().getTime()-o.getTime()>r.F4&&o.setHours(0,0,0,0)," ".concat(n(o,!0))};function s(e,t){return(0,o.Z)({url:"/v3/news_hub/".concat(e,"/fatigue/").concat(t,"/"),method:"POST"})}function u(e,t){return(0,o.Z)({url:"/v3/news_hub/".concat(e,"/fatigue/").concat(t,"/"),method:"DELETE"})}function c(e,t){return(0,o.Z)({url:"/v3/news_hub/hide/batch/",method:"PUT",data:{news_ids:[e],should_hide:t}})}},26234:function(e,t,n){"use strict";function r(e){return[0,24,21,26].includes(e)}function o(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return o},y:function(){return r}})},851990:function(e,t,n){"use strict";n.d(t,{Z:function(){return H}});var r,o,i=n(258712),a=n(547504),l=function(e,t){for(var n=e;n;){if(t(n))return!0;n=n.parentElement}return!1},s=function(e){return(e.checkVisibility?!e.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0}):l(e,function(e){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"===t.visibility}))||l(e,function(e){return .5>=parseFloat(window.getComputedStyle(e).opacity)})},u=n(595627),c=[u.WM,u.WD].map(function(e){return'div[data-grid-item] [data-test-id="'.concat(e,'"] img')}).join(", "),d=n(284987),f=n(132227),p=n(148742),h=n(233846),m=n(51340),y=n(882368),g=n(19035);function v(e){var t=e.onDismiss,n=e.trackHardRefresh,r=(0,h.ZP)(),o=(0,d.k6)(),i=(0,y.Z)();return(0,g.jsx)(f.mh,{zIndex:p.b7,children:(0,g.jsx)(f.WB,{accessibilityModalLabel:r._('Ad blocker modal', 'adBlockModal.modal.accessibilityModalLabel', 'Announces the ad blocker modal to the user'),heading:r._('Ad Blocker detected', 'adBlockModal.modal.header.heading', 'Main modal heading announcing ad blocker detection on the browser'),onDismiss:t,primaryAction:{accessibilityLabel:r._('Dismiss ad blocker modal', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:r._('Got it', 'adBlockModal.primaryAction.button.dismiss', 'Button for dismissing the message and closing the modal window'),onClick:t},secondaryAction:{accessibilityLabel:r._('Refresh after deactivating ad blocker', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:r._('Refresh', 'adBlockModal.secondaryAction.button.refresh', 'Button for refreshing page'),onClick:function(){n(),o.go(0)}},type:"error",children:(0,g.jsxs)(f.kC,{direction:"column",gap:6,children:[(0,g.jsx)(f.xv,{inline:!0,children:(0,m.XB)({text:r._('Please <strong id="1">disable your ad blocker</strong> to access more features and get the full experience of Pinterest.', 'adBlockModal.modal.text.guidelines', 'Instruction to disable the ad blocker.'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,g.jsx)(f.xv,{inline:!0,weight:"bold",children:t},1)}}})}),(0,g.jsx)(f.xv,{children:r._('After you disable the ad blocker, please refresh the page.', 'adBlockModal.modal.text.afterDisable', 'Instruction to refresh the page after ad blocker is disabled')}),i.isAuth&&i.isEmployee&&(0,g.jsx)(f.xv,{italic:!0,children:(0,m.XB)({text:r._('Pinterest Employees: If you do not have an ad blocker enabled, please <a id="reportBugLink">report a bug</a> because you should not see this modal.', 'adBlockModal.modal.text.employeeReportIssue', 'Instruction to report incorrect detections'),jsxReplacements:{reportBugLink:function(e){var t=e.innerHtmlStrings;return(0,g.jsx)(f.rU,{display:"inline",externalLinkIcon:{size:"100"},href:"http://pinch/report-adblockmodal-bug",target:"blank",children:t})}}})})]})})})}var b=n(174646),_=n(943369),w=n(755090),j=n(992114);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){S(i,r,o,a,l,"next",e)}function l(e){S(i,r,o,a,l,"throw",e)}a(void 0)})}}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var T=function(){return n.e(64230).then(n.bind(n,317140))},D=function(e){var t=(0,b.B)(),n=t.country,r=t.userAgent.browserName;return function(t,o){(0,j.nP)("adblockmodal.".concat(t),{sampleRate:1,flushImmediate:"refreshed"===t,tags:C({country:n,browserName:r,surface:e},o)})}},A=function(){return new Date().toISOString()},k=function(e){var t=new Date;return t.setDate(t.getDate()-30),new Date(e)>t},R=(r=I(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:r=e.sent.adBlockAnalyticsRecordValidator,_.ZP.setItem(a.Oy,C(C({},null!=(n=_.ZP.getItem(a.Oy))?n:r.cast({})),t));case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),M=(o=I(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:r=e.sent.adBlockModalDismissalRecordValidator,_.ZP.setItem(a.EJ,C(C({},null!=(n=_.ZP.getItem(a.EJ))?n:r.cast({})),t));case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),N=!1;function z(e){var t=e.detected,n=e.surface,r=e.isDismissedRecently,o=D(n);return(0,w.Z)(function(){var e=_.ZP.getItem(a.Oy);if(N||(o("broad_detection",{detected:t,hasSeenModal:!!(null!=e&&e.displayedAt),isDismissedRecently:r}),N=!0),!r)if(t){if(!(null!=e&&e.adblockDetectedAt)){var n={adblockDetectedAt:A()};o("detected"),null!=e&&e.displayedAt||(n=C(C({},n),{},{displayedAt:A()}),o("displayed")),R(n)}}else!(null!=e&&e.noAdBlockDetectedAt)&&(R({noAdBlockDetectedAt:A()}),null!=e&&e.adblockDetectedAt?(o("disabled"),null!=e&&e.displayedAt&&o("disabled_after_displayed")):o("not_detected"))}),null}var L=function(e){var t=D(e),n=O((0,i.useState)("UNKNOWN"),2),r=n[0],o=n[1];return(0,i.useEffect)(function(){var e=_.ZP.getItem(a.EJ),t=null==e?void 0:e.dismissedAt;o(!!t&&k(t))},[]),{isDismissedRecently:r,onDismiss:function(){o(!0),M({dismissedAt:A()}),t("dismissed")}}},U=function(){var e=O((0,i.useState)("UNKNOWN"),2),t=e[0],n=e[1];return(0,w.Z)(function(){setTimeout(function(){n(Array.from(document.querySelectorAll(c)).some(function(e){return s(e)&&null===e.closest('[data-test-id="'.concat(u.eC,'"]'))}))},0)}),t};function H(e){var t=e.surface,n=L(t),r=n.isDismissedRecently,o=n.onDismiss,a=D(t),l=U();return"UNKNOWN"===r||"UNKNOWN"===l?null:(0,g.jsxs)(i.Fragment,{children:[l&&!r&&(0,g.jsx)(v,{onDismiss:o,trackHardRefresh:function(){a("refreshed")}}),(0,g.jsx)(z,{detected:l,isDismissedRecently:r,surface:t})]})}},754322:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(258712);function o(e){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}function i(){return window.innerWidth}function a(){return window.innerHeight}function l(){return null}function s(){var e=(0,r.useSyncExternalStore)(o,a,l),t=(0,r.useSyncExternalStore)(o,i,l);return null!==e&&null!==t?{height:e,width:t}:null}},656594:function(e,t,n){"use strict";var r=n(258712),o=n(132227),i=n(19035);t.Z=function(e){var t=e.inCommentFeedPreview,n=e.isFirstTaggedUserAuthor,a=e.lineHeight,l=e.marginBottom,s=e.marginEnd,u=e.shouldShowFirstNameOnly,c=e.size,d=e.tags,f=e.taggedUsers,p=e.text,h=(0,r.useRef)(null),m=function(e,t){return(0,i.jsx)(o.xv,{inline:!0,overflow:"normal",size:c,children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:a,overflowWrap:"anywhere",display:"inline"}},"data-test-id":"text-container",children:e})},t)},y=function(e,r,a,l){var s=u||0===a&&n?f[a].first_name||f[a].username[0]:r;return(0,i.jsx)(o.xv,{color:e,inline:!0,overflow:"normal",size:c,weight:"bold",children:t?s:(0,i.jsx)(o.rU,{display:"inlineBlock",href:"/".concat(f[a].username),underline:"hover",children:s})},l)};return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap",wordWrap:"break-word",marginBottom:l}},children:function(){if(!d.length||!f||d.length!==f.length)return m(p,"1");var e=0,n=[];return d.forEach(function(t,r){var o=p.substring(e,t.offset);e=t.offset+t.length;var i=p.substring(t.offset,e);n=n.concat(m(o,"".concat(r,"a"))).concat(y(t.color,i,r,"".concat(r,"b")))}),n=n.concat(m(p.substring(e),"2")),(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:a}},display:u?"flex":void 0,marginEnd:null!=s?s:3,position:"relative",children:(0,i.jsx)(o.xv,{ref:h,inline:!0,lineClamp:t?1:void 0,size:c,children:n})})}()})}},265332:function(e,t,n){"use strict";n.d(t,{A9:function(){return b},F1:function(){return C},Ff:function(){return E},G5:function(){return T},G_:function(){return I},Gu:function(){return S},LH:function(){return d},Rv:function(){return m},TJ:function(){return g},Ty:function(){return u},WU:function(){return j},XU:function(){return h},_q:function(){return R},i$:function(){return x},iB:function(){return c},je:function(){return f},mi:function(){return D},o:function(){return w},pW:function(){return v},qJ:function(){return M},ql:function(){return _},sp:function(){return A},uC:function(){return p},xA:function(){return y},yQ:function(){return k},yW:function(){return P},zs:function(){return O}});var r=n(132227),o=n(121006);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,a;r=e,o=t,a=n[t],(o=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=new r.Ry(3),c=48,d=56,f="sm",p=500,h=1,m=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),y=Object.freeze({PHOTO:0,STICKER:1,PIN:2}),g="comment_featured_ids",v="did_it_featured_ids",b={NONE:"none",WARNING:"warning",BLOCK:"block"},_="https://s.pinimg.com/images/user/default_75.png",w="transparent",j="#efefef",x=function(e,t){return e?(0,o.Z)(t.ngettext('{{ count }} Comment', '{{ count }} Comments', e, 'closeup.commentThread.heading.commentCount', 'Comment count on a Pin. count: number of comments'),{count:e.toString()}):t._('No comments yet', 'closeup.commentThread.heading.noComments', 'Prompt for user to comment on Pin')},O=function(e,t,n,r){var o=t.map(function(t){return s(s({},t),{},{offset:(t.offset||0)+(r?0:e.length+1),color:"shopping"})});return r?o:[{offset:0,length:e.length,color:n?"light":"dark"}].concat(function(e){if(Array.isArray(e))return a(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(o)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},P=function(e){return e._('Insight heading icon', 'closeupCommentModuleHeading.icon', 'Icon displayed in the comment module heading')},S=function(e){return e._('No comments yet', 'emptyCommentThread.noComments.heading', 'Text shown when there are no comments yet')},I=function(e){return e._('Post', 'commentComposer.button.post', 'Post new comment')},E=function(e){return e._('posted a photo', 'comment.preview.text.photo', 'Comment preview text for an image that a user posted')},C=function(e){return e._('posted a sticker', 'comment.preview.text.sticker', 'Comment preview text for a sticker that a user posted')},T=function(e){return e._('Select an emoji', 'emojitray.button.accessibilityLabel', 'Accessibility label for emoji tray button')},D=function(e){return e._('Select a photo', 'photoModal.button.accessibilityLabel', 'Accessibility label for photo modal button')},A=function(e){return e._('Select a sticker', 'stickerTray.button.accessibilityLabel', 'Accessibility label for sticker tray button')},k=function(e){return e._('Text editor', 'EditorWithMentions.container', 'Tappable area for the editor container')},R=function(e){return e._('Top Comment', 'closeupCommentModuleHeading.heading.topComment', 'Top Comment heading for the comment module')},M=function(e){return[T(e),D(e),I(e),A(e),k(e)]}},892671:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},Z:function(){return f}});var r=n(258712),o=n(219308),i=n(718369),a=n(23084),l=n(174646);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,i.sV)().setViewContextData,s=(0,l.B)().requestIdentifier,u=(0,o.Z)(),d=(0,i.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(c(c({},e),{},{event_type:13,request_identifier:s}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},509228:function(e,t,n){"use strict";n.d(t,{k:function(){return r.kH}});var r=n(906667),o=n(174646),i=n(19035);t.Z=function(e){var t=e.dateFormatType,n=e.useUTC,a=void 0===n||n,l=e.value;return(0,i.jsx)(o.LC,{children:function(e){return(0,r.ZP)(e.locale,l,t,a)}})}},906667:function(e,t,n){"use strict";n.d(t,{A5:function(){return i},ZP:function(){return a},kH:function(){return r}});var r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},o=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function i(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function a(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],a=o(n);return r&&(a.timeZone="UTC"),i()||(a.calendar="gregory"),new Intl.DateTimeFormat(e,a).format(t)}},319579:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=Math.floor(t/60),r=t%60;return n+":"+(r<10?"0":"")+r}n.d(t,{Z:function(){return r}})},927375:function(e,t,n){"use strict";function r(e,t){var n,r=!0;return function(){for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(n),r&&(e.apply(void 0,i),r=!1),n=setTimeout(function(){e.apply(void 0,i),r=!0},t)}}n.d(t,{Z:function(){return r}})},81772:function(e,t,n){"use strict";var r=n(267708),o=n(216029);t.Z=(0,r.Z5)(o.ZP)},611577:function(e,t,n){"use strict";n.d(t,{$S:function(){return r},V$:function(){return o},_4:function(){return a},iY:function(){return l},mR:function(){return i}});var r="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",l="UPDATE_EXPERIENCE"},911829:function(e,t,n){"use strict";function r(e){for(var t=e.gutterWidth,n=e.isRTL,r=e.itemWidth,o=e.maxColumns,i=void 0===o?16:o,a=e.minColumns,l=void 0===a?2:a,s=(void 0===r?236:r)+t,u="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  padding: 0 ".concat(t/2,"px;\n  position: absolute;\n  visibility: hidden;\n}\n"),c=l;c<i+1;c+=1){var d=c===l?0:c*s;u+="\n@media (min-width: ".concat(d,"px) and (max-width: ").concat((c+1)*s-1,"px) {\n  .gridCentered {\n    max-width: ").concat(c*s,"px;\n  }\n  .gridCentered .static:nth-child(-n+").concat(c,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(n?"right":"left",";\n    display: block;\n  }\n}\n")}return u}n.d(t,{Z:function(){return r}})},131714:function(e,t,n){"use strict";var r=n(258712);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}t.Z=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");f.prototype=Object.create(e&&e.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),e&&i(f,e);var t,n,d=(t=l(),function(){var e,n=s(f);return e=t?Reflect.construct(n,arguments,s(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return a(e)}(this,e)});function f(){var e;if(!(this instanceof f))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return u(a(e=d.call.apply(d,[this].concat(n))),"ref",(0,r.createRef)()),u(a(e),"observer",null),u(a(e),"handleVisibilityChanged",function(t,n){e.props.onVisibilityChange(t,n)}),e}return n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}(f.prototype,n),Object.defineProperty(f,"prototype",{writable:!1}),f}(r.Component)},414374:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(545007);function o(e){return(null==e?void 0:e[1000069])&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){var e=(0,r.v9)(function(e){return e.experiences});return!!e&&o(e)}},868841:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return"object"===r(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:function(){return o}})},595627:function(e,t,n){"use strict";n.d(t,{WD:function(){return r},WM:function(){return o},eC:function(){return i}});var r="one-tap-desktop-carousel",o="one-tap-desktop",i="responsive-box"},86369:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(420205),o=n(463227),i=n(985630);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e,t){var n,s,u=Math.round(1e3*Math.random())+"",c=Math.round(1e3*Math.random())+"";o.t8((0,r.GS)(u),c);var d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({token:"".concat(u,"-").concat(c),url:e},t&&!t.params?t.queryParams:(null==t?void 0:t.params)&&{pin:null!=(n=t.params.pinId)?n:void 0,isThirdPartyAd:null!=(s=t.params.isThirdPartyAd)?s:void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0});return"/offsite/?".concat((0,i.Z)(d))}},44041:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(779947),o=n(712151),i=n(171764),a=n(859930),l=n(440118);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var c=function(e){var t,n=e.event,c=e.onHistoryChange,d=e.href,f=e.history,p=e.target,h=(0,o.Z)(d),m=null!=(t="string"!=typeof d&&d?d.state:null)?t:{},y=(0,i.Z)(h);y===l.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===p?(0,r.Z)(h,"blank"===p):f&&y===l.Z.SAME_ORIGIN&&(f.push((0,a.Z)({url:h}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({from:f.location},m)),c&&c({event:n}))}},948694:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(779947),o=n(86369);function i(e,t){(0,r.Z)((0,o.Z)(e,t),!0,null==t?void 0:t.features)}},75209:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(258712);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,o,i=e.animationData,u=e.autoplay,c=e.initialSegment,d=e.loop,f=e.onComplete,p=e.onConfigReady,h=e.onDataFailed,m=e.onDataReady,y=e.onDestroy,g=e.onDOMLoaded,v=e.onEnterFrame,b=e.onLoadedImages,_=e.onLoopComplete,w=e.onSegmentStart,j=s((0,r.useState)(null),2),x=j[0],O=j[1],P=s((0,r.useState)(!1),2),S=P[0],I=P[1],E=(0,r.useRef)(null),C=(0,r.useRef)(null),T=(t=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(48109).then(n.t.bind(n,348109,23));case 2:O(e.sent);case 4:case"end":return e.stop()}},e)}),o=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)})},function(){return o.apply(this,arguments)});return(0,r.useEffect)(function(){T()},[]),(0,r.useEffect)(function(){if(C.current&&x){null==(t=E.current)||t.destroy();var t,n=a(a({},e),{},{container:C.current});E.current=x.loadAnimation(n),I(!!E.current)}},[C,E,i,x,e]),(0,r.useEffect)(function(){E.current&&(E.current.loop=!!d,d&&E.current.isPaused&&E.current.play())},[d]),(0,r.useEffect)(function(){E.current&&(E.current.autoplay=!!u)},[u]),(0,r.useEffect)(function(){if(E.current){if(!c)return void E.current.resetSegments(!1);Array.isArray(c)&&c.length&&((E.current.currentRawFrame<c[0]||E.current.currentRawFrame>c[1])&&(E.current.currentRawFrame=c[0]),E.current.setSegment(c[0],c[1]))}},[c]),(0,r.useEffect)(function(){var e=[{name:"complete",handler:f},{name:"loopComplete",handler:_},{name:"enterFrame",handler:v},{name:"segmentStart",handler:w},{name:"config_ready",handler:p},{name:"data_ready",handler:m},{name:"data_failed",handler:h},{name:"loaded_images",handler:b},{name:"DOMLoaded",handler:g},{name:"destroy",handler:y}].filter(function(e){return null!=e.handler});return function(){e.length&&e.map(function(e){var t;return null==(t=E.current)||t.addEventListener(e.name,e.handler),function(){var t;null==(t=E.current)||t.removeEventListener(e.name,e.handler)}}).forEach(function(e){return e()})}},[f,_,v,w,p,m,h,b,g,y]),{animationContainerRef:C,play:function(){var e;null==(e=E.current)||e.play()},stop:function(){var e;null==(e=E.current)||e.stop()},pause:function(){var e;null==(e=E.current)||e.pause()},setSpeed:function(e){var t;null==(t=E.current)||t.setSpeed(e)},goToAndStop:function(e,t){var n;null==(n=E.current)||n.goToAndStop(e,t)},goToAndPlay:function(e,t){var n;null==(n=E.current)||n.goToAndPlay(e,t)},setDirection:function(e){var t;null==(t=E.current)||t.setDirection(e)},playSegments:function(e,t){var n;null==(n=E.current)||n.playSegments(e,t)},setSubframe:function(e){var t;null==(t=E.current)||t.setSubframe(e)},getDuration:function(e){var t;return null==(t=E.current)?void 0:t.getDuration(e)},destroy:function(){var e;null==(e=E.current)||e.destroy()},animationLoaded:S,animationItem:E.current}}},267486:function(e,t,n){"use strict";function r(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)},function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}n.d(t,{Z:function(){return r}})},348332:function(e,t,n){"use strict";n.d(t,{AS:function(){return u},Ps:function(){return i},Q6:function(){return f},le:function(){return p},qe:function(){return c},yU:function(){return d}});var r=n(316886),o=n(136388),i=function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,o.Z)(e,t[n])})},a=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},l=function(e){return e};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return function(r){var o=[];return function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];var s=o.find(function(e){return t(e.args,n(a))});if(s)return s.result;var u=r.apply(void 0,a);return o.push({args:n(a),result:u}),e&&o.length>e&&o.shift(),u}}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=[];return{memoize:function(o){return function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];var s=n(a),u=r.find(function(e){return t(e.args,s)});if(u)return u.result;var c=o.apply(void 0,a);return r.push({args:s,result:c}),e&&r.length>e&&r.shift(),c}},clearCache:function(){r=[]}}}t.ZP=s();var c=s(1),d=s(void 0,a,function(e){return[JSON.stringify(e)]}),f=s(0,i),p=s(0,function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,r.ZP)(e,t[n])})})},306762:function(e,t,n){"use strict";n.d(t,{FK:function(){return l},Mp:function(){return u},dO:function(){return s},e$:function(){return c},hy:function(){return d},z5:function(){return f}});var r=n(152817),o=n(112800);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var l=function(e){var t,n=e.subscriptionId,r=e.endpoint;return n||(t=r.split("/"))[t.length-1]},s=function(e,t){return(0,o.tj)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o,a;r=e,o=t,a=n[t],(o=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t))};function u(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=window.atob(n),o=new Uint8Array(r.length),i=0;i<r.length;i+=1)o[i]=r.charCodeAt(i);return o}var c=function(e){return e._('Sorry! Something went wrong on our end.', 'RequestDataUI.Toast.unknownFailure', 'Toast message for unsuccessfully requesting data')},d=function(e){return e._('Chrome users can activate browser notifications when push is turned on', 'notification_settings.permissions.chrome_browser_enabling.description', 'Notify users they can enable chrome browser notifications if push notifications are on')},f=function(e,t){switch(t){case r.b.PUSH:return e._('You won\'t get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all push notifications except important updates, account settings and privacy');case r.b.EMAIL:return e._('You won\'t get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all email notifications except important updates, account settings and privacy');case r.b.NEWS:return e._('You won\'t get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all in-app notifications except important updates, account settings and privacy');case r.b.WEB_PUSH:return e._('You won\'t get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all web push notifications except important updates, account settings and privacy');default:return e._('You won\'t get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all notifications except important updates, account settings and privacy')}}},152817:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r={PUSH:"push",EMAIL:"email",NEWS:"news",WEB_PUSH:"web_push"}},209216:function(e,t,n){"use strict";var r,o,i=n(284987),a=n(397657),l=n(231333),s=n(306762),u=n(755090),c=n(19035);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)})}}var h=(r=p(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)({url:"/v3/email/fatigue/".concat(t,"/"),method:"DELETE"});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),o=(0,s.e$)(r),n(function(e){var t=e.hideToast;return(0,c.jsx)(l.Z,{onHide:t,text:o})});case 9:case"end":return e.stop()}},e,null,[[0,5]])})),function(e,t,n){return r.apply(this,arguments)}),m=(o=p(regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,a.Z)({url:"/v3/email/journey/fatigue/".concat(t,"/"),method:"DELETE"});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),o=(0,s.e$)(r),n(function(e){var t=e.hideToast;return(0,c.jsx)(l.Z,{onHide:t,text:o})});case 9:case"end":return e.stop()}},e,null,[[0,5]])})),function(e,t,n){return o.apply(this,arguments)}),y=function(e,t,n,r){var o,i="",a=r._('Got it! You\'ll continue to see notifications about this interest', 'email.Feedback.Experience.Interest.Positive', 'Toast feedback experience after a user responds to one of our email surveys. This confirms that a user will continue to see that email interest after responding positively to the survey.'),l=r._('Got it! You\'ll see less notifications about this interest', 'email.Feedback.Experience.Interest.Negative', 'Toast feedback experience after a user responds to one of our email surveys. This confirms that a user will see less of that email interest after responding negatively to the survey.');return"interest_positive"===e?(i=a,o=function(){}):"interest_negative"===e?(i=l,o=function(){h(t,n,r)}):"journey_positive"===e?(i=a,o=function(){}):"journey_negative"===e?(i=l,o=function(){m(t,n,r)}):e.startsWith("survey_")&&(i=r._('Got it! This will help improve the quality of your emails in the future', 'email.Feedback.Experience.Recommendation.Response', 'Toast feedback experience after a user responds to one of our email surveys. This confirms that we have taken note of their response.')),[i,o]};t.Z=function(e,t,n){var r,o=new URLSearchParams(null==e?void 0:e.search),a="31"===o.get("utm_source"),s=o.get("utm_content")||"",f=function(e){if(Array.isArray(e))return e}(r=y(o.get("e_t_s")||"",s,t,n))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=f[0],h=f[1],m=(0,i.k6)(),g=function(){var e=n._('Undo', 'email.Feedback.Experience.undoButton.label', 'Label for the toast undo button');t(function(t){var n=t.hideToast;return(0,c.jsx)(l.Z,{duration:6e3,onHide:n,primaryAction:h?{accessibilityLabel:e,label:e,role:"button",onClick:function(){n(),h()}}:void 0,text:p})})};(0,u.Z)(function(){(null==e?void 0:e.pathname)==="/"&&p&&a&&(o.delete("e_t_s"),m.push({pathname:e.pathname,search:o.toString()}),g())})}},23084:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,o){return t[o]=e(t[o],n[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&n&&"object"===o(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i,a;r=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},221097:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}var i=new(function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}return e=[{key:"setExperiment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=e}},{key:"onSessionResume",value:function(e){return this.onResumeListeners.push(e),this}},{key:"onSessionPause",value:function(e){return this.onPauseListeners.push(e),this}},{key:"removeResumeListener",value:function(e){this.onResumeListeners.filter(function(t){return t!==e})}},{key:"removePauseListener",value:function(e){this.onPauseListeners=this.onPauseListeners.filter(function(t){return t!==e})}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}()),a=function(e){if(e.isHidden){var t=e.reason;i.windowInFocus=!1,i.onPauseListeners.forEach(function(e){return e(t)})}else i.windowInFocus=!0,i.onResumeListeners.forEach(function(e){return e()})};setTimeout(function(){window.addEventListener("beforeunload",function(){return a({isHidden:!0,reason:"beforeunload"})}),window.addEventListener("focus",function(){return a({isHidden:!1})}),window.addEventListener("blur",function(){return a({isHidden:!0,reason:"blur"})}),window.addEventListener("pageshow",function(){return a({isHidden:!1})}),window.addEventListener("pagehide",function(){return a({isHidden:!0,reason:"pagehide"})}),void 0!==document.hidden?document.addEventListener("visibilitychange",function(){return a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",function(){return a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})},!1)},0),t.Z=i},522539:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){var r,i,a;r=e,i=t,a=o[t],(i=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}t.Z=function(e){if(!e)return null;var t=e.pin.rich_metadata;return t?o(o({},e),{},{richMetadata:t}):null}},158759:function(e,t,n){"use strict";n.d(t,{NK:function(){return v},P6:function(){return l},ZE:function(){return y},Zt:function(){return g},_J:function(){return d},_S:function(){return b},cL:function(){return h},iR:function(){return _},jL:function(){return c},oN:function(){return a},rM:function(){return m},sV:function(){return f},sY:function(){return p},yp:function(){return s}});var r=n(606688);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=5e3,l=5e3/r.gJ,s="Pin page",u=["Uploaded by user"],c=function(e,t){return!!t&&!e},d=function(e){return!!e&&5!==e},f=function(e){return["email","messages","deep_linking"].includes(e)},p=function(e){return!!e&&"gif"===e},h=function(e){var t=e.embedSrc,n=e.embedSubtype,r=e.embedType;return!!t&&!p(r)&&"pinstory"!==n},m=function(e){var t=e.link,n=e.mobileLink,r=e.trackedLink,o=e.utmLink;return!n&&!o&&!r&&!t},y=function(e){return/pin.it/gim.test(e||"")},g=function(e){var t=e.link,n=e.mobileLink,r=e.origImageUrl,o=e.trackedLink,i=e.utmLink;return n||i||o||t||r||""},v=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function b(e){var t,n=o(u);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}function _(e){if(!e)return!1;var t=e.id,n=e.videos;if(t&&null!=n&&n.id&&n.video_list){var r=n.video_list,i=r.V_720P,a=r.V_HLSV4,l=r.V_HLSV3_MOBILE;if(i&&w(i)||a&&w(a)||l&&w(l))return!0}var s=null==(u=e.story_pin_data)||null==(c=u.pages)||null==(d=c[0])?void 0:d.blocks;if(s){var u,c,d,f,p=o(s);try{for(p.s();!(f=p.n()).done;){var h=f.value;if("story_pin_video_block"===h.type&&null!=h&&h.video)return!0}}catch(e){p.e(e)}finally{p.f()}}return!1}function w(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}},761732:function(e,t,n){"use strict";n.d(t,{$4:function(){return T},A7:function(){return M},AQ:function(){return V},Bj:function(){return v},DB:function(){return K},FM:function(){return Q},G9:function(){return z},GX:function(){return y},Hy:function(){return ec},JO:function(){return A},Ke:function(){return D},LM:function(){return o},Lc:function(){return ef},Lr:function(){return eu},MN:function(){return _},Mn:function(){return ee},N8:function(){return g},NB:function(){return en},P0:function(){return er},P9:function(){return el},Pn:function(){return w},S:function(){return k},TK:function(){return x},TZ:function(){return I},UU:function(){return d},Uw:function(){return $},W_:function(){return es},XB:function(){return s},Xy:function(){return E},YM:function(){return O},aD:function(){return ep},aj:function(){return F},bA:function(){return N},bo:function(){return u},cH:function(){return eg},dS:function(){return S},eZ:function(){return h},fk:function(){return ei},g1:function(){return ed},gU:function(){return c},hH:function(){return H},i2:function(){return f},iR:function(){return L},jh:function(){return eh},km:function(){return p},lx:function(){return R},mr:function(){return Y},mt:function(){return G},n_:function(){return Z},np:function(){return W},of:function(){return r},q:function(){return ey},qY:function(){return P},qm:function(){return ea},rc:function(){return J},ro:function(){return em},sD:function(){return a},sG:function(){return m},u1:function(){return X},uR:function(){return l},v5:function(){return i},v9:function(){return q},vk:function(){return et},wj:function(){return j},x1:function(){return U},yC:function(){return b},yI:function(){return C},yb:function(){return B},zr:function(){return eo}});var r=880,o=340,i=380,a=510,l=40,s=20,u=4,c=474,d=134,f=96,p=800,h=186,m=40,y=10,g=48,v=88,b=183,_=130,w=24,j=400,x=50,O=8,P=8,S=5,I=29,E=5,C=20,T=400,D=100,A=800,k=800,R=500,M=3e3,N=40,z=100,L=5,U=["attempted","publishing","succeeded","uploading"],H={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},Z=["tl","tc","tr","bl","bc","br"],F=["left","center"],B=["top","center","bottom"],W=["none","uppercase"],G=["sm","md","lg"],V=[1,.75],K=198,Y=132,q=1,X=56,$=240,J="cubic-bezier(0.66, 0.025, 0.33, 0.975)",Q=1e3,ee=1500,et=2,en=3,er=20,eo=20,ei=2,ea=["processing","publishing","saving"],el=300.5,es=1,eu=0xc800000,ec=2500,ed=3,ef="pin-builder-default-education-id",ep="pin-builder-default-tour-id",eh="pin-builder-editing-tour-id",em="save_from_url",ey=["processing","edited","creating","saving","saved"],eg=2048},50865:function(e,t){"use strict";t.Z=function(e){var t;return null!=e&&null!=(t=e.pin)&&t.id?e:null}},52157:function(e,t,n){"use strict";function r(e,t){var n;if(e.error){var r=e.error,o=r.httpStatus,i=r.api_error_code,a=r.redirectUrl;(404===o||401===o&&7===i)&&(n={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===o&&a&&(n={pathname:a})}return n}n.d(t,{Z:function(){return r}})},59784:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(132227),o=n(19035);function i(e){var t=e.accessibilityLabel;return(0,o.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(r.xH,{accessibilityLabel:t,show:!0})})}},327354:function(e,t,n){"use strict";function r(e){return e===window?window.innerHeight:e.clientHeight}function o(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function i(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function a(e){return e===window?o():e.scrollTop}function l(){window&&window.scroll(0,0)}n.d(t,{MX:function(){return a},S$:function(){return o},Uy:function(){return r},aZ:function(){return i},vM:function(){return l}})},25486:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(26234),o=n(985630);function i(e){var t=e.bubbleId,n=e.pinId,i=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,u=e.title,c=[0,24,21,26].includes(l),d=(0,o.Z)({q:i,rs:a||void 0,b_id:t,source_id:s,top_pin_id:n}),f=c&&u?(0,r.x)({title:u,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return c?f:"/search/pins/".concat(d?"?"+d:"")}},166543:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},805:function(e,t,n){"use strict";n.d(t,{N:function(){return o},q:function(){return r}});var r=function(e,t){if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(e){return window.console.error("Cannot access sessionStorage."),t}},o=function(e,t){if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(e){window.console.error("Cannot access sessionStorage.")}}},228372:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(491013),o=/\{\s*(\w+)\s*\}/g;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==i(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t,n=e.args,i=e.format,a=(n||[]).reduce(function(e,t,n){return l(l({},e),{},s({},n,t.text))},{});return t=i||"",(0,r.Z)(o,t,a)}},693687:function(e,t,n){"use strict";n.d(t,{J:function(){return r},Z:function(){return o}});var r=-1;function o(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},5112:function(e,t,n){"use strict";var r=n(258712),o=n(132227),i=n(468318),a=n(131714),l=n(174646),s=n(136388),u=n(726462),c=n(55665),d=n(226965),f=n(903683),p=n(19035);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var x=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&g(l,e);var t,n,i=(t=b(),function(){var e,n=_(l);return e=t?Reflect.construct(n,arguments,_(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return v(e)}(this,e)});function l(e){var t;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");return w(v(t=i.call(this,e)),"componentWillUnmount",function(){t.unregisterComponent()}),w(v(t),"getContext",function(){var e=t.props,n=e.clientTrackingParams,r=e.component,o=e.element,i=e.objectId,a=e.timeSpentContext,l=e.view,s=e.viewParameter;return{view:l||(null==a?void 0:a.view),viewParameter:s||(null==a?void 0:a.viewParameter),component:r||(null==a?void 0:a.component),element:o,objectId:i||(null==a?void 0:a.objectId),clientTrackingParams:n||(null==a?void 0:a.clientTrackingParams),getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}}),w(v(t),"getLoggerContext",function(){var e=y({},t.getContext());return delete e.getParentUuid,e}),w(v(t),"getParentId",function(){var e,n=t.props,r=n.timeSpentContext,o=n.shouldUseGrandparentId;if(void 0!==o&&o&&r&&r.getGrandparentUuid){var i=r.getGrandparentUuid();if(i)return i}return null==r||null==(e=r.getParentUuid)?void 0:e.call(r)}),w(v(t),"getUuid",function(){return t.state.timedPair?t.state.timedPair.uuid:void 0}),w(v(t),"getTimedPair",function(){return t.state.timedPair}),w(v(t),"setTimedPair",function(e,n){t.setState({timedPair:e},function(){n&&n()})}),w(v(t),"isRegistered",!1),w(v(t),"registerComponent",function(){t.props.timeSpentManager.registerComponent(v(t)),t.isRegistered=!0}),w(v(t),"unregisterComponent",function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(v(t)),t.isRegistered=!1)}),w(v(t),"handleVisibilityChange",function(e){var n=e[0].intersectionRatio,r=e[0].intersectionRect,o=r.bottom,i=r.left,a=r.right,l=r.top;n>0?t.registerComponent():0===n&&(0===o&&0===i&&0===a&&0===l?t.unregisterComponent():t.registerComponent())}),t.state={timedPair:new u.Z(t.getLoggerContext())},t}return n=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,s.Z)(e.auxData,this.props.auxData)&&(0,s.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.intersectionObserverBoxHeight;return(0,p.jsx)(c.$,{value:this.getContext(),children:(0,p.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:function(e){return(0,p.jsx)(o.xu,{ref:e,height:null!=n?n:"100%",children:r.Children.only(t)})}})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function O(e){var t,n=(0,i.Hv)(),o=(0,c.Z)(),a=(0,d.Z)(),s=(0,f.H0)(),u=(0,l.B)().requestIdentifier,h=y({app_instance_id:(void 0===u?"":u).slice(0,8)},null!=(t=e.auxData)?t:{});return(0,r.useEffect)(function(){null==a||a.setHistoryStackContext(n)},[n,a]),(0,r.useEffect)(function(){null==a||a.setPins(null!=s?s:{})},[s,a]),a?(0,p.jsx)(x,y(y({},e),{},{auxData:h,timeSpentContext:o,timeSpentManager:a,children:e.children})):e.children}O.displayName="DeprecatedTimeSpent",t.Z=O},55665:function(e,t,n){"use strict";n.d(t,{$:function(){return o},Z:function(){return i}});var r=(0,n(218291).Z)("timeSpentContext"),o=r.Provider,i=r.useMaybeHook},726462:function(e,t,n){"use strict";n.d(t,{h:function(){return u}});var r,o=n(9711),i=n(491740);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}var u="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor(1e6*window.performance.now())}:function(){return 1e6*Date.now()};Object.defineProperty(r=function e(t){var n=this;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");l(this,"start",function(){return n.startTime=u(),n.startTime}),l(this,"end",function(){return n.endTime=u(),n.duration=n.startTime?n.endTime-n.startTime:null,n.duration});try{this.uuid=(0,o.Z)()}catch(e){this.uuid=(0,i.Z)()}t&&Object.assign(this,t)},"prototype",{writable:!1}),t.Z=r},819265:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(132227),o=n(19035);function i(e){var t=e.ariaHidden,n=e.color,i=e.size;return(0,o.jsx)("span",{"aria-hidden":void 0!==t&&t,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:n,inline:!0,size:null!=i?i:"200",children:"\xb7"})})}},712151:function(e,t){"use strict";t.Z=function(e){return e?"string"==typeof e?e:e.pathname?e.pathname:"":""}},859930:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(600009),o=function(e){var t=e.url,n=(0,r.Z)("/");return 0===t.lastIndexOf(n,0)?t.substr(n.length-1):t}},143759:function(e,t,n){"use strict";var r=n(258712);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=null,a=!1,l=0,s=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},u=function(){0===l&&window.addEventListener("scroll",s),l+=1},c=function(){(l-=1)||window.removeEventListener("scroll",s)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){return u(),function(){l.current&&clearTimeout(l.current),c()}},[]);var s=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:n,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return s(!0)},onMouseLeave:function(){return s(!1)}}).current}}},492604:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(545007),o=[1000069,1000075],i={};function a(){var e;return e=(0,r.v9)(function(e){return e.experiences}),o.forEach(function(t){e[t]&&(void 0===i[t]||i[t].id!==e[t].id)&&(i[t]=e[t])}),i}},47829:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(258712),o=n(267486);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){var e=(0,r.useRef)([]),t=(0,r.useRef)({});return(0,r.useEffect)(function(){return function(){[].concat(i(Object.keys(t.current).map(function(e){return t.current[e]})),i(e.current)).forEach(function(e){return e()})}},[]),function(n,r){if(r){var a=t.current[r];a&&(a(),delete t.current[r])}var l=(0,o.Z)(n),s=l.cancel,u=l.promise;return r?t.current[r]=s:e.current=[].concat(i(e.current),[s]),u}}},606688:function(e,t,n){"use strict";n.d(t,{$f:function(){return o},Cy:function(){return s},DR:function(){return r},Fm:function(){return l},bR:function(){return a},gJ:function(){return i},lG:function(){return u}});var r=1,o=2,i=1e3,a=1e3,l=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},406706:function(e,t,n){"use strict";n.d(t,{Z$:function(){return a},by:function(){return l},eL:function(){return i}});var r=n(319579),o=n(112800),i=function(e){if("undefined"==typeof window)return"";var t=0,n=document.querySelector('[data-test-id="header"]');switch(null!==n&&(t+=n.getBoundingClientRect().height),e){case"AuthHomefeed":var r=document.querySelector('[data-root-margin="more-ideas-tabs"]');null!==r&&(t+=r.getBoundingClientRect().height);break;case"SearchItem":var o=document.querySelector('[data-root-margin="search-improvements-bar"]');null!==o&&(t+=o.getBoundingClientRect().height);var i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');null!==i&&(t+=i.getBoundingClientRect().height)}return"".concat(-1*t,"px 0px 0px 0px")},a=function(e){var t=e.videosDuration,n=e.vHLSV4VideoDuration,o=e.storyPinDataTotalVideoDuration;return(0,r.Z)(t||n||o||0)},l=function(e,t,n){e?(0,o.My)("".concat(t,".mute_button.toggle_off")):(0,o.My)("".concat(t,".mute_button.toggle_on")),n({action:"click",item:"mute-button"})}},204682:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(397657),o=n(948694);function i(e,t){var n=t||{},i=n.auxData,a=n.clientTrackingParams,l=n.hasPin,s=n.pinId,u=n.isThirdPartyAd,c={pin_id:s,check_only:!0,client_tracking_params:l?a:void 0,url:e,aux_data:JSON.stringify(i)};u&&(c.third_party_ad=s,delete c.pin_id),(0,r.Z)({url:"/v3/offsite/",data:c}).then(function(t){if(t&&t.resource_response&&!t.resource_response.error){var n=t.resource_response.data,r=n.redirect_status,c=n.url;if(!["blocked","suspicious","porn"].includes(r)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){var d=new window.Windows.Foundation.Uri(c);window.Windows.System.Launcher.launchUriAsync(d)}return}}(0,o.Z)(e,{params:l?{pinId:s,clientTrackingParams:a,auxData:i,isThirdPartyAd:u}:{pinId:s}})})}},644849:function(e,t,n){"use strict";n.d(t,{n:function(){return o},o:function(){return r}});var r={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},o={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},365797:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(132227),o=n(231333),i=n(233846),a=n(339908),l=n(19035);function s(){var e=(0,a.F9)().showToast,t=(0,i.ZP)();return function(){e(function(e){var n=e.hideToast;return(0,l.jsx)(o.Z,{duration:5e3,onHide:n,text:t._('Blocked. To manage your block list, see social permissions in settings.', 'blockedAccounts.blockConfirmMessage', 'This message appears when a user block an account as confirmation message'),thumbnail:{icon:(0,l.jsx)(r.JO,{accessibilityLabel:t._('Success icon', 'blockedAccounts.blockConfirmMessage.icon', 'Icon displayed in the toast message as visual representation of a success message'),color:"default",icon:"check-circle-fill",size:12})}})})}}},771753:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(258712),o=n(132227),i=n(94053),a=n(12624),l=n(344500),s=n(381262),u=n(19035);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t=e.children,n=e.className,c=e.forwardRef,d=e.offset,p=void 0===d?0:d,h=e.position,m=e.shouldShowShadow,y=void 0!==m&&m,g=e.style,v=void 0===g?{}:g,b=e.top,_=e.stickyZIndex,w=(0,i.i)().setIsContentHeaderPresent;(0,r.useEffect)(function(){return w(!0),function(){w(!1)}},[]);var j=(0,s.WQ)(),x=j.currentScrollPosition,O=j.isScrolled,P=j.setSubheaderShadow;(0,r.useEffect)(function(){return y&&P("contentHeader"),function(){y&&P(null)}},[y]);var S=!1;"pending"!==b&&(S=null!=b?x>=b:O);var I=(0,a.t)(),E=(0,u.jsx)("div",{ref:c,className:n,style:f(f(f({},v),{},{top:I+p},S&&y?f(f({},l.Rz),{},{transition:v.transition||l.Rz.transition,zIndex:499}):{}),h&&"sticky"!==h?{position:h}:{}),children:t});return"sticky"===h?(0,u.jsx)(o.Le,{top:I+p,zIndex:_||new o.Ry(1),children:E}):E}},94053:function(e,t,n){"use strict";n.d(t,{Z:function(){return c},i:function(){return u}});var r=n(258712),o=n(218291),i=n(19035);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,o.Z)("ContentHeader"),s=l.Provider,u=l.useHook;function c(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],u=o[1],c=(0,r.useMemo)(function(){return{isContentHeaderPresent:l,setIsContentHeaderPresent:u}},[l]);return(0,i.jsx)(s,{value:c,children:n})}},418579:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(132227),o=n(233846),i=n(19035);function a(){var e=(0,o.ZP)();return(0,i.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(r.xH,{accessibilityLabel:e._('Loading editor', 'EditorWithMentionsFallback.loading', 'Message shown while waiting for the editor to load'),show:!0})})}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=(0,n(757653).Z)(function(){return Promise.all([n.e(27776),n.e(2074),n.e(87406)]).then(n.bind(n,433518))},void 0,function(e){return 433518},"app-www-EditorWithMentions-EditorWithMentionsInternal");function d(e){return(0,i.jsx)(c,u(u({},e),{},{fallback:(0,i.jsx)(a,{})}))}},515207:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(132227),o=n(19035);function i(e){var t=e.text;return(0,o.jsx)(r.xu,{display:"visuallyHidden",children:(0,o.jsx)(r.X6,{accessibilityLevel:1,children:t})})}},381262:function(e,t,n){"use strict";n.d(t,{Hv:function(){return f},WQ:function(){return d}});var r=n(258712),o=n(218291),i=n(182997),a=n(19035);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,o.Z)("HeaderShadow"),c=u.Provider,d=u.useHook;function f(e){var t=e.children,n=l((0,r.useState)(!1),2),o=n[0],s=n[1],u=l((0,r.useState)(0),2),d=u[0],f=u[1],p=l((0,r.useState)(null),2),h=p[0],m=p[1];(0,r.useEffect)(function(){var e=(0,i.Z)(function(){s(window.scrollY>0),f(window.scrollY)},50);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[]);var y=(0,r.useMemo)(function(){return{currentScrollPosition:d,isScrolled:o,setSubheaderShadow:m,subheaderShadow:h}},[d,o,m,h]);return(0,a.jsx)(c,{value:y,children:t})}},853404:function(e,t,n){"use strict";n.d(t,{Jo:function(){return y},mv:function(){return v},nJ:function(){return g}});var r=n(258712),o=n(218291),i={hiddenNews:{}};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(e=e||i,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;var n,r=t.payload,o=r.id,a=r.isHidden;return{hiddenNews:s(s({},null==(n=e)?void 0:n.hiddenNews),{},u({},o,a))}}var d=n(19035);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.Z)("HiddenNews"),h=p.Provider,m=p.useHook;function y(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(c,i))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],l=o[1],s=(0,r.useMemo)(function(){return{dispatch:l,hiddenNews:a}},[l,a]);return(0,d.jsx)(h,{value:s,children:n})}function g(){var e=m(),t=e.dispatch,n=e.hiddenNews.hiddenNews;return(0,r.useMemo)(function(){return{updateNewsIdToHiddenNews:function(e,n){t({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:e,isHidden:n}})},getShownNewsCount:function(e){return e.filter(function(e){return e&&e.id&&!(e.id in n&&n[e.id])}).length}}},[t,n])}function v(){return m().hiddenNews}},961902:function(e,t,n){"use strict";n.d(t,{C:function(){return o},e:function(){return r}});var r=0,o=new Set(["/","/today"])},20561:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(132227),o=n(19035);function i(e){var t=e.children,n=e.onMouseEnter,i=e.onMouseLeave,a=e.onTouch,l=e.rounding,s=e.fullWidth,u=e.pressState,c=void 0===u?"none":u,d=e.accessibilityLabel,f=e.role,p=e.dataTestId,h=(Array.isArray(c)?c:[c]).includes("compress");return(0,o.jsx)(r.iP,{accessibilityLabel:d,dataTestId:p,fullWidth:void 0!==s&&s,onMouseEnter:n&&function(e){return n(e.event)},onMouseLeave:i&&function(e){return i(e.event)},onTap:a&&function(e){return a(e.event)},role:f,rounding:l,tapStyle:h?"compress":"none",children:t})}},29210:function(e,t,n){"use strict";n.d(t,{G:function(){return h},Kl:function(){return m},vo:function(){return p}});var r=n(258712),o=n(218291),i=n(751800),a=n(717534),l=n(19035);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(){return n.e(27313).then(n.bind(n,227313))},c=(0,o.Z)("NativeEngagements"),d=c.Provider,f=c.useHook;function p(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,a.Z)(u,[]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=o[0],f=o[1];(0,i.Z8)("NativeInteractionsResource",function(e){f({type:"FETCH_COMPLETE",payload:e})}),(0,i.my)("NativeInteractionsResource",function(e){f({type:"FETCH_MORE_COMPLETE",payload:e})});var p=(0,r.useMemo)(function(){return{dispatch:f,nativeEngagements:c}},[f,c]);return(0,l.jsx)(d,{value:p,children:n})}function h(){var e=f().dispatch;return(0,r.useMemo)(function(){return{nativeEngagementsHiddenForUser:function(t){e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}},[e])}function m(){return f().nativeEngagements}},140042:function(e,t,n){"use strict";n.d(t,{Tw:function(){return b},rX:function(){return P},ZP:function(){return O}}),n(53583);var r,o,i,a=n(95460),l=n(509936),s=n(962119),u=n(63500),c=n(903683),d=n(757653),f=n(19035);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["pinId","pinKey"],m=["duploQueryRef"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b=(0,d.Z)(function(){return Promise.all([n.e(97270),n.e(39921)]).then(n.bind(n,643436))},void 0,function(e){return 643436},"DefaultPinRep"),_=void 0!==r?r:r=n(510709),w=void 0!==o?o:o=n(180385),j=void 0!==i?i:i=n(871737),x=function(e){var t,n,r,o,i,d,p=e.pinId,m=e.pinKey,y=v(e,h),_=m&&"GraphQL"===(0,l.o)(m),w=(0,s.Z)(j,m),x=(0,c.S6)()(p),O=(0,u.gC)(),P=(t=!!_,w||t?w:x?{type:"deprecated",data:x}:null);return P&&(0,f.jsx)(a.Z,{name:"DefaultPinRep",type:"critical",children:(0,f.jsx)(b,g(g({},y),{},{boardKey:(n=!!_,r=(null==w?void 0:w.pinnedToBoard)||(null==w?void 0:w.board)||null,o=O((null==x||null==(i=x.pinned_to_board)?void 0:i.id)||(null==x||null==(d=x.board)?void 0:d.id)||""),n?r:o?{type:"deprecated",data:o}:null),pinKey:P}))})};function O(e){var t=e.duploQueryRef,n=v(e,m),r=(0,s.Z)(_,t);return(0,f.jsx)(x,g(g({},n),{},{pinKey:r}))}function P(e){var t=(0,s.Z)(w,e.pinKey);return(0,f.jsx)(x,g(g({},e),{},{pinKey:t}))}},736606:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(545007),o=n(284987),i=n(52157),a=n(113474),l=n(19035);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["error"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e){var t=e.children,n=e.name,s=e.noCache,c=e.options,f=e.selector,p=e.schema,h=(0,a.Z)({name:n,options:c,schema:p,noCache:s});h.error;var m=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(h,u),y=(0,i.Z)(h),g=(0,r.v9)(f||function(){});return y?(0,l.jsx)(o.l_,{to:y}):t(d(d({},m),{},{selected:g}))}},242490:function(e,t,n){"use strict";n.d(t,{N:function(){return s},Z:function(){return c}});var r=n(132227),o=n(233846),i=n(51340),a=n(121006),l=n(19035);function s(e){var t=(0,o.ZP)(),n=e.helpfulCount,a=e.isMarkedHelpfulByMe,s=e.onHelpfulClick,u=t._('Helpful', 'Comments marked helpful text.', 'Comments marked helpful text.'),c=(0,i.nk)(t._('Helpful {{helpfulCount}}', 'Comments marked helpful count text.', 'Comments marked helpful count text.'),{helpfulCount:n||0});return(0,l.jsx)(r.kC,{alignItems:"center",dataTestId:"helpful-button",justifyContent:"center",children:(0,l.jsx)(r.iP,{onTap:s,rounding:2,children:(0,l.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(r.JO,{accessibilityLabel:"helpful icon",color:a?"brandPrimary":"subtle",icon:"thumbs-up",size:16}),(0,l.jsx)(r.xu,{paddingX:1,children:(0,l.jsx)(r.xv,{color:"subtle",size:"100",weight:"bold",children:void 0!==n&&n>0?c:u})})]})})})}function u(e){var t=e.likeCount,n=e.isLikedByMe,o=e.onLikeClick;return(0,l.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(r.iP,{onTap:o,rounding:2,children:(0,l.jsxs)(r.xu,{"data-test-id":"reactions-likeWithCountButton",display:"flex",children:[(0,l.jsx)(r.JO,{accessibilityLabel:"like icon",color:n?"brandPrimary":"subtle",icon:"heart",size:16}),t>0&&(0,l.jsx)(r.xu,{"data-test-id":"reactions-likeCount",paddingX:1,children:(0,l.jsx)(r.xv,{color:"subtle",size:"100",weight:"bold",children:t})})]})})})}function c(e){var t=(0,o.ZP)(),n=e.commentCount,i=void 0===n?0:n,c=e.reactionCounts,d=e.hideReplyCount,f=e.isLikedByMe,p=e.onLikeClick,h=e.onReplyClick,m=e.onReplyCountClick,y=e.isMarkedHelpfulByMe,g=e.onHelpfulClick,v=e.helpfulCount,b=e.flyout,_=e.small,w=(void 0===c?{}:c)[1]||0,j=!!i&&(0,a.Z)(t.ngettext('{{commentCount}} reply', '{{commentCount}} replies', i, ' - ', ' -- '),{commentCount:i}),x=_?1:2;return(0,l.jsxs)(r.kC,{alignItems:"center",children:[(0,l.jsxs)(r.xu,{display:"flex",marginEnd:-x,marginStart:-x,children:[(0,l.jsx)(u,{isLikedByMe:void 0!==f&&f,likeCount:w,onLikeClick:p}),(0,l.jsx)(r.xu,{paddingX:x,children:(0,l.jsx)(r.xu,{"data-test-id":"reactions-reply",children:(0,l.jsx)(r.hU,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:h,size:_?"sm":"md"})})}),!!b&&(0,l.jsx)(r.xu,{paddingX:x,children:b})]}),(0,l.jsxs)(r.xu,{display:"flex",flex:"grow",justifyContent:"end",marginEnd:-3,marginStart:-3,children:[!!j&&!d&&(0,l.jsx)(r.xu,{"data-test-id":"reactions-reply-count",children:(0,l.jsx)(r.xu,{paddingX:3,children:m?(0,l.jsx)(r.iP,{dataTestId:"reactions-reply-count-tap",onTap:m,rounding:2,children:(0,l.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:j})}):(0,l.jsx)(r.xv,{color:"subtle",size:"200",weight:"bold",children:j})})}),(0,l.jsx)(s,{helpfulCount:v,isMarkedHelpfulByMe:y,onHelpfulClick:g})]})]})}},396695:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r,o=n(258712),i=n(545007);n(53583);var a=n(132227),l=n(219308),s=n(962119),u=n(174646),c=n(112800),d=n(677316),f=n(538645),p=n(882368),h=n(718561),m=n(24225),y=n(980740),g=n(758806),v=n(63500),b=n(19035);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=void 0!==r?r:r=n(16976),j=["thumbnail","imageOnly"],x=function(e){var t=e.isUsingMask,n=e.setIsHovered,r=e.children;return t?(0,b.jsx)(a.xu,{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:r}):(0,b.jsx)(o.Fragment,{children:r})};function O(e){var t,n,r,O,P,S,I,E,C,T,D,A,k,R,M,N,z,L,U,H,Z,F,B,W,G,V,K,Y=e.boardKey,q=e.component,X=e.containerBackgroundColor,$=e.display,J=e.forwardedRef,Q=e.fullSize,ee=e.hideSecretBoardIcon,et=e.isAttributionHeightUnfixed,en=e.isCollaboratorsAttributionVisible,er=e.isFeaturedBoardsModule,eo=e.isHomePageBoards,ei=e.noPaddings,ea=e.showFollowButton,el=e.isUsingMask,es=e.showPinCount,eu=e.slotIndex,ec=e.type,ed=e.viewObjectIdStr,ef=e.viewParameter,ep=e.viewType,eh=e.trackInteractionObjectProp,em=e.isFromProfileGrid,ey=e.metaMarginTop,eg=e.metaMarginBottom,ev=e.metaPaddingY,eb=(0,p.Z)(),e_=eb&&eb.isAuth,ew=(0,i.I0)(),ej=(0,u.B)().locale,ex=(0,d.Z)(),eO=(0,s.Z)(w,Y),eP=(0,v.gC)(),eS=null!=eO&&eO.entityId?eP(eO.entityId):null,eI=(0,m.Z)(eO),eE=(0,l.Z)(),eC=(0,f.HG)(),eT=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return _(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eD=eT[0],eA=eT[1];if(!eO)return null;var ek=eO.owner,eR=eO.shouldShowBoardCollaborators,eM=eb.isAuth?eb.id:"",eN=(null==ek?void 0:ek.entityId)===eM,ez=(null==(n=eO.collaboratingUsers)?void 0:n.__typename)==="UserCollaboratingUsersConnectionContainer"?null==(r=eO.collaboratingUsers.connection)?void 0:r.edges:[],eL=(null==ez?void 0:ez.some(function(e){var t;return(null==e||null==(t=e.node)?void 0:t.entityId)===eM}))||eN;if("secret"===eO.privacy&&!eL)return null;var eU=!e_&&!(void 0!==em&&em&&eO.hasCustomCover)&&!!(null!=(O=eO.images236x)&&null!=(P=O[0])&&P.url),eH="grid"===ec||"thumbnail"===ec?2:4,eZ=eU?null==(S=eO.images236x)||null==(I=S[0])?void 0:I.url:eI(eH),eF=null!=(E=eO.coverPin)?E:null==eS?void 0:eS.cover_pin,eB=null!=(C=(null==eF?void 0:eF.crop)&&(null==eF?void 0:eF.size)&&{x:null!=(T=null==eF?void 0:eF.crop[0])?T:0,y:null!=(D=null==eF?void 0:eF.crop[1])?D:0,width:null!=(A=null==eF?void 0:eF.size[0])?A:0,height:null!=(k=null==eF?void 0:eF.size[0])?k:0})?C:{x:0,y:0,width:0,height:0},eW={isCustom:!eU&&(eO.hasCustomCover||void 0),url:eZ,position:eB},eG=null!=(R=eO.pinThumbnailUrls)?R:null==eS?void 0:eS.pin_thumbnail_urls,eV=(0,y.Jx)(eO.images170x,null!=(M=null==eG?void 0:eG.filter(function(e){return null!==e}))?M:void 0,eZ).map(function(e){var t=e.url;return{name:(0,y.po)(t),url:t}}),eK=[44,49].includes(ef)||[3,442,625].includes(ep),eY=null!=eO&&eO.sensitivityScreen?{reason:null==(N=eO.sensitivityScreen)?void 0:N.reason,showWarning:null==(z=eO.sensitivityScreen)?void 0:z.showWarning}:void 0,eq=null!=(L=null!=(U=eO.pinCount)?U:null==eS?void 0:eS.pin_count)?L:0,eX=null!=(H=null!=(Z=eO.sectionCount)?Z:null==eS?void 0:eS.section_count)?H:0,e$=(0,b.jsx)(h.Z,{archivedDate:null!=(F=eO.archivedByMeAt)?F:null==eS?void 0:eS.archived_by_me_at,boardId:eO.entityId,boardKey:eO,canEdit:!!eO.boardAccess&&eO.boardAccess.includes("write"),containerBackgroundColor:X,coverPhoto:eW,display:void 0===$?"responsive":$,followedByMe:!!(null!=(B=null==eS?void 0:eS.followed_by_me)?B:eO.followedByMe),fullSizeDrawer:Q,hideMeta:j.includes(ec),hideSecretBoardIcon:void 0!==ee&&ee,id:eO.entityId,imagesLego:eV,isActive:eD,isAttributionHeightUnfixed:void 0!==et&&et,isAuthenticated:e_,isCollaborative:!!eO.isCollaborative,isCollaborator:!!eL,isCollaboratorsAttributionVisible:void 0!==en&&en,isFeaturedBoardsModule:void 0!==er&&er,isHomePageBoards:eo,isOwner:eN,isProtected:"protected"===eO.privacy||(null==eS?void 0:eS.privacy)==="protected",isSecret:"secret"===eO.privacy||(null==eS?void 0:eS.privacy)==="secret",isTemporarilyDisabled:!!eO.isTemporarilyDisabled||!!(null!=eS&&eS.is_temporarily_disabled),lastModifiedDate:null!=(W=null!=(G=eO.boardOrderModifiedAt)?G:null==eS?void 0:eS.board_order_modified_at)?W:"",layout:eC?"square":void 0,locale:ej,metaMarginBottom:void 0===eg?0:eg,metaMarginTop:void 0===ey?2:ey,metaPaddingY:void 0===ev?0:ev,name:null!=(V=eO.name)?V:(null==eS?void 0:eS.name)||"",numberOfCollaborators:null!=(K=null==ez?void 0:ez.length)?K:0,numCols:eH,onFollow:function(e){return ew((0,g.Z)(e,eE))},onUnfollow:function(e){return ew((0,g.f)(e,eE))},pinCount:(void 0===es||es)&&eq?eq:void 0,sectionCount:null!=eX?eX:0,sensitivityScreen:eY,showBoardCollaborators:!1!==eR,showFollowButton:void 0===ea||ea,showTitleOnly:"imageTitle"===ec,slotIndex:eu,viewerId:eM,viewObjectIdStr:ed,viewParameter:ef,viewType:ep}),eJ=eO.url||(null==eS?void 0:eS.url);return!j.includes(ec)&&eJ?(0,b.jsx)(a.Tg,{href:e_?eJ:eJ.toLowerCase(),onTap:function(){if(eK&&eE({aux_data:{board_id:eO.entityId,board_pin_count:eq,board_section_count:eX},component:null!=q?q:1,element:36,event_type:102,view_parameter:49===ef?eN?3106:3107:ef,view_data:{view_object_id_str:ed}}),!e_){if((0,c.NC)("click_go_to_board"),eh)return void ex(eh);ex({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,b.jsx)(a.xu,{ref:J,paddingY:void 0!==ei&&ei?0:eC?2:3,children:(0,b.jsx)(x,{isUsingMask:void 0!==el&&el,setIsHovered:eA,children:e$})})}):e$}},706915:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(258712),o=n(132227),i=n(19035);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return"".concat(Math.min(100*e,100),"%")}function d(e){var t,n=e.customCover,o=e.imgPos,i=e.imgUrl,a=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({height:0,loaded:!1,width:0}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=a[0],s=a[1],d=l.height,f=l.loaded,p=l.width;if((0,r.useEffect)(function(){var e=new Image;e.onload=function(){s({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=i},[i]),!n||!o||!d||!p)return{loaded:f,position:"center center"};var h=p-o.width,m=d-o.height,y=h>0?c(o.x/h):"center",g=m>0?c(o.y/m):"center";return{loaded:f,position:"".concat(y," ").concat(g)}}function f(e){var t=d(e),n=t.loaded,r=t.position,a=e.imgUrl;return(0,i.jsx)(o.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:n&&(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(a,")"),backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"}},"data-test-id":"cover-image",children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function p(e){var t=d(e),n=t.loaded,r=t.position,a=e.alt,l=e.color,s=e.imgUrl;return(0,i.jsx)(o.zd,{height:"100%",width:"100%",children:n&&(0,i.jsx)("img",{alt:a||"",src:s,style:{backgroundColor:l||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function h(e){return e.renderAsImage?(0,i.jsx)(p,s({},e)):(0,i.jsx)(f,s({},e))}},29519:function(e,t,n){"use strict";n.d(t,{AC:function(){return a},FC:function(){return c},FP:function(){return s},M0:function(){return l},SA:function(){return f},Xq:function(){return d},Y_:function(){return i},o2:function(){return o},s0:function(){return r},z9:function(){return u}});var r=44,o=40,i=49,a=69,l=236,s=157,u=320,c=213,d=7,f=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},93002:function(e,t,n){"use strict";n.d(t,{Nb:function(){return a},Of:function(){return l},x4:function(){return u}});var r=n(258712),o=n(348332),i=n(437318),a=(0,o.qe)(function(e){var t=e.paneWidth,n=e.showCloseupContentRight,r=e.showProductDetailPage,o=e.viewportSize,i=e.maxWidth,a=e.descriptionPaneWidth,l=e.isCommentAttachmentSelectorOpen,s=e.isCommentComposerFocused,u=e.isCommentPopoverInteractionActive,c=e.isCommentThreadExpanded,d=e.isMediaViewerOpen,f=e.isProductDetailsExpanded,p=e.isShoppingModuleExpanded,h=e.setIsCommentAttachmentSelectorOpen,m=e.setIsCommentComposerFocused,y=e.setIsCommentPopoverInteractionActive,g=e.setIsCommentThreadExpanded,v=e.setIsMediaViewerOpen,b=e.setIsProductDetailsExpanded,_=e.setIsShoppingModuleExpanded,w=e.closeupWithinMasonryEnabled,j=e.peekCloseupEnabled,x=e.setAbortNoActionPlacementTimeout,O=e.clientTrackingParams;return{paneWidth:t,showCloseupContentRight:n,showProductDetailPage:r,viewportSize:o,maxWidth:i,descriptionPaneWidth:a,isCommentAttachmentSelectorOpen:l,isCommentComposerFocused:s,isCommentPopoverInteractionActive:u,isCommentThreadExpanded:c,isCloseupMediaViewerOpen:e.isCloseupMediaViewerOpen,isMediaViewerOpen:d,isProductDetailsExpanded:f,isShoppingModuleExpanded:p,setIsCommentAttachmentSelectorOpen:h,setIsCommentComposerFocused:m,setIsCommentPopoverInteractionActive:y,setIsCommentThreadExpanded:g,setIsCloseupMediaViewerOpen:e.setIsCloseupMediaViewerOpen,setIsMediaViewerOpen:v,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:_,closeupWithinMasonryEnabled:w,peekCloseupEnabled:j,setAbortNoActionPlacementTimeout:x,clientTrackingParams:O,calculatedImageHeight:e.calculatedImageHeight,setCalculatedImageHeight:e.setCalculatedImageHeight}}),l={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:function(){},setIsCloseupMediaViewerOpen:function(){},setIsCommentAttachmentSelectorOpen:function(){},setIsCommentComposerFocused:function(){},setIsCommentPopoverInteractionActive:function(){},setIsMediaViewerOpen:function(){},setIsShoppingModuleExpanded:function(){},setCalculatedImageHeight:function(){}},s=(0,r.createContext)(l);function u(){var e=(0,r.useContext)(s);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=s},437318:function(e,t,n){"use strict";n.d(t,{$T:function(){return m},CI:function(){return a},Ch:function(){return s},ER:function(){return h},Gb:function(){return u},Gg:function(){return o},Hf:function(){return v},Ie:function(){return d},KP:function(){return f},Kn:function(){return l},O5:function(){return y},d2:function(){return c},fF:function(){return _},g9:function(){return p},iB:function(){return b},rv:function(){return g},u6:function(){return i}});var r=n(132227),o=508,i=1016,a=488,l=992,s=672,u=1176,c=40,d=72,f=740,p=32,h=16,m=24,y=2,g=1,v=new r.Ry(5),b={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},_={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"}},719311:function(e,t,n){"use strict";n.d(t,{Dk:function(){return u},Fk:function(){return o},fS:function(){return s},lI:function(){return i},mS:function(){return l},qW:function(){return a}});var r=n(132227),o=new r.Ry(1),i=new r.Ry(3),a=2,l=new r.Ry(a),s=3,u=new r.Ry(100)},432710:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(258712),o=n(545007),i=n(132227),a=n(971518),l=n(233846),s=n(51340),u=n(833741),c=n(130371),d=n(159982),f=n(38061),p=n(19035);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.isSelf,n=e.showVerified,m=e.user,y=void 0===m?{}:m,g=e.onFollowChange,v=h((0,r.useState)(y.explicitly_followed_by_me||!1),2),b=v[0],_=v[1],w=h((0,r.useState)(!1),2),j=w[0],x=w[1],O=(0,o.I0)(),P=(0,l.ZP)(),S=function(){x(!1),O((0,d.fv)(y.id)),_(!1),g&&g(y,!1)},I=y.verified_identity,E=y.full_name,C=y.is_verified_merchant,T=y.is_private_profile,D=y.explicitly_followed_by_me,A=y.username,k=null==I?void 0:I.verified,R=y.image_medium_url||y.image_small_url;return(0,p.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,children:[j&&(0,p.jsx)(c.Z,{firstName:null!=E?E:"",handleUnfollowUser:S,onDismiss:function(){x(!1)}}),(0,p.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,p.jsx)(i.Tg,{href:"/".concat(A,"/"),children:(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,p.jsx)(i.xu,{width:50,children:(0,p.jsx)(a.qE,{accessibilityLabel:P._('User profile picture', 'FollowersModal.User.profilePicture', 'accessibility label for avatar main profile picture'),color:null==y?void 0:y.avatar_color_index,name:(0,s.nk)(P._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:E}).join(" "),size:"fit",src:null!=R?R:""})}),(0,p.jsx)(i.X6,{accessibilityLevel:3,size:"300",children:(0,p.jsx)(i.xv,{inline:!0,size:"300",weight:"bold",children:void 0!==n&&n&&(C||k)?(0,p.jsx)(f.Z,{badgeSize:"sm",badgeSpacing:2,fullName:null!=E?E:"",isVerifiedIdentity:k,isVerifiedMerchant:C}):E})}),T&&(0,p.jsx)(i.xu,{children:(0,p.jsx)(i.JO,{accessibilityLabel:P._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",inline:!0})})]})})}),(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!T||D)&&(0,p.jsx)(u.Z,{followEventType:45,id:y.id,isFollowed:b,isUserMe:!!t,onFollow:function(e){O((0,d.ZN)(e)),_(!0),g&&g(y,!0)},onUnfollow:function(){T?x(!0):S()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},787012:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(132227),o=n(971518),i=n(233846),a=n(586033),l=n(25486),s=n(693687),u=n(121006),c=n(744117),d=n(19035);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){var t=e.bubble,n=e.contextLogData,h=e.disableTabIndex,m=e.height,y=e.isHovered,g=e.onClick,v=e.onMouseEnter,b=e.onMouseLeave,_=e.referringSource,w=e.searchBoxRenderStopwatch,j=e.slotIndex,x=e.storyId,O=e.viewParameter,P=e.viewType,S=e.width,I=(0,i.ZP)(),E=t.id,C=t.action,T=t.aux_fields,D=t.cover_images,A=t.dominant_colors,k=t.identifier_icon_type,R=t.title,M=t.story_category,N=t.curator,z=D&&D[0]&&(D[0]["280x280"]||D[0]["236x"]),L=(0,u.Z)(R&&R.format||"",R&&R.args||{}),U=A&&A.length?A[0]:"gray",H=(null==C?void 0:C.url)||(0,l.Z)({storyCategory:M,query:L,referringSource:_,bubbleId:E,storyId:x,title:R.format,pinId:null==T?void 0:T.image_pin_id}),Z=!!k&&(0,s.Z)(k);return(0,d.jsx)(a.F,{contextLogData:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({story_id:x},n),impressionAuxFields:{storyCategory:M,story_id:x},impressionType:"Article",loggingId:E,slotIndex:j,viewParameter:O,viewType:P,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsx)(r.xu,{ref:t,children:(0,d.jsxs)(c.Z,{backgroundColor:U,coverImage:z,disableTabIndex:h,height:m,id:E,isHovered:y,onClick:g,onMouseEnter:v,onMouseLeave:b,searchBoxRenderStopwatch:w,url:H,width:S,children:[N&&26!==M&&(0,d.jsx)(r.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,d.jsx)(o.qE,{name:N.full_name,outline:!0,size:"xs",src:N.image_small_url})}),Z&&(0,d.jsx)(r.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,d.jsx)(r.JO,{accessibilityLabel:I._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:Z,size:12})}),(0,d.jsx)(r.xu,{alignItems:26===M?"end":"center","data-test-id":"discover-bubble",display:"flex",height:m,justifyContent:"center",padding:3,position:"absolute",top:!0,width:S||"100%",children:(0,d.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[m>200?(0,d.jsx)(r.X6,{align:"center",color:"light",size:"600",children:L}):(0,d.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:L}),N&&26===M&&(0,d.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,d.jsx)(r.xu,{marginEnd:2,children:(0,d.jsx)(o.qE,{name:N.full_name,outline:!0,size:"xs",src:N.image_small_url})}),(0,d.jsx)(r.xv,{color:"light",size:"100",children:N.full_name})]})]})})]})})}})}},744117:function(e,t,n){"use strict";n.d(t,{A:function(){return l},Z:function(){return s}});var r=n(258712),o=n(132227),i=n(19035);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var t,n,s,u=e.backgroundColor,c=e.children,d=e.coverImage,f=e.disableTabIndex,p=e.height,h=e.id,m=e.isHovered,y=e.onClick,g=e.onMouseDown,v=e.onMouseEnter,b=e.onMouseLeave,_=e.searchBoxRenderStopwatch,w=e.url,j=e.width,x=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),O=x[0],P=x[1],S=function(){v?v():P(!0)},I=function(){b?b():P(!1)},E=m||O,C=E?l.hoverOverlay:l.bubbleOverlay;return(0,i.jsx)(o.Tg,{href:w,onBlur:I,onFocus:S,onMouseDown:g,onMouseEnter:S,onMouseLeave:I,onTap:function(){null==y||y(h)},rounding:4,tabIndex:f?-1:void 0,children:(0,i.jsx)(o.zd,{height:p,rounding:4,width:j||"100%",children:null!=d&&d.url?(0,i.jsxs)(o.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!=(n=d.height)?n:1,naturalWidth:null!=(s=d.width)?s:1,onLoad:function(){null==_||_.stop()},role:"presentation",src:d.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:C},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:E}):c]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},236062:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(132227),o=n(19963),i=n(56063),a=n(586033),l=n(228372),s=n(693687),u=n(93002),c=n(787012),d=n(19035);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=i.yF;function y(e){var t=e.contextLogData,n=e.bubbles,i=e.id,f=e.referringSource,p=e.slotIndex,y=e.storyType,g=e.title,v=e.titleIcon,b=e.viewType,_=e.viewParameter,w=(0,o.v)().logContextEvent,j=(0,u.x4)().closeupWithinMasonryEnabled,x=null==n?void 0:n.map(function(e){return e.type+":"+e.id}).join("|"),O=h(h({story_type:y},t),{},{content_ids:x}),P=!!v&&(0,s.Z)(v);return(0,d.jsx)(a.F,{componentType:200,contextLogData:O,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:p,viewParameter:_,viewType:b,children:function(e){var t=e.impressionTrackerRef;return(0,d.jsxs)(r.xu,{ref:t,children:[g&&(0,d.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[P&&(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,d.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:P,size:14})}),(0,d.jsx)(r.xv,{weight:"bold",children:(0,l.Z)(g)})]}),null==n?void 0:n.map(function(e,t){return(0,d.jsx)(r.xu,{flex:"none",paddingY:1,children:(0,d.jsx)(c.Z,{bubble:e,contextLogData:O,height:103,onClick:function(e){w({event_type:101,object_id_str:e,view_type:b,view_parameter:_,component:200,aux_data:O})},referringSource:f,slotIndex:t,storyId:i,viewParameter:_,viewType:b,width:j?"100%":m})},"bubble-".concat(e.id))})]})}})}},587409:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(132227),o=n(51340),i=n(19035);function a(e){var t=e.applyMarkup,n=void 0===t||t,a=e.applyLink,l=void 0!==a&&a,s=e.text,u=e.textMapping,c=void 0===u?{}:u,d={};return c&&Object.keys(c).forEach(function(e){var t=c[e];null!==t&&(t.t?d[e]=t.t.toString():d[e]="",n&&(t.b&&(d[e]=(0,i.jsx)(r.xv,{inline:!0,weight:"bold",children:d[e]},e)),t.r&&(d[e]=(0,i.jsx)(r.xv,{color:"error",inline:!0,children:d[e]},e)),t.l&&l&&(d[e]=(0,i.jsx)(r.rU,{display:"inlineBlock",href:t.l,underline:"hover",children:d[e]},e))))}),(0,i.jsx)(r.xu,{"data-test-id":"updates-link-text",children:s?(0,o.bF)(s,d):null})}},766202:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var o,i,a;o=e,i=t,a=n[t],(i=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(i))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{AI:function(){return Z},AM:function(){return x},AY:function(){return Q},Ay:function(){return c},C:function(){return en},Cc:function(){return p},DX:function(){return k},GO:function(){return U},HJ:function(){return d},I2:function(){return W},IO:function(){return el},IV:function(){return l},J0:function(){return b},LL:function(){return et},Ng:function(){return a},P:function(){return I},P3:function(){return v},QE:function(){return ei},QX:function(){return er},Rd:function(){return S},So:function(){return w},V$:function(){return m},Vp:function(){return Y},WC:function(){return T},ZH:function(){return N},aE:function(){return g},c4:function(){return E},cU:function(){return C},ci:function(){return D},di:function(){return B},gb:function(){return ee},gs:function(){return L},hD:function(){return V},hf:function(){return F},hp:function(){return H},hy:function(){return u},ie:function(){return _},kJ:function(){return J},kc:function(){return P},mD:function(){return K},mM:function(){return A},o9:function(){return s},pv:function(){return h},qZ:function(){return O},qb:function(){return j},uW:function(){return z},uZ:function(){return f},uy:function(){return q},vG:function(){return X},wA:function(){return y},wl:function(){return G},yS:function(){return eo},yc:function(){return M},yf:function(){return es},ys:function(){return $},zM:function(){return R}});var a={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},l=3,s="news-feed-sidebar",u=360,c=15,d=375,f=64,p=36,h=44,m=344,y=164,g=328,v=164,b=108.7,_=3,w=82,j=82,x=164,O=164,P=4,S=164,I=164,E=2,C=82,T=164,D=2,A=2,k=4,R=328,M="290x",N="170x",z={backgroundColor:"rgba(0, 0, 0, 0.4)"},L=4,U="1px",H=48,Z=32,F=36,B="136x136",W=2,G=24,V=20,K=72,Y=48,q=54,X=54,$=4,J=118,Q=236,ee={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},et="recommendation",en="dropdown_item_settings_id",er=10,eo=20,ei=5e3,ea="#E9E4FF",el=i(i({},{backgroundColor:ea,borderColor:ea}),{},{paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"}),es=i(i({},el),{},{paddingRight:"10px"})},862724:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(258712),o=n(132227),i=n(233846),a=n(259117),l=n(327354),s=n(169650),u=n(766202),c=n(853404),d=n(19035);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(v=function(){return!!e})()}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var j={UP:"up",DOWN:"down"},x=!1,O=!0,P=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");p.prototype=Object.create(e&&e.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),e&&y(p,e);var t,n,i,c=(t=v(),function(){var e,n=b(p);return e=t?Reflect.construct(n,arguments,b(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function p(e){var t;if(!(this instanceof p))throw TypeError("Cannot call a class as a function");return _(g(t=c.call(this,e)),"handleMouseOver",function(){!t.props.listResource.isFetching&&t._container&&t.setState({highlight:!1})}),_(g(t),"handleScroll",(0,s.Z)(function(){if(!t.props.listResource.isFetching&&t._container){var e=t.props.handleScrollShadow;e&&e((0,l.MX)(t._container)>70);var n=t.props.scrollThreshold,r=(0,l.aZ)(t._container)-(0,l.MX)(t._container)-(0,l.Uy)(t._container);n&&r<n&&t.fetchMore()}},30)),_(g(t),"addEventListeners",function(e){var n=t.props.useWindow;n&&(e=window),t.removeEventListeners(),e&&(n||e.addEventListener("wheel",t.preventScroll),e.addEventListener("scroll",t.handleScroll),e.addEventListener("mouseover",t.handleMouseOver)),t._container=e}),_(g(t),"getRef",function(e){return e&&e.id===t.props.highlightId?t.onRefChange:null}),_(g(t),"preventScroll",function(e){if(t._container){var n=e.deltaY<0?j.UP:j.DOWN,r=t._container.scrollHeight-t._container.scrollTop-t._container.clientHeight==0,o=0===t._container.scrollTop;(n===j.DOWN&&r||n===j.UP&&o)&&e.preventDefault()}}),_(g(t),"fetchForHighlight",function(){if(!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.props.listResource.data){var e=!1;t.props.listResource.data.forEach(function(n){(null==n?void 0:n.id)===t.props.highlightId&&(e=!0,t.setState({isHighlightedItemLoaded:!0}))}),e||t.fetchMore()}}),_(g(t),"onRefChange",function(e){t.setState({highlightedItemRef:e})}),_(g(t),"handleHighlightAndScrollToItem",function(){t.props.listResource&&t.props.listResource.data&&!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.fetchForHighlight(),t.state.highlightedItemRef&&!x&&(t.state.highlightedItemRef.scrollIntoView({behavior:"smooth",block:"center"}),x=!0)}),_(g(t),"fetchMoreIfHidden",function(e){var n;if((null==(n=t.props.listResource.auxData)?void 0:n.x_pinterest_sli_endpoint_name)==="v3_get_news_hub_feed"){var r=u.yS;!t.props.listResource.isFetching&&!t.props.listResource.isAtEnd&&e&&t.props.getShownNewsCount(e)<r&&t.props.listResource.fetchMore()}}),t.state={highlightedItemRef:null,highlight:null,isResourceExhausted:!1,isHighlightedItemLoaded:!1},t}return n=[{key:"componentWillUnmount",value:function(){this.removeEventListeners(),x&&(O=!1)}},{key:"removeEventListeners",value:function(){var e=this.props.useWindow,t=this._container;t&&(e||t.removeEventListener("wheel",this.preventScroll),t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("mouseover",this.handleScroll))}},{key:"fetchMore",value:function(){var e=this._container;this.props.listResource.isFetching||(this.props.listResource.isAtEnd&&e?(e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mouseover",this.handleMouseOver),this.setState({isResourceExhausted:!0})):this.props.listResource.fetchMore())}},{key:"render",value:function(){var e,t,n,i=this,l=this.props,s=l.isAdsTab,c=l.hiddenNews,f=l.renderEmptyState,p=l.renderItem,h=l.renderTopStoryExperience,m=l.renderBottomSection,y=l.renderSectionHeaders;this.props.shouldScrollToItem&&this.handleHighlightAndScrollToItem();var g=this.props.listResource.data;if(this.fetchMoreIfHidden(g),!this.props.listResource.isFetching&&g&&(0===this.props.getShownNewsCount(g)||0===g.length))return f();var v=null==g?void 0:g.filter(function(e){return e&&"type"in e&&(null==e?void 0:e.type)==="news"&&!c[e.id]}),b=null!=(e=null==v?void 0:v.findIndex(function(e){return e&&"unread"in e&&(null==e?void 0:e.unread)&&(0,a.Y0)(e.encoded_display_mode,[u.gb.HIGHLIGHT_NOTIFICATION])}))?e:-1,_=g&&-1!==b?g[b]:null,w=null!=(t=null==v?void 0:v.filter(function(e){return e&&"unread"in e&&!(null!=e&&e.unread)}))?t:[],j=null!=(n=null==v?void 0:v.filter(function(e,t){return e&&"unread"in e&&e.unread&&t!==b}))?n:[];return(0,d.jsxs)(o.xu,{ref:this.addEventListeners,dangerouslySetInlineStyle:{__style:{clear:"both",height:"calc(100% - 88px)",overflowY:"auto",overflowX:"hidden",wordBreak:"break-word"}},"data-test-id":"scrollable-container",children:[g&&h&&h(),s&&g?g.map(function(e,t){return(0,d.jsx)(r.Fragment,{children:p(e,t+1,i.getRef(e),i.state.highlight&&O)},t)}):null,!s&&(_||null!=j&&j.length)?(0,d.jsxs)(r.Fragment,{children:[y&&(0,d.jsx)(o.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,d.jsx)(o.X6,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('New', 'Title for news hub section containing unread news items', 'Unread news hub items')})}),(0,d.jsxs)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:[_?p(_,0,this.getRef(_),this.state.highlight&&O,!0):null,null==j?void 0:j.map(function(e,t){return p(e,t,i.getRef(e),i.state.highlight&&O)})]})]}):null,!s&&w&&w.length>0?(0,d.jsxs)(r.Fragment,{children:[y&&(0,d.jsx)(o.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,d.jsx)(o.X6,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('Seen', 'Title for news hub section containing read news items', 'Read news hub items')})}),(0,d.jsx)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:w.map(function(e,t){return p(e,t,i.getRef(e),i.state.highlight&&O)})})]}):null,this.props.listResource.isAtEnd?null:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"5%"}},"data-test-id":"loadingItem",height:"20%",position:"relative",children:(0,d.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Loading items', ' - ', ' -- '),show:this.props.listResource.isFetching})}),m&&m()]})}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.highlight?{}:{highlight:e.shouldHighlightListItem}}}],n&&m(p.prototype,n),i&&m(p,i),Object.defineProperty(p,"prototype",{writable:!1}),p}(r.Component);function S(e){var t=(0,i.ZP)(),n=(0,c.nJ)().getShownNewsCount,r=(0,c.mv)().hiddenNews;return(0,d.jsx)(P,h(h({},e),{},{getShownNewsCount:n,hiddenNews:r,i18n:t}))}_(P,"defaultProps",{scrollThreshold:400,useWindow:!1,handleScrollShadow:function(){},highlightId:null,shouldScrollToItem:!1})},445435:function(e,t,n){"use strict";n.d(t,{Es:function(){return h},HW:function(){return p},er:function(){return y},rQ:function(){return m}});var r=n(547504),o=n(943369),i=n(992114);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){var r;return(r=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return e>=Date.now()-72e5},d=function(e,t){var n=[];if(e){var r,o=s(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;(!t||i.is_shared)&&c(i.ts)&&n.push(i)}}catch(e){o.e(e)}finally{o.f()}}return n},f=function(e){var t={};if(e){var n,r=s(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.is_shared&&c(o.ts)&&o.pin_id&&(t[o.pin_id]={inviteCode:o.pin_invite_code})}}catch(e){r.e(e)}finally{r.f()}}return t},p=function(){var e,t,n=null!=(e=(0,o.M0)().getItem(r.uc))?e:[],i=d(n,!1),a=d(n,!0),l=i.map(function(e){return e.first_pin_image_signature}),s=a.map(function(e){return e.first_pin_image_signature}),u=f(n);return{extraPlpImages:l,plpImageRenderData:i,extraBlpImages:d(null!=(t=(0,o.M0)().getItem(r.hI))?t:[],!0).map(function(e){return e.first_pin_image_signature}),extraSharedImages:s,sharedPinData:u}},h=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(e[n].id!==t[n].id)return!1;return!0},m=function(e,t){return e.map(function(e){var n;return l(n={},1,e),l(n,2,(t[e]||[]).map(function(e){var t;return l(t={},1,e),l(t,2,"pin"),t})),n})},y=function(e,t,n,r){var o={};return e.forEach(function(e){var a,l=e.id,s=null!=(a=e.pins.length)?a:0;o[l]=s,(0,i.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",s,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:n,age:r,use_case_display_name:e.display_name}}),(0,i.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",s,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:l,gender:n,age:r,use_case_display_name:e.display_name}})}),o}},356204:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var r=n(547504),o=n(838380),i=n(967312),a=n(943369),l=n(756493);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=2,c=function(e){var t;return null!=(t=null==e?void 0:e.pins)?t:[]},d=function(e){return e.length?{pins:e}:null};t.Z=function(){var e=(0,a.M0)(),t=c(e.accessAllowed?e.getItem(r.s1):l.ZP.getItem(o.w3)),n=function(t){return e.accessAllowed?e.setItem(r.s1,d(t)):l.ZP.setItem(o.w3,d(t))},f=u,p=(0,i.F)().checkExperiment,h=function(){var e,n=p("mweb_block_unauth_save").group;n.startsWith("enabled")&&(f=Number((function(e){if(Array.isArray(e))return e}(e=n.split("_"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]));var r=p("mweb_q2_mau_push_pc").anyEnabled,o=p("mweb_q2_mau_push_pc_advanced").anyEnabled,i=p("mweb_q2_mau_push_pc_advanced_row").anyEnabled,a=p("mweb_q2_mau_push_pc_emergency").anyEnabled,l=p("mweb_q2_mau_push_pc_emergency_row").anyEnabled,u=p("mweb_q2_mau_push_pc_eu").anyEnabled;return(r||o||i||a||l||u)&&(f=0),t.length<f};return{pins:t,save:function(e){h()&&n(t.filter(function(t){return t.id!==e.id}).concat([e]))},unsave:function(e){return n(t.filter(function(t){return t.id!==e}))},isSaved:function(e){return t.some(function(t){return t.id===e})},clear:function(){return n([])},canSaveMore:h}}},356871:function(e,t,n){"use strict";var r=n(258712),o=n(132227),i=n(52358),a=n(640935),l=n(971518),s=n(233846),u=n(766202),c=n(945011),d=n(19035);function f(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,l,"next",e)}function l(e){f(i,r,o,a,l,"throw",e)}a(void 0)})}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t=e.clickable,n=e.headerIconImageUrl,f=e.headerIconObjectsSchema,m=e.headerSmallOverlayIconUrl,y=e.headerSmallOverlayIconUrlDark,g=(0,s.ZP)(),v=u.hp,b=u.hp,_=(0,c.mN)()(null!=(A=null==f||null==(k=f[0])?void 0:k.id)?A:""),w=function(e){if(Array.isArray(e))return e}(T=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(T,2)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(T,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),j=w[0],x=w[1],O=n&&".json"===n.slice(-5).toLowerCase(),P=(D=p(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e){return D.apply(this,arguments)});(0,r.useEffect)(function(){var e;(e=p(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(O&&!j)){e.next=5;break}return e.next=3,P(n);case 3:x(e.sent);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[O,j,n]);var S=(0,r.useMemo)(function(){return j?(0,d.jsx)(i.Z,{animationData:j}):(0,d.jsx)(o.xH,{accessibilityLabel:"Loading",show:!0,size:"sm"})},[j]);if(n)return(0,d.jsx)(o.zd,{height:v,rounding:O?2:"circle",width:b,children:O?(0,d.jsx)(o.xu,{"data-test-id":"lottie-icon",children:S}):(0,d.jsx)(o.xu,{"data-test-id":"header-icon-image",children:(0,d.jsx)(o.Ee,{alt:g._('Pinterest recommendation', 'label for mweb notification with recommended content', 'label for mweb notification with recommended content'),color:"#ffffff",fit:"cover",naturalHeight:v,naturalWidth:b,src:n})})});if(0===f.length||void 0===f[0])return null;var I=null,E=null,C=f[0].type;if(C===u.Ng.PIN){v=64,b=u.hp;var T,D,A,k,R,M=f[0];I=(0,d.jsx)(o.zd,{height:v,rounding:u.I2,wash:!0,width:b,children:(0,d.jsx)(o.Ee,{alt:null!=(R=M.description)?R:"",fit:"cover",naturalHeight:v,naturalWidth:b,src:M.images["290x"].url})}),E="/pin/".concat(M.id,"/")}else if(C===u.Ng.BOARD){var N,z=f[0];I=(0,d.jsx)(o.zd,{height:v,rounding:u.I2,wash:!0,width:b,children:(0,d.jsx)(o.Ee,{alt:null!=(N=z.name)?N:"",fit:"cover",naturalHeight:v,naturalWidth:b,src:z.image_cover_url})}),E=z.url?z.url:null}else if(C===u.Ng.USER)if(f.length>1&&(null==(L=f[1])?void 0:L.type)===u.Ng.USER){v=u.AI,b=u.AI;var L,U,H,Z,F,B=f[0],W=f[1];I=(0,d.jsxs)(o.xu,{height:v,position:"relative",width:b,children:[(0,d.jsx)(o.xu,{display:"flex",height:v,left:!0,position:"absolute",top:!0,width:b,children:(0,d.jsx)(l.qE,{name:null!=(U=B.full_name)?U:"",outline:!0,src:null!=(H=B.image_large_url)?H:void 0})}),(0,d.jsx)(o.xu,{bottom:!0,display:"flex",height:v,position:"absolute",right:!0,width:b,children:(0,d.jsx)(l.qE,{name:null!=(Z=W.full_name)?Z:"",outline:!0,src:null!=(F=W.image_large_url)?F:void 0})})]})}else{var G,V,K=f[0],Y=null==_?void 0:_.avatar_color_index;I=(0,d.jsx)(o.kC,{alignItems:"stretch",justifyContent:"between",width:b,children:(0,d.jsx)(l.qE,{color:Y,name:null!=(G=K.full_name)?G:"",src:null!=(V=K.image_large_url)?V:void 0})}),E="/".concat(encodeURIComponent(K.username),"/")||0}else if(C===u.Ng.INTEREST){var q=f[0];I=(0,d.jsx)(o.zd,{height:v,rounding:2,width:b,children:(0,d.jsx)(o.Ee,{alt:q.name,color:"#ffffff",naturalHeight:v,naturalWidth:b,src:q.images["236x"].url})})}else if(C===u.Ng.SEARCH){var X=f[0]||{},$=X.images,J=X.term;I=(0,d.jsx)(o.zd,{height:v,rounding:u.I2,wash:!0,width:b,children:$[0]&&(0,d.jsx)(o.Ee,{alt:null!=J?J:"",fit:"cover",naturalHeight:v,naturalWidth:b,src:$[0]})})}if(void 0!==t&&t&&E)return(0,d.jsx)(o.Tg,{href:E,rounding:C===u.Ng.USER?"circle":u.I2,tapStyle:"none",children:(0,d.jsx)(o.xu,{"data-test-id":"notification-item-icon-clickable",height:v,width:b,children:I})});var Q=(0,a.Yc)()?y:m,ee=Q?(0,d.jsx)(o.xu,{bottom:!0,"data-test-id":"notification-item-icon-overlay",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,children:(0,d.jsx)(o.zd,{height:u.hD,rounding:u.I2,wash:!0,width:u.hD,children:(0,d.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:u.hD,naturalWidth:u.hD,src:Q})})}):null;return I&&(0,d.jsxs)(o.xu,{"data-test-id":"notification-item-icon",height:v,position:"relative",width:b,children:[I,ee]})}},678302:function(e,t,n){"use strict";var r=n(132227),o=n(51340),i=n(19035);t.Z=function(e){var t=e.align,n=e.bold,a=e.headerText,l=e.ignoreAPIMarkup,s=void 0!==l&&l,u=e.inline,c=e.isLink,d=void 0!==c&&c,f=e.textMapping,p=void 0===f?{}:f,h=e.textSize,m=void 0===h?"300":h,y={};return Object.keys(p).forEach(function(e){var t=p[e];if(s||t&&!t.b&&"r"in t&&!t.r&&"l"in t&&!t.l)y[e]=null==t?void 0:t.t;else{var n=d&&t&&"l"in t&&t.l?(0,i.jsx)(r.rU,{display:"inlineBlock",href:t.l,rounding:"pill",tapStyle:"none",underline:"hover",children:t.t},e):null==t?void 0:t.t;y[e]=(0,i.jsx)(r.xv,{color:t&&"r"in t&&t.r?"error":"default",inline:!0,size:m,weight:null!=t&&t.b?"bold":"normal",children:n},e)}}),(0,i.jsx)(r.xv,{align:void 0===t?"start":t,inline:void 0!==u&&u,size:m,weight:void 0!==n&&n?"bold":"normal",children:(0,o.bF)(a,y)})}},509692:function(e,t,n){"use strict";n.d(t,{B:function(){return y},g:function(){return m}});var r=n(258712),o=n(284987),i=n(218291),a=n(19035);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,i.Z)("NotifDetailRepinContext"),h=p.Provider,m=p.useMaybeHook;function y(e){var t=e.children,n=d((0,r.useState)(Object.freeze({})),2),i=n[0],l=n[1],s=d((0,r.useState)(!1),2),f=s[0],p=s[1],m=d((0,r.useState)(!1),2),y=m[0],g=m[1],v=(0,o.TH)(),b=(0,r.useMemo)(function(){var e=/^\/pin\/\d+\/repin\/?$/,t=/^\/news_hub\/\d+\/?$/;return{isSaved:function(e){return!!i[e]},save:function(e){y&&l(function(t){return u(u({},t),{},c({},e,!0))})},reset:function(){var n,r=(null==(n=window)?void 0:n.location.pathname)||"";t.test(r)||e.test(r)||(l(Object.freeze({})),p(!1),g(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:function(){var e=v.pathname||"";return t.test(e)&&f},inNewsHubQuickSaveExp:f,setInNotifDetailPage:g,setInNewsHubQuickSaveExp:p}},[i,f,y,v]);return(0,a.jsx)(h,{value:b,children:t})}},680877:function(e,t,n){"use strict";n.d(t,{BT:function(){return M},Du:function(){return z},HY:function(){return N},IY:function(){return R},Jw:function(){return v},L7:function(){return r},LT:function(){return d},Nw:function(){return P},Q_:function(){return O},Qc:function(){return o},Qv:function(){return I},R5:function(){return E},RA:function(){return S},Tt:function(){return T},UF:function(){return u},UV:function(){return a},VB:function(){return _},W1:function(){return i},Ws:function(){return f},X:function(){return A},X5:function(){return C},Yt:function(){return k},ZW:function(){return s},cK:function(){return w},cy:function(){return g},fA:function(){return U},gm:function(){return b},h7:function(){return x},k:function(){return m},o4:function(){return h},oL:function(){return L},pK:function(){return D},qf:function(){return p},tr:function(){return c},uD:function(){return j},uO:function(){return y},vF:function(){return l}});var r=1,o=2,i="female",a="male",l="unspecified",s="en-US",u="US",c=3,d="Welcome",f="Gender",p="CountryLocale",h="InterestPicker",m="UseCase",y="PinPicker",g="LoadingStep",v="AppInstall",b="NUX_PIN_PICKER_STEP_STATUS",_="NUX_USE_CASE_STEP_STATUS",w={NUX_GENDER_STEP_NAME:f,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_USE_CASE_STEP_NAME:m,NUX_PIN_PICKER_STEP_NAME:y,NUX_LOADING_STEP_NAME:g,NUX_APP_INSTALL_STEP_NAME:v},j=2,x=3,O=6,P=112,S=160,I=270,E=60,C=1e3,T=2500,D=3,A=5,k=1,R=2,M=3,N=3,z=5e3,L=250,U=1e10},903405:function(e,t,n){"use strict";n.d(t,{B:function(){return c},W:function(){return d}});var r=n(258712),o=n(218291),i=n(19035);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("Nux"),u=s.Provider,c=s.useHook;function d(e){var t=e.children,n=a((0,r.useState)([]),2),o=n[0],l=n[1],s=a((0,r.useState)({}),2),c=s[0],d=s[1],f=(0,r.useMemo)(function(){return{selectedUseCases:o,setSelectedUseCases:l,selectedPins:c,setSelectedPins:d}},[o,l,c,d]);return(0,i.jsx)(u,{value:f,children:t})}},502680:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(258712),o=n(545007),i=n(284987),a=n(132227),l=n(219308),s=n(231333),u=n(233846),c=n(174646),d=n(339908),f=n(882368),p=n(718561),h=n(24225),m=n(980740),y=n(55383),g=n(827684),v=n(758806),b=n(63500),_=n(720038),w=n(209551),j=n(19035);function x(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function O(e,t){if(e){if("string"==typeof e)return P(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.board,n=e.canEdit,S=e.display,I=e.invite,E=e.isActive,C=e.layout,T=e.lineClamp,D=e.onDeclineRequest,A=e.onEditClick,k=e.slotIndex,R=e.viewParameter,M=e.viewType,N=(0,u.ZP)(),z=(0,f.Z)(),L=z&&z.isAuth,U=z.isAuth?z.id:"",H=function(e){if(Array.isArray(e))return e}(er=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(er,2)||O(er,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),Z=H[0],F=H[1],B=(0,w.U)(),W=(0,d.F9)(),G=(0,c.B)().locale,V=(0,h.Z)(t?{type:"deprecated",data:t}:null),K=(0,i.UO)().username,Y=(0,i.TH)(),q=(0,o.I0)(),X=(0,l.Z)(),$=(0,g.RZ)(),J=(0,g.CQ)(),Q=null!=(el=null==t?void 0:t.id)?el:"",ee=(0,b.gC)()(Q),et=(eo=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:if(n=I.invited_user,!t){e.next=8;break}return e.next=6,$(Q);case 6:e.next=10;break;case 8:return e.next=10,J(Q,n.id);case 10:F(t),!t&&D?(D(),W.showToast(function(e){var t=e.hideToast;return(0,j.jsx)(s.Z,{onHide:t,text:N._('Invitation declined', 'text in toast after declined a board collaborator invite', 'text in toast after declined a board collaborator invite')})})):W.showToast(function(e){var t=e.hideToast;return(0,j.jsx)(s.Z,{duration:5e3,onHide:t,text:N._('You\'re in! Save Pins, plan with collaborators, and more!', 'ProfileBoardCard.handleInviteResponse.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')})});case 12:case"end":return e.stop()}},e)}),ei=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=eo.apply(e,t);function i(e){x(o,n,r,i,a,"next",e)}function a(e){x(o,n,r,i,a,"throw",e)}i(void 0)})},function(e){return ei.apply(this,arguments)}),en=null!=t?t:ee;if(en){var er,eo,ei,ea,el,es,eu,ec,ed,ef,ep=en.archived_by_me_at,eh=en.board_order_modified_at,em=en.collaborating_users,ey=en.cover_pin,eg=en.has_custom_cover,ev=en.id,eb=en.is_collaborative,e_=en.is_temporarily_disabled,ew=en.name,ej=en.owner,ex=en.pin_count,eO=en.privacy,eP=en.section_count,eS=en.sensitivity_screen,eI=en.should_show_board_collaborators,eE=en.url,eC=!!(null!=(es=null==ee?void 0:ee.followed_by_me)?es:null==t?void 0:t.followed_by_me),eT=V(),eD={isCustom:eg,url:eT,position:(0,m.Bw)(ey)},eA=(0,m.Jx)((null==en?void 0:en.images)&&en.images["170x"],null!=(eu=null==t||null==(ec=t.pin_thumbnail_urls)?void 0:ec.filter(function(e){return null!==e}))?eu:void 0,eT).map(function(e){var t=e.url;return{name:(0,m.po)(t),url:t}}),ek=(null==ej?void 0:ej.id)===U,eR=[ej].concat(function(e){if(Array.isArray(e))return P(e)}(ea=em||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(ea)||O(ea)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).filter(function(e){return e.id===U}).length>0,eM=z.isAuth&&K===z.username,eN=!(null==ee?void 0:ee.followed_by_me)&&!!(null==t?void 0:t.followed_by_me),ez=(eC||eN)&&eM&&(null==(ed=en.owner)?void 0:ed.is_private_profile),eL=!eC,eU=!0;if(null!=eI){var eH=Y.pathname.includes("/".concat(y.qV,"/")),eZ=eC&&!ek&&!eR;eU=eM&&!eH&&!eZ||eI}return(0,j.jsx)(a.xu,{"data-test-id":"profile-board-card",children:(0,j.jsx)(a.xu,{"data-test-id":"board-".concat(null!=ew?ew:""),onMouseEnter:function(){if(B){var e;null==(e=B.preload)||e.call(B,(0,_.ke)("[username]/[slug].js"))}},children:(0,j.jsx)(p.Z,{archivedDate:null!=ep?ep:void 0,boardId:ev,boardKey:t?{type:"deprecated",data:t}:null,boardUrl:eE,canEdit:n,containerBackgroundColor:ep?"#f6f6f6":void 0,coverPhoto:eT?eD:null,display:S,followButtonDisabled:eL,followedByMe:eC,fullSizeDrawer:!0,handleInviteResponse:function(e){et(e)},hideMeta:!1,id:ev,imagesLego:eA,invite:I,isActive:E,isAuthenticated:L,isBoardInviteAccepted:Z,isCollaborative:!!eb,isCollaborator:eR,isOwner:ek,isProtected:"protected"===eO,isSecret:"secret"===eO,isTemporarilyDisabled:void 0!==e_&&e_,lastModifiedDate:null!=eh?eh:"",layout:"square"===C?"square":"wide",lineClamp:T,locale:G,name:null!=ew?ew:"",numberOfCollaborators:null!=(ef=null==em?void 0:em.length)?ef:0,numCols:ez?2:4,onEditClick:A,onUnfollow:function(e){return q((0,v.f)(e,X))},pinCount:ex||void 0,sectionCount:null!=eP?eP:0,sensitivityScreen:eS,showBoardCollaborators:eU,showFollowButton:ez,slotIndex:k,trackingParams:null==t?void 0:t.tracking_params,viewerId:U,viewParameter:R,viewType:M})})})}return null}},55383:function(e,t,n){"use strict";n.d(t,{Lz:function(){return i},qV:function(){return r},sz:function(){return o}});var r="_profile",o={enabled_with_unorganized_feed:"enabled_with_unorganized_feed",enabled_with_log_fix:"enabled_with_log_fix",enabled_old:"enabled_old"},i=506467},932226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(132227),o=n(852015),i=n(233846),a=n(51340),l=n(142212),s=n(538645),u=n(19035),c=l.K_Y+"?source=block_dialogue";function d(e){var t=e.firstName,n=e.onBlockUser,l=e.onClearModal,d=(0,i.ZP)(),f=(0,s.HG)(),p=(0,a.nk)(d._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:t}).join(""),h=(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xv,{children:d._('You\u2019ll still be able to see each other\u2019s profiles, but won\u2019t be able to message, follow or save each other\u2019s Pins.', 'blockingUsers.descriptionPart1', 'description of blocking users')}),(0,u.jsx)(r.xu,{marginTop:4,children:(0,u.jsx)(r.xv,{children:d._('People aren\u2019t notified when you block them. To manage your block list, visit Social permissions.', 'blockingUsers.descriptionPart2', 'description of blocking users part 2')})})]});return f?(0,u.jsxs)(o.ZP,{accessibilityModalLabel:p,footer:(0,u.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,onClick:l,size:"lg",text:d._('Never mind', 'blockUser.modal.neverMind', 'Cancel blocking a user')})}),(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:d._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]}),heading:p,onDismiss:l,role:"alertdialog",size:"md",children:[(0,u.jsx)(r.xu,{"data-test-id":"block-text",marginEnd:6,marginStart:6,children:(0,u.jsx)(r.xv,{children:h})}),(0,u.jsx)(r.xu,{marginEnd:6,marginStart:6,marginTop:4,children:(0,u.jsx)(r.xv,{color:"default",weight:"bold",children:(0,u.jsx)(r.rU,{href:c,target:"blank",children:d._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]}):(0,u.jsxs)(o.ZP,{accessibilityModalLabel:p,mobileHideCloseIcon:!0,onDismiss:l,type:"block_button",children:[(0,u.jsx)(r.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,u.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:p})}),(0,u.jsx)(r.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:h}),(0,u.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,onClick:l,size:"md",text:d._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user')})}),(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:n,size:"md",text:d._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user')})})]})]})}},130371:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(132227),o=n(852015),i=n(233846),a=n(51340),l=n(538645),s=n(19035);function u(e){var t=e.onDismiss,n=e.firstName,u=e.handleUnfollowUser,c=(0,i.ZP)(),d=(0,l.HG)(),f=(0,a.nk)(c._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:n}).join(""),p=c._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),h=c._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),m=c._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return d?(0,s.jsx)(o.ZP,{accessibilityModalLabel:f,footer:(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:t,size:"lg",text:h})}),(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:u,size:"lg",text:m})})]}),heading:f,onDismiss:t,role:"alertdialog",size:"md",children:(0,s.jsx)(r.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,s.jsx)(r.xv,{children:p})})}):(0,s.jsxs)(o.ZP,{accessibilityModalLabel:f,mobileHideCloseIcon:!0,onDismiss:t,type:"unFollow_button",children:[(0,s.jsx)(r.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,s.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:f})}),(0,s.jsx)(r.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,s.jsx)(r.xv,{children:p})}),(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:t,size:"md",text:h})}),(0,s.jsx)(r.xu,{padding:1,children:(0,s.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:u,size:"md",text:m})})]})]})}},617100:function(e,t,n){"use strict";n.d(t,{DD:function(){return d},lg:function(){return f},Th:function(){return h},YH:function(){return s},wH:function(){return l},IU:function(){return p},L8:function(){return c}});var r=n(578373),o=n(397657),i=n(312702),a=n(875202);function l(e){var t=e.didItDataId,n=e.isLikedByMe,r=e.orbacSubjectId;return function(e){return(0,o.Z)({url:"/v3/did_it/".concat(t,"/like/"),method:n?"DELETE":"POST",data:r?{orbac_subject_id:r}:{}}),e({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:t,liked_by_me:!n}})}}function s(e){var t=e.didItDataId,n=e.isMarkedHelpfulByMe,r=e.orbacSubjectId;return function(e){return(0,o.Z)({url:"/v3/helpful/2/".concat(t,"/"),method:n?"DELETE":"POST",data:r?{orbac_subject_id:r}:{}}),e({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:t,marked_helpful_by_me:!n}})}}function u(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function d(e){var t=e.aggregatedPinDataId,n=e.details,o=e.fromUnifiedComment,l=e.image_signatures,s=e.pin_id,u=e.username,d=e.updateParentDidItCount,f={aggregatedPinDataId:t,details:n,image_signatures:l,pin_id:s};return function(e){return r.Z.create("DidItActivityResource",f).callCreate().then(function(n){var r=n.resource_response.data;e({type:"PIN_DID_IT",payload:{id:s,value:!0}}),e({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:r}}),e((0,i.vX)({feedId:t,feedType:o?a.Z.UNIFIED_COMMENTS:a.Z.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),e((0,i.vX)({feedId:u,feedType:a.Z.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),d&&e(c(t,1))},function(){})}}function f(e){var t=e.aggregatedPinDataId,n=e.feedType,o=e.id,l=e.isOwnedByMe,s=e.pinId,d=e.username,f=e.updateParentDidItCount;return function(e){r.Z.create("DidItActivityResource",{user_did_it_data_id:o,pinId:s}).callDelete().then(function(){l&&e({type:"PIN_DID_IT",payload:{id:s,value:!1}}),e(u(o)),e((0,i.EX)({feedId:null!=t?t:"",feedType:n||a.Z.TRIED_IT_FEED,itemIds:[o],itemType:"userdiditdata"})),e((0,i.EX)({feedId:d,feedType:a.Z.TRIED_IT_FEED,itemIds:[o],itemType:"userdiditdata"})),e((0,i.EX)({feedId:d,feedType:a.Z.UNIFIED_COMMENTS,itemIds:t?[t]:[],itemType:"userdiditdata"})),f&&e(c(o,-1))},function(){})}}function p(e){var t=e.id,n={details:e.details,image_signatures:e.image_signatures,user_did_it_data_id:t,pin_id:e.pinId};return function(e){r.Z.create("DidItActivityResource",n).callUpdate().then(function(t){e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:t.resource_response.data}})},function(){})}}function h(e,t,n,r,l){return function(s){(0,o.Z)({url:"/v3/did_it/".concat(n,"/flag/"),method:"PUT",data:{reason:r,detailed_reasons:t,explanation:void 0}}).then(function(){s(u(n)),e&&s((0,i.EX)({feedId:e,feedType:a.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),s((0,i.EX)({feedId:l,feedType:a.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))},function(){})}}},992110:function(e,t,n){"use strict";function r(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:function(){return r}})},739951:function(e,t,n){"use strict";function r(e){return{type:"PIN_QUICK_SAVE",payload:e}}function o(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{X:function(){return o},d:function(){return r}})},506536:function(e,t,n){"use strict";function r(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}n.d(t,{Z:function(){return r}})},346892:function(e,t,n){"use strict";n.d(t,{H5:function(){return f},Nq:function(){return d},Q_:function(){return p},bJ:function(){return h}});var r=n(578373),o=n(18644),i=n(645222),a=n(680877);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t,n,l=e.updateUserData,u={},d=null;if(l.gender&&[a.W1,a.UV].includes(l.gender)?u.gender=l.gender:l.custom_gender&&(u.custom_gender=l.custom_gender,u.customGender=l.custom_gender,u.gender=a.vF),l.age?u.age=l.age:l.birthdate&&(u.birthdate=l.birthdate),l.locale&&(u.locale=l.locale),l.country&&(u.country=l.country),l.business_vertical&&(u.businessVertical=l.business_vertical),l.business_vertical_other&&(u.businessVerticalOther=l.business_vertical_other),l.number_employees&&(u.numberEmployees=l.number_employees),l.first_name&&(u.firstName=l.first_name),l.last_name&&(u.lastName=l.last_name),l.full_name&&(u.fullName=l.full_name),l.parent_email&&(u.parentEmail=l.parent_email),l.website_url&&(u.websiteUrl=l.website_url),l.listed_website_url&&(u.listedWebsiteUrl=l.listed_website_url),void 0!==l.allow_analytic_cookies&&(u.allow_analytic_cookies=l.allow_analytic_cookies),void 0!==l.allow_analytic_cookies&&(u.allow_marketing_cookies=l.allow_marketing_cookies),void 0!==l.allow_analytic_cookies&&(u.allow_personalization_cookies=l.allow_personalization_cookies),l.advertising_intent||l.business_name||l.account_type||l.business_goals||l.selected_ecommerce_platforms||l.enable_profile_message||l.enable_profile_address){var f=l.account_type,p=l.advertising_intent,h=l.business_name,m=l.business_goals,y=l.enable_profile_message,g=l.enable_profile_address,v=l.selected_ecommerce_platforms;d=c(c(c(c(c(c(c({},p?{advertising_intent:p}:{}),f?{account_type:f}:{}),h?{business_name:h}:{}),m?{business_goals:m}:{}),y?{enable_profile_message:y}:{}),g?{enable_profile_address:g}:{}),v?{selected_ecommerce_platforms:v}:{})}d&&(u.partner=d,d.business_name&&(u.firstName=d.business_name));var b=r.Z.create("UserSettingsResource",c(c({},l),{},{surface_tag:i.i.NUX})).callUpdate();return t=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b;case 3:return n=e.sent,t({type:"UPDATE_USER_SET",payload:u}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(Error((0,o.Z)(e.t0,"message"))));case 11:case"end":return e.stop()}},e,null,[[0,8]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)}}function f(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function p(e,t){return function(){r.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return r.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}},875202:function(e,t){"use strict";t.Z={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",AUTOMAGICAL_BOARD_FEED:"automagical-board-feed",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",USE_CASE_TAB:"useCaseFeed",TRIED_IT_FEED:"trieditfeed"}},332245:function(e,t,n){"use strict";n.d(t,{MM:function(){return a},Y8:function(){return i},bl:function(){return l},qj:function(){return s}});var r=n(51340),o=n(761732);function i(e,t){return e?t._('Title too long. Make sure all cards\' titles have less than 100 characters', 'Title entered is too long while editing a carousel pin and/or one of its pins', 'Title entered is too long while editing a carousel pin and/or one of its pins'):t._('Title too long. Make sure title has less than 100 characters', 'Title entered is too long while editing a pin', 'Title entered is too long while editing a pin')}function a(e,t){return e?t._('Description too long. Make sure all cards\' descriptions have less than 500 characters', 'Description entered is too long while editing a carousel pin and/or one of its pins', 'Description entered is too long while editing a carousel pin and/or one of its pins'):(0,r.nk)(t._('Description too long. Make sure description has less than {{ limit }} characters', 'editPinModal.errorMessages.descriptionError', 'Description entered is too long while editing a pin. limit: the maximum number of characters allowed'),{limit:o.JO}).join("")}function l(e,t){return t._('Too many mentions. Make sure you have at most 5.', 'editPinModal.errorMessages.userMentionOverLimit', 'Too many mentions used in the description')}function s(e,t){return e?t._('Need to provide a valid URL. Make sure all cards\' links are valid', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins', 'Invalid URL/link provided while editing a carousel pin and/or one of its pins'):t._('Need to provide a valid URL. Make sure the link is valid', 'Invalid URL/link provided while editing a pin', 'Invalid URL/link provided while editing a pin')}},486738:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(258712),o=n(132227),i=n(397657),a=n(41086),l=n(233846),s=n(51340),u=n(653810),c=n(47829),d=n(19035);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}var w=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&m(l,e);var t,n,r=(t=g(),function(){var e,n=v(l);return e=t?Reflect.construct(n,arguments,v(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function l(){var e;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return b(y(e=r.call.apply(r,[this].concat(n))),"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),b(y(e),"onDismiss",function(){}),b(y(e),"mounted",!1),b(y(e),"addHashtag",function(t){e.props.addHashtag(t),e.setState({recommendations:[]})}),b(y(e),"handleKeyDown",function(t){t.keyCode===u.Z.UP?e.handlePrevHashtag(t):t.keyCode===u.Z.DOWN?e.handleNextHashtag(t):t.keyCode===u.Z.ESCAPE?e.handleClose(t):t.keyCode===u.Z.ENTER&&e.handleSubmit(t)}),b(y(e),"handlePrevHashtag",function(t){t.preventDefault(),e.state.selectedIndex>0&&e.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),b(y(e),"handleNextHashtag",function(t){t.preventDefault(),e.state.selectedIndex<e.state.recommendations.length-1&&e.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),b(y(e),"handleClose",function(t){t.preventDefault(),e.setState({recommendations:[]})}),b(y(e),"handleSubmit",function(t){t.preventDefault(),e.addHashtag(e.state.recommendations[e.state.selectedIndex].query)}),b(y(e),"callResource",function(t){(0,e.props.makeCancelablePromise)((0,i.Z)({url:"/v3/search/autocomplete/",data:{q:t,show_pin_count:!0}}),"typeahead").then(function(t){if(e.mounted){var n=t.resource_response.data;e.setState({recommendations:n.slice(0,5),resourceLoaded:!0})}}).catch(function(t){t.isCanceled||e.setState({resourceLoaded:!1})})}),e}return n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.recommendations,r=t.resourceLoaded,i=t.selectedIndex,l=this.props,u=l.anchor,c=l.idealDirection,f=n.filter(function(e){return e.query}),p="flyout_"+f.length;return r&&f.length>0?(0,d.jsx)(o.J2,{anchor:u,idealDirection:c||"down",onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)(o.xu,{width:"100%",zIndex:new o.Ry(3),children:f.length>0?f.map(function(t,n){return(0,d.jsx)(o.iP,{fullWidth:!1,onTap:function(){return e.addHashtag(t.query)},children:(0,d.jsxs)(o.xu,{alignItems:"center",color:n===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:t.query})}),(0,d.jsx)(o.xu,{flex:"none",children:(0,d.jsx)(o.xv,{inline:!0,size:"100",children:(0,s.nk)(e.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(t.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,d.jsx)(a.Z,{value:Number(t.pin_count)},"pinCount")})})})]})},t.query)}):null})},p):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}(l.prototype,n),Object.defineProperty(l,"prototype",{writable:!1}),l}(r.Component);function j(e){var t=(0,l.ZP)(),n=(0,c.Z)();return(0,d.jsx)(w,h(h({},e),{},{i18n:t,makeCancelablePromise:n}))}},640018:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(258712),o=n(132227),i=n(95460),a=n(233846),l=n(181710),s=n(19035);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var d=(0,r.lazy)(function(){return Promise.all([n.e(99476),n.e(61116)]).then(n.bind(n,780690))});function f(e){var t=(0,a.ZP)();return(0,s.jsx)(i.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,s.jsx)(l.Z,{fallback:(0,s.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,s.jsx)(o.xH,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,s.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e))})})}},238872:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",FOLLOW_INVITE:"follow_invite"}},316792:function(e,t,n){"use strict";n.d(t,{UG:function(){return y},ZP:function(){return v},aG:function(){return g}});var r=n(258712),o=n(132227),i=n(971518),a=n(233846),l=n(349057),s=n(693687),u=n(677316),c=n(538645),d=n(882368),f=n(270209),p=n(19035);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest",responsive:"responsive"},g={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},bubbleOverlayHovered:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}}};function v(e){var t=e.backgroundColor,n=e.bubbleId,m=e.bubbleUrl,v=e.coverImageUrl,b=e.curator,_=e.font,w=e.format,j=e.height,x=e.identifierIconType,O=e.onTap,P=e.pwtSurfaceContext,S=e.referringSource,I=e.subtitle,E=e.title,C=e.buttonFormat,T=e.contentAlign,D=e.textAlign,A=void 0===D?"center":D,k=e.width,R=void 0===k?"100%":k,M=(0,a.ZP)(),N=(0,u.Z)(),z=(0,c.HG)(),L=h((0,r.useState)(!1),2),U=L[0],H=L[1],Z=(0,d.Z)(),F=Z.isAuth?null==Z?void 0:Z.avatar_color_index:void 0,B=h((0,r.useState)("string"==typeof j?void 0:j),2),W=B[0],G=B[1];if(!W)return(0,p.jsx)(o.xu,{ref:function(e){e&&G(e.offsetWidth*("string"==typeof j?Number.parseFloat(j):100)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof j?Number.parseFloat(j)+"%":"100%",width:R}}});var V=w===y.article,K=w===y.interest,Y=_||W>250&&"lg"||W>140&&w&&[y.medium,y.small,y.article].includes(w)&&"md"||W<120&&w&&w===y.small&&"xs"||"sm",q=!!x&&(0,s.Z)(x);return(0,p.jsx)(o.xu,{"data-test-id":"search-suggestion","data-test-type":S,onMouseEnter:function(){return z?H(!0):void 0},onMouseLeave:function(){return z?H(!1):void 0},position:"relative",children:(0,p.jsx)(f.M,{isAppUpsellDisabled:!0,onTouch:function(){O&&(N({action:"click",item:"search-suggestion"}),O(n))},rounding:4,to:m,children:(0,p.jsxs)(o.zd,{rounding:4,children:[(0,p.jsx)(o.xu,{height:W,width:R,children:v&&(0,p.jsx)(o.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:function(){(0,l.Nx)("RenderSearchLandingPageBubbles"),P&&P.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:v})}),(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:U?g.bubbleOverlayHovered:g.bubbleOverlay,height:W,left:!0,position:"absolute",top:!0,width:R}),b&&!V&&(0,p.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,p.jsx)(i.qE,{color:F,name:b.full_name,outline:!0,size:"xs",src:b.image_small_url})}),q&&(0,p.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,p.jsx)(o.JO,{accessibilityLabel:M._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:q,size:12})}),(0,p.jsx)(o.xu,{alignItems:V||K?"end":"center",display:"flex",height:W,justifyContent:void 0===T?"center":T,padding:V||K?6:W>100?3:1,position:"absolute",top:!0,width:R,children:(0,p.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[I&&(0,p.jsx)(o.xv,{align:A,color:"light",overflow:"normal",size:"lg"===Y?"300":"100",children:I}),["lg","md"].includes(Y)?(0,p.jsx)(o.X6,{align:A,color:"light",overflow:"normal",size:"md"===Y&&K?"600":"lg"===Y?"700":"400",children:E}):(0,p.jsx)(o.xv,{align:A,color:"light",overflow:"normal",size:"sm"===Y?"300":"100",weight:"bold",children:E}),b&&V&&(0,p.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,p.jsx)(o.xu,{marginEnd:2,children:(0,p.jsx)(i.qE,{name:b.full_name,outline:!0,size:"xs",src:b.image_small_url})}),(0,p.jsx)(o.xv,{color:"light",size:"100",weight:"bold",children:b.full_name})]}),C&&(0,p.jsx)(o.xu,{marginTop:4,children:(0,p.jsx)(o.ZP,{accessibilityLabel:C.accessibilityLabel,href:C.href,size:C.size,text:C.text})})]})})]})})})}},690566:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}}),n(53583);var r,o=n(132227),i=n(26234),a=n(219308),l=n(962119),s=n(857147),u=n(765575),c=n(316792),d=n(19035);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=void 0!==r?r:r=n(4466),y=function(e){var t=e.storyCategory,n=e.query,r=e.referringSource,o=e.bubbleId,a=e.storyId,l=e.title,u=null!=t&&(0,i.y)(t),c=(0,s.XP)({q:n,rs:r||void 0,b_id:o,source_id:a}),d=u&&l?(0,i.x)({title:l,id:o,articleType:"discover"}):"/discover/article/".concat(o,"/");return u?d:"/search/pins/".concat(c?"?"+c:"")};function g(e){var t,n,r,i,s,f,p,g,v,b,_,w,j,x=e.auxData,O=e.bubbleKey,P=e.font,S=e.format,I=e.height,E=e.onTouch,C=e.pwtSurfaceContext,T=e.referringSource,D=e.slotIndex,A=e.storyId,k=e.viewParameter,R=e.viewType,M=e.width,N=void 0===M?"100%":M,z=(0,l.Z)(m,O),L=(0,a.Z)();if(null==z||!(null!=(t=z.coverImage236x)&&null!=(n=t[0])&&n.url)&&!(null!=(r=z.coverImage474x)&&null!=(i=r[0])&&i.url)||!(null!=(s=z.articleTitle)&&s.format))return null;var U=null!=(f=z.curator)&&f.fullName&&z.curator.imageSmallUrl?{full_name:z.curator.fullName,image_small_url:z.curator.imageSmallUrl}:void 0,H=(null==(p=z.coverImage474x)||null==(g=p[0])?void 0:g.url)||(null==(v=z.coverImage236x)||null==(b=v[0])?void 0:b.url),Z=(null==(_=z.action)?void 0:_.url)||y({storyCategory:z.storyCategory,query:null==(w=z.articleTitle)?void 0:w.format,referringSource:T,bubbleId:z.entityId,storyId:A,title:null==(j=z.articleTitle)?void 0:j.format}),F=S===c.UG.article?13865:200,B=S===c.UG.article?102:6940,W=function(e){if(L({component:F,event_type:B,object_id_str:e,view_parameter:k,view_type:R,aux_data:h({article_id:e,grid_index:D},x)}),E){var t,n;E({query:null!=(t=null==(n=z.articleTitle)?void 0:n.format)?t:""})}},G=z.dominantColors&&z.dominantColors.length?z.dominantColors[0]:void 0;return(0,d.jsx)(u.fv,{auxData:h({story_id:A},x),impressionData:{storyCategory:z.storyCategory,storyIdStr:A},loggingId:A,slotIndex:D,viewParameter:k,viewType:R,children:function(e){var t,n,r=e.impressionTrackerRef;return(0,d.jsx)(o.xu,{ref:r,children:(0,d.jsx)(c.ZP,{backgroundColor:G,bubbleId:z.entityId,bubbleUrl:Z,coverImageUrl:H,curator:U,font:P,format:S,height:I,identifierIconType:z.identifierIconType,onTap:W,pwtSurfaceContext:C,referringSource:T,title:null!=(t=null==(n=z.articleTitle)?void 0:n.format)?t:"",width:N})})}})}},932541:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(545007),o=n(132227),i=n(233846),a=n(51340),l=n(903683),s=n(945011),u=n(19035);function c(e){var t,n,c,d,f,p,h,m,y,g,v,b=e.triedItId,_=(0,i.ZP)(),w=(0,r.v9)(function(e){return e.triedits[b]}),j=(0,s.mN)()(null!=(t=w.user)?t:""),x=(0,l.S6)()(null!=(n=w.pin)?n:"");return x&&j?(0,u.jsxs)(o.xu,{children:[(0,u.jsxs)(o.xu,{alignItems:"center",column:12,display:"flex",children:[(0,u.jsx)(o.sg,{span:2,children:(0,u.jsx)(o.xu,{marginEnd:1,children:(0,u.jsx)(o.HE,{accessibilityLabel:_._('User`s avatar', 'User`s avatar', 'User`s avatar'),collaborators:[{name:null!=(c=j.full_name)?c:"",src:j.image_medium_url||j.image_large_url||void 0,color:j.avatar_color_index||void 0}],href:"/".concat(encodeURIComponent(j.username),"/"),role:"link"})})}),(0,u.jsx)(o.sg,{span:2,children:(0,u.jsx)(o.xu,{marginEnd:2,children:(0,u.jsx)(o.Tg,{href:"/pin/".concat(x.id,"/"),rounding:2,tapStyle:"none",children:(0,u.jsx)(o.zd,{rounding:2,wash:!0,children:(null==(d=x.images)||null==(f=d["136x136"])?void 0:f.url)&&(0,u.jsx)(o.Ee,{alt:x.description||"",color:"#767676",naturalHeight:136,naturalWidth:136,src:null==(p=x.images)?void 0:p["136x136"].url})})})})}),(0,u.jsx)(o.sg,{span:8,children:(0,u.jsx)(o.xv,{size:"200",weight:"bold",children:(0,u.jsx)(o.rU,{href:"/pin/".concat(x.id,"/"),tapStyle:"none",children:(0,a.nk)(_._('{{ name }} tried this Pin', ' - ', ' -- '),{name:j.full_name})})})})]}),(null==w||null==(h=w.images)||null==(m=h[0])?void 0:m["550x"])&&(0,u.jsx)(o.xu,{marginTop:2,children:(0,u.jsx)(o.zd,{rounding:2,children:(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:(0,u.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:w.images[0]["550x"].url&&(0,u.jsx)(o.Ee,{alt:null!=(y=w.details)?y:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:w.images[0]["550x"].url})})})})}),(0,u.jsxs)(o.xu,{column:10,marginTop:2,children:[!!(null!=w&&w.like_count)&&w.like_count>0&&(0,u.jsx)(o.xu,{paddingY:1,children:(0,u.jsx)(o.xv,{color:"subtle",inline:!0,size:"100",children:(0,u.jsx)(o.rU,{display:"inlineBlock",href:"/tried_it/".concat(encodeURIComponent(null!=(g=w.id)?g:""),"/likes/"),rounding:2,underline:"hover",children:(0,a.nk)(_.ngettext('1 person likes this', '{{ count }} people like this', null != (v = w.like_count) ? v : 0, 'person or people liking a given tried it', 'person or people liking a given tried it'),{count:w.like_count})})})}),(0,u.jsx)(o.xv,{children:null==w?void 0:w.details})]})]}):null}},906417:function(e,t,n){"use strict";n.d(t,{X:function(){return f},f:function(){return d}});var r=n(258712),o=n(218291),i=n(158759);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,auxData:t.payload.auxData,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=n(19035);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,o.Z)("ReportData"),c=u.Provider,d=u.useHook;function f(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(a,null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{i=(n=n.call(e)).next,!1;for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=o[0],d=o[1],f=(0,r.useCallback)(function(){return d({type:"REPORT_CONTENT_DISMISS"})},[]),p=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:n,nodeId:null}})},[]),h=(0,r.useCallback)(function(e,t,n){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"conversation",nodeId:null}})},[]),m=(0,r.useCallback)(function(e){return d({type:"REPORT_CONTENT_SHOW",payload:{id:e.id,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:e.viewParameter,viewType:e.viewType,type:"pin",nodeId:e.nodeId}})},[]),y=(0,r.useCallback)(function(e){var t=e.pinId,n=e.isDownstreamPromotion,r=e.hasPromoter,o=e.firstVideoDuration,a=e.isProduct,l=e.viewParameter,s=e.viewType,u=e.isThirdPartyAd,c=e.nodeId;d({type:"REPORT_CONTENT_SHOW",payload:{id:t,auxData:e.auxData,isProduct:a,isPromoted:(0,i.jL)(n,r),videoDuration:o,viewParameter:l,viewType:s,type:"pin",isThirdPartyAd:u,nodeId:c}})},[]),g=(0,r.useMemo)(function(){return{reportData:u,dismiss:f,reportComment:p,reportConversation:h,reportImage:m,reportPin:y}},[u,f,p,h,m,y]);return(0,l.jsx)(c,{value:g,children:n})}},821332:function(e,t,n){"use strict";n.d(t,{ZP:function(){return B}});var r,o,i=n(258712);n(57855);var a=n(132227),l=n(19963),s=n(182997),u=n(962119),c=n(131714),d=n(967312),f=n(174646),p=n(406706),h=n(422908),m=n(113329);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=["eventData","component","objectId","view","viewParameter"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var b=n(992114),_=n(757653),w=n(19035);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var x=["height","width","windowHeight","windowWidth","viewability"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return(t=D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function A(e,t){if(e){if("string"==typeof e)return k(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=(0,_.Z)(function(){return Promise.all([n.e(97270),n.e(93041),n.e(78716),n.e(95813)]).then(n.bind(n,380122))},void 0,function(e){return 380122},"app-www-video-VideoWrapper"),M=[0,.25,.5,.75,.95,.97],N=[0,.5,.8,.99,1],z={rootMargin:"-64px 0px 0px 0px",threshold:function(e){if(Array.isArray(e))return k(e)}(r=m.iM)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||A(r)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()},L=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3}),U=void 0!==o?o:o=n(421018);function H(){return new Date().getTime()}function Z(e){return!!e.volume&&e.volume>0}var F=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&S(o,e);var t,n,r=(t=E(),function(){var e,n=C(o);return e=t?Reflect.construct(n,arguments,C(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function o(e){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");T(I(t=r.call(this,e)),"videoWrapperRef",(0,i.createRef)()),T(I(t),"handleWindowResize",function(){if(!t.fullscreen){var e=t.getDimensions(),n=t.currentInterval,r=n.height,o=n.width;e.height!==r||e.width!==o?(t.lastLoggedTime.startTime=0,t.startNewInterval(e)):(t.currentInterval.windowHeight=e.windowHeight,t.currentInterval.windowWidth=e.windowWidth)}}),T(I(t),"handlePlayheadDown",function(e){var n=e.event,r=t.props.onPlayheadDown;t.setState({seeking:!0}),r&&r({event:n})}),T(I(t),"handlePlayheadUp",function(e){var n=e.event,r=t.props.onPlayheadUp;t.setState({seeking:!1}),r&&r({event:n})}),T(I(t),"handleLoop",function(){t.videoTime=0}),T(I(t),"handlePlaying",function(e){t.logVideoStart(),t.props.onPlaying&&t.props.onPlaying(e)}),T(I(t),"handleTimeChange",function(e){var n=t.state,r=n.seeking,o=n.ready;if(t.currentInterval.videoDuration){var i=1e3*e.time,a=function(e,t,n,r){if(e>t||n<=0)return null;var o,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=A(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(r);try{for(i.s();!(o=i.n()).done;){var a=o.value,l=a*n;if(e<=l&&t>l)return a}}catch(e){i.e(e)}finally{i.f()}return null}(t.videoTime,i,t.currentInterval.videoDuration,M);if("number"==typeof a&&t.props.playing&&!r&&o){var l=H();t.props.isMetricThrottleExpEnabled?t.isVideoEventLogIntervalMet("currentTime")&&t.logVideoEvent(6906,P(P({},t.currentInterval),{},{startTime:l,endTime:l,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})):t.logVideoEvent(6906,P(P({},t.currentInterval),{},{startTime:l,endTime:l,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}))}t.videoTime=i,t.props.onTimeChange&&t.props.onTimeChange(e)}}),T(I(t),"handleDurationChange",function(e){t.currentInterval.videoDuration=1e3*e.duration,t.props.onDurationChange&&t.props.onDurationChange(e)}),T(I(t),"handleReady",function(e){t.state.ready||(t.lastLoggedTime.startTime=0,t.setState({ready:!0})),t.props.onReady&&t.props.onReady(e)}),T(I(t),"handleEnded",function(e){t.props.isMetricThrottleExpEnabled?t.isVideoEventLogIntervalMet("endTime")&&t.logFourthQuartileEvent():t.logFourthQuartileEvent(),t.props.loop&&(t.startNewInterval(),t.currentInterval.videoStartTime=0),t.props.onEnded&&t.props.onEnded(e)}),T(I(t),"handleVisibilityChange",function(e){if(0!==e.length){var n=function(e){for(var t=0;t<N.length;t+=1){var n=N[t],r=N[t+1];if(null==r||n<=e&&e<r)return n}return null}(Number.parseFloat(e.slice(-1)[0].intersectionRatio.toFixed(2)));"number"==typeof n&&(t.visible=n>=.5),null==n||n===t.currentInterval.viewability||t.fullscreen||(0===n?t.startNewInterval({viewability:n,playbackState:L.PAUSED}):t.startNewInterval({viewability:n}))}}),T(I(t),"handleFullscreenChange",function(e){var n=e.event,r=e.fullscreen;if(r){var o=window.screen,i=o.height,a=o.width;t.startNewInterval({height:i,width:a,windowHeight:i,windowWidth:a})}else r||t.startNewInterval(t.getDimensions());t.fullscreen=r,t.props.onFullscreenChange&&t.props.onFullscreenChange({event:n,fullscreen:r})}),T(I(t),"handleClose",function(){t.startNewInterval()}),t.state={ready:!1,seeking:!1,started:!1};var t,n=H();return t.handleWindowResize=(0,s.Z)(t.handleWindowResize,1e3),t.currentInterval={videoDuration:0,startTime:n,endTime:n,videoStartTime:0,videoEndTime:0,isAudible:Z(e),playbackState:t.getPlaybackState(e,t.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},t.videoTime=0,t.fullscreen=!1,t.visible=null,t.lastLoggedTime={startTime:0,endTime:0,currentTime:0},t}return n=[{key:"componentDidMount",value:function(){this.currentInterval=P(P({},this.currentInterval),this.getDimensions()),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}},{key:"componentDidUpdate",value:function(e,t){var n={};Z(e)&&!Z(this.props)?n.isAudible=!1:!Z(e)&&Z(this.props)&&(n.isAudible=!0);var r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}},{key:"getPlaybackState",value:function(e,t){return t.ready?e.playing&&!t.seeking?L.PLAYING:L.PAUSED:L.LOADING}},{key:"getDimensions",value:function(){if(this.videoWrapperRef.current){var e,t,n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logMetricStat",value:function(e){var t,n=this.props.requestContext,r=(null==n?void 0:n.userAgent)||{},o={appType:r.isMobile||r.isTablet?"WEB_MOBILE":"WEB_DENZEL",country:null!=(t=null==n?void 0:n.country)?t:"unknown",browserName:r.browserName,osName:r.osName,browserType:r.browserType,browserVersion:r.browserVersion,type:e};(0,b.nP)("".concat("webapp.metrics.videoLogging.skippedEvents"),{tags:o})}},{key:"isVideoEventLogIntervalMet",value:function(e){var t=H();return 250>Math.abs(t-this.lastLoggedTime[e])?(this.logMetricStat(e),!1):(this.lastLoggedTime[e]=t,!0)}},{key:"logVideoEvent",value:function(e,t){var n=this.props,r=n.closeupStoryPinViewability,o=n.contextLogData,i=n.logContextEvent,a=n.playing,l=n.surface,s=this.state.seeking,u=t.height,c=t.width,d=t.windowHeight,f=t.windowWidth,p=t.viewability,h=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,x);if(null!=u&&null!=c&&null!=d&&null!=f&&null!=p){var m,b,_,w,j,O,S,I,E,C,T,D,A,k,R,M,N,z=P(P({},h),{},{gridAutoplay:6904===e&&a&&!s&&("AuthHomefeed"===l||"SearchItem"===l||"RelatedPinGrid"===l||"PdpRelatedPinGrid"===l),height:u,width:c,windowHeight:d,windowWidth:f,viewability:r||p});i(P({event_type:e},(_=(b=(m=P(P({},o),{},{view:this.fullscreen?108:o.view,eventData:{videoEvent:z}})).eventData.videoEvent).gridAutoplay,w=b.videoDuration,j=b.startTime,O=b.endTime,S=b.videoStartTime,I=b.videoEndTime,E=b.isAudible,C=b.height,T=b.width,D=b.playbackState,A=b.quartile,k=b.quartilePercentValue,R=b.windowHeight,M=b.windowWidth,N=b.viewability,{component:m.component,object_id_str:m.objectId,view_type:m.view,view_parameter:m.viewParameter,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(m,g)),event_data:{videoEventData:{gridAutoplay:_,videoDuration:w?Math.floor(w):0,time:j,endTime:O,videoTime:S?Math.floor(S):0,endVideoTime:I?Math.floor(I):0,isAudible:E,height:C,width:T,playbackState:D,quartile:A,quartilePercentValue:k,windowHeight:R,windowWidth:M,viewability:N}}})))}}},{key:"logFourthQuartileEvent",value:function(){var e=H();this.logVideoEvent(6906,P(P({},this.currentInterval),{},{startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1}))}},{key:"logVideoStart",value:function(){if(!this.state.started){var e=this.props,t=e.contextLogData,n=e.setVideoPlayed;if(e.shouldLogVideoStart){var r=H();this.logVideoEvent(3621,P(P({},this.currentInterval),{},{startTime:r,endTime:r,videoEndTime:this.videoTime}))}n(t.objectId),this.setState({started:!0})}}},{key:"startNewInterval",value:function(e){var t=H();this.props.isMetricThrottleExpEnabled?this.isVideoEventLogIntervalMet("startTime")&&this.logVideoEvent(6904,P(P({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})):this.logVideoEvent(6904,P(P({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=P(P(P({},this.currentInterval),e),{},{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.rootMargin,r=t.surface,o=t.aspectRatio,i=t.backgroundColor,l=t.captions,s=t.contextLogData,u=t.controls,d=t.fallback,f=t.hlsConfig,h=t.isAutoPlay,m=t.loop,y=t.objectFit,g=t.onLoadedChange,v=t.onControlsPause,b=t.onControlsPlay,_=t.onSeek,j=t.onVolumeChange,x=t.pin,O=t.playbackRate,P=t.playing,S=t.playsInline,I=t.poster,E=t.preload,C=t.seekTime,T=t.src,D=t.videoStartTime,A=t.volume,k=t.video,M=t.variant,N=this.state.seeking;return void 0!==n&&(z.rootMargin=r?(0,p.eL)(r):n),(0,w.jsx)(c.Z,{onVisibilityChange:this.handleVisibilityChange,options:z,children:function(t){return(0,w.jsx)(a.xu,{ref:function(n){t.current=n,e.videoWrapperRef.current=n},height:"inherit",children:(0,w.jsx)(R,{aspectRatio:o,backgroundColor:i,captions:l,contextLogData:s,controls:u,fallback:d,hlsConfig:f,isAutoPlay:h,loop:m,objectFit:y,onControlsPause:v,onControlsPlay:b,onDurationChange:e.handleDurationChange,onEnded:e.handleEnded,onFullscreenChange:e.handleFullscreenChange,onLoadedChange:g,onLoop:e.handleLoop,onPlay:function(){},onPlayError:function(){},onPlayheadDown:e.handlePlayheadDown,onPlayheadUp:e.handlePlayheadUp,onPlaying:e.handlePlaying,onReady:e.handleReady,onSeek:_,onTimeChange:e.handleTimeChange,onVolumeChange:j,pinKey:x,playbackRate:O,playing:!N&&P,playsInline:S,poster:I,preload:E,seekTime:C,src:T,variant:M,video:k,videoStartTime:D,visible:e.visible,volume:A})})}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.Component);function B(e){var t=e.pinKey,n=(0,u.Z)(U,t),r=(0,l.v)().logContextEvent,o=(0,d.F)().checkExperiment,i=(0,h.r)().setVideoPlayed,a=o("web_video_start_log").anyEnabled,s=o("web_metric_video_throttle").anyEnabled,c=(0,f.B)();return(0,w.jsx)(F,P(P({},e),{},{isMetricThrottleExpEnabled:s,logContextEvent:r,pin:n,requestContext:c,setVideoPlayed:i,shouldLogVideoStart:a}))}T(F,"defaultProps",a.nk.defaultProps)},113329:function(e,t,n){"use strict";n.d(t,{Ul:function(){return i},VS:function(){return r},hy:function(){return a},iM:function(){return o},j4:function(){return l}});var r=2,o=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],i={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},a=128,l=function(e){return e&&document.querySelector('video[poster="'.concat(e,'"]'))||null}},380505:function(e,t,n){"use strict";n.d(t,{Z:function(){return tw}});var r=n(284987),o=n(258712),i=n(132227),a=n(675905),l=n(766202);function s(e){return e.forEach(function(e){return e&&e.content_items.forEach(function(t){t.content_object&&t.content_object.type===l.Ng.BOARD&&(t.content_object.credit=e.header_icon_objects[0])})}),e.reduce(function(e,t){return(e||[]).concat(t&&t.content_items||[])},[]).map(function(e){return e.content_object})}var u=n(587409),c=n(19035);function d(e){var t=e.header,n=e.subheader,r=e.textMapping;return(0,c.jsx)(i.W2,{children:(0,c.jsx)(i.xu,{marginBottom:6,marginTop:6,children:(0,c.jsxs)(i.xu,{paddingX:3,children:[(0,c.jsx)(i.X6,{align:"center",children:(0,c.jsx)(u.Z,{applyMarkup:!1,text:t,textMapping:r})}),n&&(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:6,children:(0,c.jsx)(i.xv,{children:(0,c.jsx)(u.Z,{applyLink:!0,text:n,textMapping:r})})})]})})})}var f=n(56063),p=n(113474);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var O=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&v(o,e);var t,n,r=(t=_(),function(){var e,n=w(o);return e=t?Reflect.construct(n,arguments,w(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function o(e){var t;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return j(b(t=r.call(this,e)),"state",{items:[]}),t.state={items:s(e.newsHubDetailsResource.data||[])},t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.props.newsHubDetailsResource.data||[],n=e.newsHubDetailsResource.data||[];n.length!==t.length&&this.setState(function(e){return{items:e.items.concat(s(((function(e){if(Array.isArray(e))return g(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return g(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).splice(n.length)))}})}},{key:"render",value:function(){var e=this.props,t=e.newsHubDetailsResource,n=e.newsSummary,r=n.detail_header,o=n.header_text,a=n.text_mapping,l=e.renderItem,s=this.state.items;return 0===s.length?null:(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(d,{header:r,subheader:o,textMapping:a}),(0,c.jsx)(i.xu,{padding:4,children:(0,c.jsx)(i.Rk,{columnWidth:f.yF,gutterWidth:(0,f.$q)(),items:s,loadItems:t.fetchMore,minCols:f.yc,renderItem:l,scrollContainer:function(){return window}})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function P(e){var t=(0,p.Z)({name:"NewsHubDetailsResource",options:{news_id:e.newsId,page_size:l.IV}});return(0,c.jsx)(O,y(y({},e),{},{newsHubDetailsResource:t}))}var S=n(1450),I=n(971518);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A={BOARD:"board",DID_IT:"userdiditdata",PIN:"pin",USER:"user"},k=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&C(o,e);var t,n,r=(t=T(),function(){var e,n=D(o);return e=t?Reflect.construct(n,arguments,D(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var n=e;if(void 0===n)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(this,e)});function o(){if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r.apply(this,arguments)}return n=[{key:"renderHeaderImage",value:function(e){var t=this.props.headerIconObjects,n=null==t?void 0:t[0];if(n){var r=n.id;switch(n.type){case A.PIN:var o=n.id,a=n.description,s=n.image_large_url,u=n.image_square_url,d=n.images[l.di];return(0,c.jsx)(i.Tg,{fullHeight:!0,href:"/pin/".concat(o,"/"),rounding:"circle",children:e?u&&(0,c.jsx)(i.xu,{height:"100%",overflow:"hidden",rounding:2,children:(0,c.jsx)(i.Ee,{alt:a||"",color:"white",fit:"cover",naturalHeight:(null==d?void 0:d.height)||48,naturalWidth:(null==d?void 0:d.width)||48,role:"img",src:u})}):(0,c.jsx)(i.xu,{height:60,overflow:"hidden",rounding:2,width:44,children:s&&(0,c.jsx)(i.Ee,{alt:null!=a?a:"",color:"white",fit:"cover",naturalHeight:60,naturalWidth:44,role:"img",src:s})})});case A.BOARD:var f=n.description,p=n.image_cover_url,h=n.url;return(0,c.jsx)(i.Tg,{href:h||"",rounding:"circle",children:(0,c.jsx)(i.xu,{display:"inlineBlock",height:48,overflow:"hidden",rounding:2,width:48,children:p&&(0,c.jsx)(i.Ee,{alt:f||"",naturalHeight:48,naturalWidth:48,src:p})})});case A.USER:var m=n.full_name,y=n.image_large_url,g=n.username;return(0,c.jsx)(i.Tg,{href:"/".concat(void 0===g?"":g,"/"),rounding:"circle",children:(0,c.jsx)(I.qE,{name:null!=m?m:"",src:y})});case A.DID_IT:var v=n.details,b=n.images,_=n.pin||{},w=_.id,j=_.image_square_url,x=b&&b[0]&&b[0]["550x"],O=(null==x?void 0:x.url)||j;return(0,c.jsx)(i.Tg,{fullHeight:!0,href:"/pin/".concat(w,"/activity/tried/?featured_did_it_ids=").concat(r),rounding:"circle",children:(0,c.jsx)(i.xu,{height:"100%",overflow:"hidden",rounding:2,children:O&&(0,c.jsx)(i.Ee,{alt:v||"",color:"white",fit:"cover",naturalHeight:(null==x?void 0:x.height)||1,naturalWidth:(null==x?void 0:x.width)||1,role:"img",src:O})})})}}}},{key:"render",value:function(){var e=this.props,t=e.headerText,n=void 0===t?"":t,r=e.textMapping,o=e.alignItems,a="start"!==(void 0===o?"center":o);return a?(0,c.jsx)(i.W2,{children:(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,marginTop:2,paddingX:3,paddingY:2,children:[(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xu,{height:48,width:48,children:this.renderHeaderImage(a)})}),(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xv,{children:(0,c.jsx)(u.Z,{applyLink:!0,text:n,textMapping:r})})})]})}):(0,c.jsx)(i.W2,{children:(0,c.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:-1,marginStart:-1,marginTop:2,paddingX:3,paddingY:2,children:[(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xu,{height:60,width:44,children:this.renderHeaderImage(a)})}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",height:60,paddingX:1,children:(0,c.jsx)(i.xv,{children:(0,c.jsx)(u.Z,{applyLink:!0,text:n,textMapping:r})})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component),R=[4,5],M=n(862724);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var z=["newsId"];function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(H=function(){return!!e})()}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){W(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function W(e,t,n){return(t=G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}function V(e){var t=e.newsId,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,z),r=(0,p.Z)({name:"NewsHubDetailsResource",options:{news_id:t,page_size:l.IV},noCache:!0});return(0,c.jsx)(M.Z,B(B({},n),{},{listResource:r}))}var K=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&L(o,e);var t,n,r=(t=H(),function(){var e,n=Z(o);return e=t?Reflect.construct(n,arguments,Z(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return U(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return W(U(e=r.call.apply(r,[this].concat(n))),"renderDidIt",function(e){return(0,c.jsx)(i.W2,{children:(0,c.jsx)(i.xu,{column:12,display:"flex",justifyContent:"center",children:(0,c.jsx)(i.xu,{column:12,mdColumn:10,children:e.map(function(e,t){var n;return(0,c.jsx)(S.Z,{didItDataId:null!=(n=e.id)?n:"",viewType:107},t)})})})})}),W(U(e),"renderItem",function(t,n){var r,o=e.props,a=o.newsSummary,s=a.detail_header,u=a.text_mapping,p=a.sub_header_text,h=o.renderItem;if(!t)return null;var m=t.content_items,y=t.header_icon_objects,g=t.header_text,v=t.text_mapping,b=t.news_type,_=m.map(function(e){return e.content_object}).filter(function(e){return!!e}),w=(null==(r=_[0])?void 0:r.type)||null,j=w===l.Ng.DID_IT;return(0,c.jsxs)("li",{children:[0===n&&(0,c.jsx)(d,{header:s,subheader:p,textMapping:u}),g&&(0,c.jsx)(k,{alignItems:2===b?"start":"center",headerIconObjects:y,headerText:g,textMapping:v}),w===l.Ng.DID_IT&&e.renderDidIt(_),!j&&(0,c.jsx)(i.xu,{padding:4,children:(0,c.jsx)(i.Rk,{columnWidth:function(e){if(e){if(e===l.Ng.DID_IT)return 670;else if(e===l.Ng.INTEREST)return 236;else if(e===l.Ng.BOARD)return 320}return f.yF}(w),gutterWidth:16,items:_,minCols:w&&w===l.Ng.DID_IT?1:f.yc,renderItem:h,scrollContainer:function(){return window}})})]},n)}),e}return n=[{key:"render",value:function(){return(0,c.jsx)(V,{newsId:this.props.newsId,renderEmptyState:function(){return null},renderItem:this.renderItem,useWindow:!0})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent),Y=n(233846),q=function(e){var t=e.onGoToHFClicked,n=(0,Y.ZP)(),r=n._('That\'s all for now!', 'newshub.newsDetailPage.noMoreNotifications', 'Text letting users know there are no more notifications to view'),o=n._('Go to home', 'newshub.newsDetailPage.goToHomeFeed', 'Prompt to go to home feed'),a=(0,c.jsx)(i.zx,{accessibilityLabel:o,color:"gray",onClick:t,size:"lg",text:o});return(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"124px"}},display:"flex",justifyContent:"center",marginTop:12,position:"relative",children:(0,c.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",maxWidth:"375px",children:[(0,c.jsx)(i.xu,{height:32,marginBottom:4,width:32,children:(0,c.jsx)(i.Ee,{alt:"homefeed upsell sparkle icon",fit:"cover",naturalHeight:32,naturalWidth:32,src:"https://i.pinimg.com/originals/de/a2/60/dea2607ee451addf346e175f65ca568e.png"})}),(0,c.jsx)(i.xu,{marginBottom:6,children:(0,c.jsx)(i.X6,{align:"center",size:"600",children:r})}),a]})})},X=n(19963),$=n(542326),J=n(967312),Q=n(25402),ee=n(5112),et=n(882368),en=n(182700),er=n(787012),eo=n(236062),ei=["orange","green","purple","watermelon","pine","navy","eggplant","olive","maroon"],ea=n(853404),el=n(377231),es=n(140042),eu=n(502680),ec=n(756815);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ep(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=ed(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ed(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ed(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?em(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ey=function(e){var t,n=e.isPinsRecommendationNotifPage,r=e.item,a=e.itemIdx,s=e.newsId,u=e.newsSummary,d=e.setIsPinsRecommendationNotifPage,f=eh((0,o.useState)(!1),2),p=f[0],h=f[1],m=(0,X.v)().logContextEvent;if(!u)return null;var y=u.news_type,g=function(e){m({event_type:101,component:3,object_id_str:e.id,view_type:e.viewType,view_parameter:e.viewParameter})},v=function(e){m({event_type:101,component:3,element:36,object_id_str:e.id,view_type:107})},b=function(){h(!0)},_=function(){h(!1)};if(!r)return null;switch(r.type){case l.Ng.PIN:return n||d(!0),(0,c.jsx)(es.rX,{attributionOption:y&&R.includes(y)?"show":"hide",feedback:{data:{newsId:s},type:"newsHub"},pinId:"",pinKey:{type:"deprecated",data:ep(ep({},r),{},{type:l.Ng.PIN,images:r.images})},slotIndex:a,surface:"NewsPage",trackingParams:null==r?void 0:r.tracking_params,viewParameter:3082,viewType:107});case l.Ng.BOARD:return void 0===r.cover_pin.image_url&&void 0!==r.image_cover_hd_url&&(r.cover_pin.image_url=r.image_cover_hd_url),(0,c.jsx)(i.Tg,{href:null!=(t=r.url)?t:"",onBlur:_,onFocus:b,onMouseEnter:b,onMouseLeave:_,onTap:function(){v({id:r.id})},children:(0,c.jsx)(eu.Z,{board:ep(ep({},r),{},{type:l.Ng.BOARD,images:r.images}),canEdit:!1,display:"responsive",isActive:p,layout:"xWide",onEditClick:function(){},subtitle:null,viewType:107})});case l.Ng.USER:return(0,c.jsx)(ec.Z,{data:ep(ep({},r),{},{type:l.Ng.USER}),suppressToasts:!1,truncateName:!1,viewParameter:50,viewType:4},r.id);case l.Ng.INTEREST:var w=r.background_color,j=r.id,x=r.images,O=r.is_followed,P=r.name,S=r.url_name,I=(0,el.Z)(S).urlName;return(0,c.jsx)(en.Z,{backgroundColor:w,followedByMe:O,id:j,image:(null==x?void 0:x["400x"])||null,name:P,url:I});case l.Ng.SEARCH:var E=r.images&&Array.isArray(r.images)&&r.images.map(function(e){return{"236x":{height:l.kJ,url:e,width:l.AY}}}).slice(0,l.ys)||[],C=encodeURIComponent(r.term),T="/search/pins/?q=".concat(C,"&rs=").concat(r.rs);return r.source_id&&(T+="&source_id=".concat(r.source_id)),(0,c.jsx)(er.Z,{bubble:{action:{url:T},cover_images:E,dominant_colors:[ei[r.term.charCodeAt(0)%ei.length]],id:r.id,title:{format:r.term},type:l.Ng.SEARCH},contextLogData:{story_type:l.Ng.SEARCH},height:l.kJ,onClick:function(){return g({id:r.id,viewType:107,viewParameter:3082})},slotIndex:a,viewParameter:3082,viewType:107},r.id);case l.Ng.STORY:if(r.story_type&&"BUBBLE_ONE_COL"===r.story_type)return(0,c.jsx)(eo.default,{bubbles:r.objects,id:r.id,referringSource:r.referring_source,slotIndex:a,storyType:r.story_type,title:r.title,viewParameter:3082,viewType:107});return null;default:return null}};function eg(e){var t=e.fetchedResourceExpEnabled,n=e.newsId,s=e.newsPageDataRef,u=(0,X.v)().logContextEvent,d=(0,Y.ZP)(),f=eh((0,o.useState)(!1),2),h=f[0],m=f[1],y=eh((0,o.useState)(!0),2),g=y[0],v=y[1],b=(0,o.useRef)(!1),_=(0,r.k6)(),w=(0,et.Z)(),j=(0,J.F)(),x=(0,p.Z)({name:"NewsHubSummaryResource",options:{news_id:n}}),O=x.data,S=x.error,I=(0,Q.Z)(s),E=I.data,C=I.error,T=t?E:O,D=t?S:C;(0,o.useEffect)(function(){if(T){var e=T.news_type;void 0===e||b.current||(u({event_type:13,object_id_str:n,view_type:107,view_parameter:3082,aux_data:{news_type:e}}),b.current=!0)}},[u,T,n]);var A=null==T?void 0:T.category,k=function(e){var t=e.data,r=e.itemIdx;return(0,c.jsx)(ey,{isPinsRecommendationNotifPage:h,item:t,itemIdx:r,newsId:n,newsSummary:T,setIsPinsRecommendationNotifPage:m})};if(D&&404===D.httpStatus&&_.push("/?show_error=true"),!T)return null;var M=function(){u({event_type:101,component:3,element:1197,aux_data:{user_id:w.isAuth?w.id:""}}),_.push("/homefeed/")};return(0,c.jsx)(ee.Z,{objectId:n,view:107,viewParameter:3082,children:(0,c.jsx)(ea.Jo,{children:(0,c.jsxs)(i.xu,{children:[T.news_type&&R.includes(T.news_type)?(0,c.jsx)(P,{newsId:n,newsSummary:T,renderItem:k}):(0,c.jsx)(K,{newsId:n,newsSummary:T,renderItem:k}),function(){if(A===l.LL){var e=$.Wr(j,"2025-05-01","dweb_news_hub_detail_remove_hf_pins");return h&&!e?(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xu,{padding:5,children:(0,c.jsx)(i.X6,{align:"center",size:"600",children:d._('More ideas from your home feed', 'MoreIdeasFromYourHomeFeed', 'Appending home feed Pins at the end of news hub detail page title')})}),(0,c.jsx)(a.Z,{feedLimit:50,setFeedLoading:v}),";",!g&&(0,c.jsx)(q,{onGoToHFClicked:M}),";"]}):(0,c.jsx)(q,{onGoToHFClicked:M})}return(0,c.jsx)(i.xu,{})}()]})})})}var ev=n(95460),eb=n(909512),e_=n(810139),ew=n(352437);function ej(){var e=(0,r.$B)().params,t=(0,et.Z)(),n=t.isAuth&&t.isLimitedLogin,i=e.id||"",a=(0,J.F)().checkExperiment("web_news_hub_suspense_resource").anyEnabled,l=(0,e_.Z)(a?{name:"NewsHubSummaryResource",options:{news_id:i}}:null).ref,s=(0,c.jsx)(eg,{fetchedResourceExpEnabled:a,newsId:i,newsPageDataRef:l}),u=a?(0,c.jsx)(ev.Z,{name:"NewsHubLandingPage",children:(0,c.jsx)(o.Suspense,{fallback:(0,c.jsx)(ew.Z,{}),children:s})}):s;return n?u:(0,c.jsxs)(o.Fragment,{children:[u,(0,c.jsx)(eb.RK,{placementId:1000129})]})}var ex=n(174646),eO=n(538645),eP=n(545007),eS=n(892671),eI=n(927375),eE=n(864339),eC={color:"#333",fontFamily:"sans-serif",fontSize:"20px",letterSpacing:"-0.4px",marginBlockEnd:"0px",marginBlockStart:"0px",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",textAlign:"center"},eT=function(){var e=(0,Y.ZP)();return(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",marginBottom:3,children:(0,c.jsxs)(i.xu,{marginTop:2,maxWidth:480,paddingX:6,children:[(0,c.jsx)("h4",{style:eC,children:e._('Explore more ideas in your home feed', 'Upsell at the bottom of a notification to go to home feed', 'Upsell at the bottom of a notification to go to home feed')}),(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,c.jsx)(i.ZP,{accessibilityLabel:e._('Go to home feed', 'Accessibility label for button on home feed upsell', 'Accessibility label for button on home feed upsell'),color:"red",href:"/",size:"md",text:e._('Let\'s go', 'Button on upsell to go to home feed, 1-2 words', 'Button on upsell to go to home feed, 1-2 words')})})]})})},eD=n(182997),eA=n(633569),ek=n(765575),eR=n(356871),eM=n(509692),eN=n(396695),ez=n(219308),eL=n(833741),eU=function(e){var t=e.textOverlay,n=e.wash;return function(e){var r=e.color,o=e.empty,a=e.src,l=e.term,s=a&&(0,c.jsx)(i.Ee,{alt:"",color:r||"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:a});return o?(0,c.jsx)(i.xu,{color:"secondary",width:"100%"}):t?(0,c.jsxs)(i.xu,{position:"relative",width:"100%",children:[s,(0,c.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},left:!0,position:"absolute",right:!0,top:!0}),(0,c.jsx)(i.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:3,position:"absolute",right:!0,top:!0,children:(0,c.jsx)(i.xv,{align:"center",color:"inverse",weight:"bold",children:l})})]}):n?(0,c.jsx)(i.xu,{width:"100%",children:(0,c.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:s})}):(0,c.jsx)(i.xu,{width:"100%",children:s})}},eH=function(e){return function(t,n){return null===t?n:(0,c.jsxs)(o.Fragment,{children:[t,e,n]})}},eZ=function(e,t,n){var r=Array.from({length:n},function(n,r){return e.slice(r*t,(r+1)*t)});return Array.from({length:t},function(e,t){return r.map(function(e){return e[t]})})},eF=function(e){var t=e.rowNum,n=e.columnNum,r=e.images,o=e.wash,a=e.textOverlay,l=e.direction;if(t<1||n<1||t*n>r.length)return null;var s=("column"===l?eZ(r,t,n):Array.from({length:t},function(e,t){return r.slice(t*n,(t+1)*n)})).map(function(e){return(0,c.jsx)(i.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",children:e.map(eU({wash:o,textOverlay:a})).reduce(eH((0,c.jsx)(i.xu,{flex:"none",width:1})),null)})});return(0,c.jsx)(i.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",width:"100%",children:s.reduce(eH((0,c.jsx)(i.xu,{flex:"none",height:1})),null)})},eB=n(646292);function eW(e){var t=e.id,n=e.nameTextSize,r=e.onTouch,a=e.showFollowButton,l=e.shouldClickthrough,s=e.topicBlob,u=e.viewParameter,d=e.viewType,f=(0,eP.I0)(),p=(0,ez.Z)(),h=(0,eP.v9)(function(e){return e.topics[t]}),m=h||s||{},y=m.images["236x"]||m.images["400x"]||m.images["474x"]||m.images.orig||{},g=[{color:m.background_color,empty:!1,src:y.url,term:m.name}],v=(0,c.jsx)(i.zd,{rounding:4,children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:(0,c.jsx)(i.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,c.jsx)(eF,{columnNum:1,images:g,rowNum:1,textOverlay:!0})})})}),b=h&&void 0!==a&&a?(0,c.jsx)(i.xu,{marginTop:2,children:(0,c.jsx)(eL.Z,{followEventType:601,id:h.id,isFollowed:h.is_followed||!1,isSecondaryButton:!0,onFollow:function(e){return f((0,eB.ZN)(e,p))},onUnfollow:function(e){return f((0,eB.fv)(e,p))},pinKey:null,size:void 0===n?"lg":n,unfollowEventType:602,viewParameter:u||void 0,viewType:d||void 0})}):null;return void 0!==l&&l&&null!=h&&h.slug?(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)(i.Tg,{href:"/ideas/".concat(encodeURIComponent(h.slug),"/").concat(h.id),onTap:function(e){var t=e.event;null==r||r(t)},rounding:4,tapStyle:"compress",children:v}),b]}):(0,c.jsxs)(o.Fragment,{children:[v,b]})}function eG(e){var t,n,r,o,a,l=e.isWideLayout,s=e.shouldClickthrough,u=e.userId,d=(0,eP.v9)(function(e){return e.users[u]}),f=((null==d||null==(t=d.recent_pin_images)?void 0:t["222x"])||(null==d||null==(n=d.recent_pin_images)?void 0:n["192x"])||(null==d||null==(r=d.recent_pin_images)?void 0:r["200x"])||[]).slice(0,2).map(function(e){return e&&e.url?{color:e.dominant_color||null,empty:!1,src:e.url,term:null}:{color:null,empty:!0,src:null,term:null}}),p=void 0!==l&&l?64:60,h=(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.zd,{rounding:4,children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"66.66%"}},position:"relative",children:(0,c.jsx)(i.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,c.jsx)(eF,{columnNum:2,images:f,rowNum:1,wash:!0})})})}),(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"-".concat(p/2,"px")}},width:"100%",children:(0,c.jsx)(i.xu,{height:p,marginEnd:"auto",marginStart:"auto",width:p,children:(0,c.jsx)(I.qE,{color:null==d?void 0:d.avatar_color_index,name:null!=(o=null==d?void 0:d.full_name)?o:"",outline:!0,src:(null==d?void 0:d.image_medium_url)||(null==d?void 0:d.image_large_url)||void 0})})}),(0,c.jsx)(i.xu,{marginTop:2,paddingX:2,children:(0,c.jsx)(i.xv,{align:"center",weight:"bold",children:null==d?void 0:d.full_name})})]});return void 0!==s&&s?(0,c.jsx)(i.Tg,{href:"/".concat(encodeURIComponent(null!=(a=null==d?void 0:d.username)?a:""),"/"),rounding:4,tapStyle:"compress",children:h}):h}var eV=n(690566),eK=n(932541);function eY(e){return(eY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=eY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eY(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eY(t)?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e$=function(e){var t=e.contentObjectSchema,n=e.itemIdx,r=e.trackingParams,o=e.oneColumn,a=e.newsId,l=e.inNewsHubQuickSaveExp,s=e.isWideLayout,u=void 0!==s&&s;if(!t)return null;if(t&&!("schema"in t)){if("news_hub_search"===t.type){var d=t.id,f=t.images,p=t.rs,h=t.source_id,m=void 0===h?null:h,y=t.term,g=[{"236x":{height:0,url:f[0],width:0}}],v="/search/pins/?q=".concat(encodeURIComponent(y),"&rs=").concat(p);m&&(v+="&source_id=".concat(m));var b=null!=d?{action:{url:v},cover_images:g,dominant_colors:["#efefef"],id:d,title:{format:y},type:"explorearticle"}:null;return(0,c.jsx)(i.xu,{padding:u?2:1,children:(0,c.jsx)(eV.Z,{bubbleKey:null!=b?{type:"deprecated",data:b}:null,font:"sm",height:"50%",referringSource:p,slotIndex:n,storyId:"",viewParameter:3082,viewType:107,width:"100%"})})}return null}switch(t.schema){case"pin":return(0,c.jsx)(i.xu,{marginBottom:+!u,marginTop:u?0:-1,paddingX:+!!u,paddingY:1,children:(0,c.jsx)(es.ZP,eX({componentType:0,duploOneTapSave:l?{boardId:""}:null,duploQueryRef:null,feedback:{data:{newsId:a},type:"newsHub"},pinId:t.id,slotIndex:n,topLevelTrafficSource:"notifications",topLevelTrafficSourceDepth:1,trafficSource:"notifications",viewParameter:3082,viewType:107},r?{trackingParams:r}:Object.freeze({})))});case"user":return(0,c.jsx)(i.xu,{marginBottom:u?6:4,padding:u?2:1,children:(0,c.jsx)(eG,{isWideLayout:u,shouldClickthrough:!0,userId:t.id})});case"board":return(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-1px",marginRight:"-1px"}},marginBottom:2,marginTop:u?-1:-2,paddingX:u?2:1,children:(0,c.jsx)(eN.default,{boardKey:{type:"deprecated",data:eX(eX({},t),{},{type:"board"})},type:o?"full":"grid",viewParameter:3082,viewType:107})});case"topic":return(0,c.jsx)(i.xu,{padding:u?2:1,children:(0,c.jsx)(eW,{id:t.id,shouldClickthrough:!0,showFollowButton:!0,viewParameter:3082,viewType:107})});case"triedit":return(0,c.jsx)(i.xu,{padding:2,children:(0,c.jsx)(eK.Z,{triedItId:t.id})});default:return null}},eJ=n(678302);function eQ(e){return(eQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(n),!0).forEach(function(t){e5(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e2(e,t){return(e2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e3(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e8=function(){return!!e})()}function e6(e){return(e6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e5(e,t,n){return(t=e7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7(e){var t=function(e,t){if("object"!=eQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eQ(t)?t:t+""}var e4=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&e2(o,e);var t,n,r=(t=e8(),function(){var e,n=e6(o);return e=t?Reflect.construct(n,arguments,e6(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==eQ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return e3(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e5(e3(e=r.call.apply(r,[this].concat(n))),"state",{isWideLayout:!1}),e5(e3(e),"onResize",(0,eD.Z)(function(){return e.setState({isWideLayout:window.innerWidth>520})},50)),e}return n=[{key:"componentDidMount",value:function(){this.setState({isWideLayout:window.innerWidth>520}),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.notification,r=t.newsIndex,o=t.inNewsHubQuickSaveExp,a=n.content_items.filter(function(e){return null!=e.content_object}),l=this.state.isWideLayout;return(0,c.jsx)(ek.Mv,{displayMode:n.display_mode,loggingId:n.id,newsIndex:r,newsType:n.news_type,notificationId:n.id,children:function(t){var r=t.impressionTrackerRef;return(0,c.jsxs)(i.xu,{ref:r,children:[(n.header_text||n.header_icon_objects)&&(0,c.jsxs)(i.xu,{paddingX:4,width:"100%",children:[n.header_icon_objects[0]&&(0,c.jsx)(i.xu,{display:"flex",justifyContent:"center",paddingY:2,children:(0,c.jsx)(i.kC,{alignItems:"stretch",flex:"none",justifyContent:"center",width:48,children:(0,c.jsx)(eR.Z,{clickable:!0,headerIconObjectsSchema:n.header_icon_objects.slice(0,1)})})}),n.header_text&&(0,c.jsx)(eJ.Z,{align:"center",headerText:n.header_text,isLink:!0,textMapping:n.text_mapping||{}})]}),(0,c.jsx)(i.xu,{marginBottom:l?2:void 0,padding:l?void 0:1,paddingX:l?2:void 0,children:(0,c.jsx)(eA.default,{items:a,minCols:2,renderItem:function(t){var n=t.data,r=t.itemIdx,i=e.props.notificationId.split(":")[0];return(0,c.jsx)(e$,{contentObjectSchema:n.content_object,inNewsHubQuickSaveExp:o,isWideLayout:l,itemIdx:r,newsId:i,oneColumn:!1,trackingParams:"trackingParams"in n?n.trackingParams:""})}})})]},n.id)}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e7(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function e9(e){var t=(0,eP.v9)(function(t){return t.notifications[e.notificationId]}),n=(0,(0,J.F)().checkExperiment)("mweb_news_hub_quick_save").anyEnabled,r=(0,eM.g)();return(0,o.useEffect)(function(){return null==r||r.setInNotifDetailPage(!0),null==r||r.setInNewsHubQuickSaveExp(n),function(){null==r||r.reset()}},[r,n]),(0,c.jsx)(e4,e1(e1({},e),{},{inNewsHubQuickSaveExp:n,notification:t}))}function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tn(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tr=function(){return!!e})()}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e){var t=function(e,t){if("object"!=te(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=te(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==te(t)?t:t+""}var ta=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&tt(o,e);var t,n,r=(t=tr(),function(){var e,n=to(o);return e=t?Reflect.construct(n,arguments,to(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==te(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tn(e)}(this,e)});function o(){var e,t,n,i;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return t=tn(e=r.call.apply(r,[this].concat(l))),n="renderFeedItem",i=function(e,t){return"notification"!==e.type?null:(0,c.jsx)(e9,{newsIndex:t,notificationId:e.id},e.id)},(n=ti(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,e}return n=[{key:"render",value:function(){var e=this.props,t=e.newsHubDetailsResource,n=e.notifications;return null==n||0===n.length?null:(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.gr,{fetchMore:t.fetchMore,isAtEnd:t.isAtEnd,isFetching:t.isFetching}),n.map(this.renderFeedItem)]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ti(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent),tl=n(736606),ts=n(824879),tu=["selected"];function tc(e){return(tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tf(e,t){return(tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tp(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function th(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(th=function(){return!!e})()}function tm(e){return(tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ty(e,t,n){return(t=tg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tg(e){var t=function(e,t){if("object"!=tc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tc(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tc(t)?t:t+""}var tv={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"},tb=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&tf(o,e);var t,n,r=(t=th(),function(){var e,n=tm(o);return e=t?Reflect.construct(n,arguments,tm(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==tc(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tp(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ty(tp(e=r.call.apply(r,[this].concat(n))),"state",{showScrollShadow:!1}),ty(tp(e),"onScroll",(0,eI.Z)(function(){return e.setState({showScrollShadow:window.scrollY>0})},100)),e}return n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.notification,r=e.notifications,o=e.newsHubDetailsResource,a=e.newsHubSummaryResource,l=e.history,s=e.session;return null==n?null:(0,c.jsx)(eS.Z,{log:{view_type:107,view_parameter:3082},children:(0,c.jsx)(ee.Z,{objectId:n.id,view:107,viewParameter:3082,children:(0,c.jsxs)(eE.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,c.jsx)(i.Le,{top:0,children:(0,c.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:this.state.showScrollShadow?tv:{}},paddingY:1,width:"100%",children:(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",paddingY:1,children:[(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:2,marginStart:2,width:48,children:(0,c.jsx)(ts.Z,{color:"darkGray",fallbackUrl:"/",viewParameter:3082,viewType:107})}),(0,c.jsx)(i.xu,{flex:"grow",children:(0,c.jsx)(eJ.Z,{align:"center",bold:!0,headerText:n.detail_header||n.header_text,ignoreAPIMarkup:!0,textMapping:n.text_mapping||{}})}),(0,c.jsx)(i.xu,{flex:"none",height:48,marginEnd:2,marginStart:2,width:48})]})})}),(0,c.jsx)(ta,{history:l,newsHubDetailsResource:o,notificationId:n.id,notifications:r,session:s}),(a.isFetching||o.isFetching)&&(0,c.jsx)(i.xu,{column:12,paddingY:4,children:(0,c.jsx)(i.xH,{accessibilityLabel:t._('Loading feed', ' - ', ' -- '),show:!0})}),!o.isFetching&&(0,c.jsx)(i.xu,{marginBottom:10,children:(0,c.jsx)(eT,{})})]})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tg(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.PureComponent);function t_(){var e=(0,r.k6)(),t=(0,r.$B)(),n=(0,Y.ZP)(),o=(0,eP.v9)(function(e){return e.session}),i=(0,eP.v9)(function(e){return t.params.id?e.notifications[t.params.id]:void 0}),a=(0,eP.v9)(function(e){return t.params.id?e.feeds["newshubdetail:".concat(t.params.id)]:[]});return(0,c.jsx)(tl.Z,{name:"NewsHubSummaryResource",options:{news_id:t.params.id},children:function(r){var l=Object.assign({},r);return(0,c.jsx)(tl.Z,{name:"NewsHubDetailsResource",options:{news_id:t.params.id},children:function(t){t.selected;var r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,tu);return(0,c.jsx)(tb,{history:e,i18n:n,newsHubDetailsResource:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(t){ty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r),newsHubSummaryResource:l,notification:i,notifications:a,session:o})}})}})}var tw=function(){var e=(0,eO.ZP)();return(0,ex.B)().isAuthenticated?"desktop"===e?(0,c.jsx)(ej,{}):(0,c.jsx)(t_,{}):(0,c.jsx)(r.l_,{to:"/"})}},344093:function(e,t,n){"use strict";var r=n(88244),o=[],i=[],a=r.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function l(e){var t;(t=o.length?o.pop():new s).task=e,r(t)}function s(){this.task=null}e.exports=l,s.prototype.call=function(){try{this.task.call()}catch(e){l.onerror?l.onerror(e):(i.push(e),a())}finally{this.task=null,o[o.length]=this}}},88244:function(e,t,n){"use strict";function r(e){s.length||l(),s[s.length]=e}e.exports=r;var o,i,a,l,s=[],u=0;function c(){for(;u<s.length;){var e=u;if(u+=1,s[e].call(),u>1024){for(var t=0,n=s.length-u;t<n;t++)s[t]=s[t+u];s.length-=u,u=0}}s.length=0,u=0}var d=void 0!==n.g?n.g:self,f=d.MutationObserver||d.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}r.requestFlush=l="function"==typeof f?(o=1,i=new f(c),a=document.createTextNode(""),i.observe(a,{characterData:!0}),function(){a.data=o=-o}):p(c),r.makeRequestCallFromTimer=p},425395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(896427),o=n(47645),i=n(664174),a=n(997481),l=n(655469);t.default=function(){function e(e,t,n){var i,s,u=this;void 0===t&&(t={}),void 0===n&&(n=!1),this.context=t,this.isSetUp=!1,this.handleRefCountChange=function(){var e=u.store.getState().refCount>0;e&&!u.isSetUp?(u.backend.setup(),u.isSetUp=!0):!e&&u.isSetUp&&(u.backend.teardown(),u.isSetUp=!1)};var c=(i=n,s="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,r.createStore(o.default,i&&s&&s({name:"dnd-core",instanceId:"dnd-core"})));this.store=c,this.monitor=new a.default(c,new l.default(c)),this.backend=e(this),c.subscribe(this.handleRefCountChange)}return e.prototype.getContext=function(){return this.context},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.monitor.registry},e.prototype.getActions=function(){var e=this,t=this.store.dispatch,n=i.default(this);return Object.keys(n).reduce(function(r,o){var i=n[o];return r[o]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=i.apply(e,n);void 0!==o&&t(o)},r},{})},e.prototype.dispatch=function(e){this.store.dispatch(e)},e}()},997481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(887947),o=n(844395),i=n(488262),a=n(506933);t.default=function(){function e(e,t){this.store=e,this.registry=t}return e.prototype.subscribeToStateChange=function(e,t){var n=this;void 0===t&&(t={handlerIds:void 0});var r=t.handlerIds;a("function"==typeof e,"listener must be a function."),a(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe(function(){var t=n.store.getState(),a=t.stateId;try{a!==o&&(a!==o+1||i.areDirty(t.dirtyHandlerIds,r))&&e()}finally{o=a}})},e.prototype.subscribeToOffsetChange=function(e){var t=this;a("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})},e.prototype.canDragSource=function(e){if(!e)return!1;var t=this.registry.getSource(e);return a(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){if(!e)return!1;var t=this.registry.getTarget(e);if(a(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),o=this.getItemType();return r.default(n,o)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return!!this.getItemType()},e.prototype.isDraggingSource=function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return a(t,"Expected to find a valid source."),!!this.isDragging()&&!!this.isSourcePublic()&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)},e.prototype.isOverTarget=function(e,t){if(void 0===t&&(t={shallow:!1}),!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!r.default(o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var l=a.indexOf(e);return n?l===a.length-1:l>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return o.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return o.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}()},655469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(324493),o=n(289269),i=n(174096),a=n(262323),l=n(506933),s=n(344093);function u(e){switch(e[0]){case"S":return i.HandlerRole.SOURCE;case"T":return i.HandlerRole.TARGET;default:l(!1,"Cannot parse handler ID: "+e)}}function c(e,t){var n=e.entries(),r=!1;do{var o=n.next(),i=o.done;if(o.value[1]===t)return!0;r=i}while(!r);return!1}t.default=function(){function e(e){this.store=e,this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){a.validateType(e),a.validateSourceContract(t);var n=this.addHandler(i.HandlerRole.SOURCE,e,t);return this.store.dispatch(r.addSource(n)),n},e.prototype.addTarget=function(e,t){a.validateType(e,!0),a.validateTargetContract(t);var n=this.addHandler(i.HandlerRole.TARGET,e,t);return this.store.dispatch(r.addTarget(n)),n},e.prototype.containsHandler=function(e){return c(this.dragSources,e)||c(this.dropTargets,e)},e.prototype.getSource=function(e,t){return void 0===t&&(t=!1),l(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)},e.prototype.getTarget=function(e){return l(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)},e.prototype.getSourceType=function(e){return l(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)},e.prototype.getTargetType=function(e){return l(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)},e.prototype.isSourceId=function(e){return u(e)===i.HandlerRole.SOURCE},e.prototype.isTargetId=function(e){return u(e)===i.HandlerRole.TARGET},e.prototype.removeSource=function(e){var t=this;l(this.getSource(e),"Expected an existing source."),this.store.dispatch(r.removeSource(e)),s(function(){t.dragSources.delete(e),t.types.delete(e)})},e.prototype.removeTarget=function(e){l(this.getTarget(e),"Expected an existing target."),this.store.dispatch(r.removeTarget(e)),this.dropTargets.delete(e),this.types.delete(e)},e.prototype.pinSource=function(e){var t=this.getSource(e);l(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){l(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e.prototype.addHandler=function(e,t,n){var r=function(e){var t=o.default().toString();switch(e){case i.HandlerRole.SOURCE:return"S"+t;case i.HandlerRole.TARGET:return"T"+t;default:throw Error("Unknown Handler Role: "+e)}}(e);return this.types.set(r,t),e===i.HandlerRole.SOURCE?this.dragSources.set(r,n):e===i.HandlerRole.TARGET&&this.dropTargets.set(r,n),r},e}()},887337:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(576213),o=n(676011),i=n(506933),a=n(776801),l={type:a.INIT_COORDS,payload:{clientOffset:null,sourceClientOffset:null}};t.default=function(e){return function(t,n){void 0===t&&(t=[]),void 0===n&&(n={publishSource:!0});var s,u=n.publishSource,c=n.clientOffset,d=n.getSourceClientOffset,f=e.getMonitor(),p=e.getRegistry();e.dispatch(r.setClientOffset(c)),function(e,t,n){i(!t.isDragging(),"Cannot call beginDrag while dragging.");for(var r=0;r<e.length;r++){var o=e[r];i(n.getSource(o),"Expected sourceIds to be registered.")}}(t,f,p);var h=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,f);if(null===h)return void e.dispatch(l);var m=null;c&&(i("function"==typeof d,"When clientOffset is provided, getSourceClientOffset must be a function."),m=d(h)),e.dispatch(r.setClientOffset(c,m));var y=p.getSource(h).beginDrag(f,h);s=y,i(o.isObject(s),"Item must be an object."),p.pinSource(h);var g=p.getSourceType(h);return{type:a.BEGIN_DRAG,payload:{itemType:g,item:y,sourceId:h,clientOffset:c||null,sourceClientOffset:m||null,isSourcePublic:!!(void 0===u||u)}}}}},276066:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(776801),i=n(676011),a=n(506933);t.default=function(e){return function(t){void 0===t&&(t={});var n,l,s,u=e.getMonitor(),c=e.getRegistry();a((n=u).isDragging(),"Cannot call drop while not dragging."),a(!n.didDrop(),"Cannot call drop twice during one drag operation."),((s=(l=u).getTargetIds().filter(l.canDropOnTarget,l)).reverse(),s).forEach(function(n,l){var s,d,f,p,h,m,y,g=(s=n,d=l,f=c,p=u,a(void 0===(y=m=(h=f.getTarget(s))?h.drop(p,s):void 0)||i.isObject(y),"Drop result must either be an object or undefined."),void 0===m&&(m=0===d?{}:p.getDropResult()),m),v={type:o.DROP,payload:{dropResult:r({},t,g)}};e.dispatch(v)})}}},252616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(776801),o=n(506933);t.default=function(e){return function(){var t=e.getMonitor(),n=e.getRegistry();o(t.isDragging(),"Cannot call endDrag while not dragging.");var i=t.getSourceId();return n.getSource(i,!0).endDrag(t,i),n.unpinSource(),{type:r.END_DRAG}}}},481607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(887947),o=n(776801),i=n(506933);t.default=function(e){return function(t,n){var a=(void 0===n?{}:n).clientOffset;i(Array.isArray(t),"Expected targetIds to be an array.");var l=t.slice(0),s=e.getMonitor(),u=e.getRegistry();return function(e,t,n){i(t.isDragging(),"Cannot call hover while not dragging."),i(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];i(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array."),i(n.getTarget(o),"Expected targetIds to be registered.")}}(l,s,u),function(e,t,n){for(var o=e.length-1;o>=0;o--){var i=e[o],a=t.getTargetType(i);r.default(a,n)||e.splice(o,1)}}(l,u,s.getItemType()),function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];n.getTarget(o).hover(t,o)}}(l,s,u),{type:o.HOVER,payload:{targetIds:l,clientOffset:a||null}}}}},664174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(887337),o=n(863491),i=n(481607),a=n(276066),l=n(252616),s=n(776801);for(var u in s)t.hasOwnProperty(u)||(t[u]=s[u]);t.default=function(e){return{beginDrag:r.default(e),publishDragSource:o.default(e),hover:i.default(e),drop:a.default(e),endDrag:l.default(e)}}},576213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(776801);t.setClientOffset=function(e,t){return{type:r.INIT_COORDS,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}},863491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(776801);t.default=function(e){return function(){if(e.getMonitor().isDragging())return{type:r.PUBLISH_DRAG_SOURCE}}}},776801:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_COORDS="dnd-core/INIT_COORDS",t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",t.HOVER="dnd-core/HOVER",t.DROP="dnd-core/DROP",t.END_DRAG="dnd-core/END_DRAG"},324493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_SOURCE="dnd-core/ADD_SOURCE",t.ADD_TARGET="dnd-core/ADD_TARGET",t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",t.REMOVE_TARGET="dnd-core/REMOVE_TARGET",t.addSource=function(e){return{type:t.ADD_SOURCE,payload:{sourceId:e}}},t.addTarget=function(e){return{type:t.ADD_TARGET,payload:{targetId:e}}},t.removeSource=function(e){return{type:t.REMOVE_SOURCE,payload:{sourceId:e}}},t.removeTarget=function(e){return{type:t.REMOVE_TARGET,payload:{targetId:e}}}},262323:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(506933);t.validateSourceContract=function(e){o("function"==typeof e.canDrag,"Expected canDrag to be a function."),o("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),o("function"==typeof e.endDrag,"Expected endDrag to be a function.")},t.validateTargetContract=function(e){o("function"==typeof e.canDrop,"Expected canDrop to be a function."),o("function"==typeof e.hover,"Expected hover to be a function."),o("function"==typeof e.drop,"Expected beginDrag to be a function.")},t.validateType=function e(t,n){if(n&&Array.isArray(t))return void t.forEach(function(t){return e(t,!1)});o("string"==typeof t||"symbol"===r(t),n?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}},429731:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425395);t.createDragDropManager=function(e,t,n){return new r.default(e,t,n)}},551905:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(174096)),r(n(429731))},174096:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.HandlerRole||(t.HandlerRole={})).SOURCE="SOURCE",n.TARGET="TARGET"},922907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(664174),o=n(324493),i=n(308587),a=n(488262),l=n(676011);t.default=function(e,t){switch(void 0===e&&(e=a.NONE),t.type){case r.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return a.NONE;case r.BEGIN_DRAG:case r.PUBLISH_DRAG_SOURCE:case r.END_DRAG:case r.DROP:default:return a.ALL}var n=t.payload,s=n.targetIds,u=void 0===s?[]:s,c=n.prevTargetIds,d=void 0===c?[]:c,f=l.xor(u,d);if(!(f.length>0||!i.areArraysEqual(u,d)))return a.NONE;var p=d[d.length-1],h=u[u.length-1];return p!==h&&(p&&f.push(p),h&&f.push(h)),f}},8902:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(664174),i=n(308587),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};t.default=function(e,t){void 0===e&&(e=a);var n=t.payload;switch(t.type){case o.INIT_COORDS:case o.BEGIN_DRAG:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case o.HOVER:if(i.areCoordsEqual(e.clientOffset,n.clientOffset))return e;return r({},e,{clientOffset:n.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}},177836:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(664174),i=n(324493),a=n(676011),l={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};t.default=function(e,t){void 0===e&&(e=l);var n=t.payload;switch(t.type){case o.BEGIN_DRAG:return r({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case o.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case o.HOVER:return r({},e,{targetIds:n.targetIds});case i.REMOVE_TARGET:if(-1===e.targetIds.indexOf(n.targetId))return e;return r({},e,{targetIds:a.without(e.targetIds,n.targetId)});case o.DROP:return r({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case o.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},47645:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8902),i=n(177836),a=n(120297),l=n(922907),s=n(435473),u=n(676011);t.default=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:l.default(e.dirtyHandlerIds,{type:t.type,payload:r({},t.payload,{prevTargetIds:u.get(e,"dragOperation.targetIds",[])})}),dragOffset:o.default(e.dragOffset,t),refCount:a.default(e.refCount,t),dragOperation:i.default(e.dragOperation,t),stateId:s.default(e.stateId)}}},120297:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(324493);t.default=function(e,t){switch(void 0===e&&(e=0),t.type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}},435473:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return void 0===e&&(e=0),e+1}},844395:function(e,t){"use strict";function n(e,t){return{x:e.x+t.x,y:e.y+t.y}}function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=n,t.subtract=r,t.getSourceClientOffset=function(e){var t=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset;return t&&o&&i?r(n(t,i),o):null},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?r(t,n):null}},488262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(676011);t.NONE=[],t.ALL=[],t.NONE.__IS_NONE__=!0,t.ALL.__IS_ALL__=!0,t.areDirty=function(e,n){return e!==t.NONE&&(e===t.ALL||void 0===n||r.intersection(n,e).length>0)}},676011:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return t.split(".").reduce(function(e,t){return e&&e[t]?e[t]:n||null},e)},t.without=function(e,t){return e.filter(function(e){return e!==t})},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){return"object"===n(e)},t.xor=function(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var o=[];return n.forEach(function(e,t){1===e&&o.push(t)}),o},t.intersection=function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}},308587:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strictEquality=function(e,t){return e===t},t.areCoordsEqual=function(e,t){return!e&&!t||!!e&&!!t&&e.x===t.x&&e.y===t.y},t.areArraysEqual=function(e,n,r){if(void 0===r&&(r=t.strictEquality),e.length!==n.length)return!1;for(var o=0;o<e.length;++o)if(!r(e[o],n[o]))return!1;return!0}},289269:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.default=function(){return n++}},887947:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}},896427:function(e,t,n){"use strict";n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return s},applyMiddleware:function(){return m},bindActionCreators:function(){return p},combineReducers:function(){return d},compose:function(){return h},createStore:function(){return u},legacy_createStore:function(){return c}});var r=n(303938);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},s={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function u(e,t,n){if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw Error(i(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw Error(i(1));return n(u)(e,t)}if("function"!=typeof e)throw Error(i(2));var r,l=e,c=t,d=[],f=d,p=!1;function h(){f===d&&(f=d.slice())}function m(){if(p)throw Error(i(3));return c}function y(e){if("function"!=typeof e)throw Error(i(4));if(p)throw Error(i(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw Error(i(6));t=!1,h();var n=f.indexOf(e);f.splice(n,1),d=null}}}function g(e){if(!function(e){if("object"!==o(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(i(7));if(void 0===e.type)throw Error(i(8));if(p)throw Error(i(9));try{p=!0,c=l(c,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++)(0,t[n])();return e}return g({type:s.INIT}),(r={dispatch:g,subscribe:y,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw Error(i(10));l=e,g({type:s.REPLACE})}})[a]=function(){var e;return(e={subscribe:function(e){if("object"!==o(e)||null===e)throw Error(i(11));function t(){e.next&&e.next(m())}return t(),{unsubscribe:y(t)}}})[a]=function(){return this},e},r}var c=u;function d(e){for(var t,n=Object.keys(e),r={},o=0;o<n.length;o++){var a=n[o];"function"==typeof e[a]&&(r[a]=e[a])}var l=Object.keys(r);try{Object.keys(r).forEach(function(e){var t=r[e];if(void 0===t(void 0,{type:s.INIT}))throw Error(i(12));if(void 0===t(void 0,{type:s.PROBE_UNKNOWN_ACTION()}))throw Error(i(13))})}catch(e){t=e}return function(e,n){if(void 0===e&&(e={}),t)throw t;for(var o=!1,a={},s=0;s<l.length;s++){var u=l[s],c=r[u],d=e[u],f=c(d,n);if(void 0===f)throw n&&n.type,Error(i(14));a[u]=f,o=o||f!==d}return(o=o||l.length!==Object.keys(e).length)?a:e}}function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return f(e,t);if("object"!==o(e)||null===e)throw Error(i(16));var n={};for(var r in e){var a=e[r];"function"==typeof a&&(n[r]=f(a,t))}return n}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),o=function(){throw Error(i(15))},a={getState:n.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=t.map(function(e){return e(a)});return o=h.apply(void 0,l)(n.dispatch),(0,r.Z)((0,r.Z)({},n),{},{dispatch:o})}}}},279960:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(599846);t.isFirefox=r.memoize(function(){return/firefox/i.test(navigator.userAgent)}),t.isSafari=r.memoize(function(){return!!window.safari})},618866:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(599846);t.default=function(){function e(e){this.entered=[],this.isNodeInDocument=e}return e.prototype.enter=function(e){var t=this,n=this.entered.length;return this.entered=r.union(this.entered.filter(function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))}),[e]),0===n&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=r.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}()},399043:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(618866),i=n(279960),a=n(842388),l=n(189683),s=n(145649);t.default=function(){function e(e){var t=this;this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return a.getNodeClientOffset(t.sourceNodes.get(e))},this.endDragNativeItem=function(){t.isDraggingNativeItem()&&(t.actions.endDrag(),t.registry.removeSource(t.currentNativeHandle),t.currentNativeHandle=null,t.currentNativeSource=null)},this.isNodeInDocument=function(e){return!!document&&document.body.contains(e)||!!t.window&&t.window.document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=t.currentDragSourceNode;!t.isNodeInDocument(e)&&t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragStartCapture=function(){t.clearCurrentDragSourceNode(),t.dragStartSourceIds=[]},this.handleTopDragStart=function(e){var n=t.dragStartSourceIds;t.dragStartSourceIds=null;var r=a.getEventClientOffset(e);t.monitor.isDragging()&&t.actions.endDrag(),t.actions.beginDrag(n||[],{publishSource:!1,getSourceClientOffset:t.getSourceClientOffset,clientOffset:r});var o=e.dataTransfer,i=l.matchNativeItemType(o);if(t.monitor.isDragging()){if(o&&"function"==typeof o.setDragImage){var s=t.monitor.getSourceId(),u=t.sourceNodes.get(s),c=t.sourcePreviewNodes.get(s)||u;if(c){var d=t.getCurrentSourcePreviewNodeOptions(),f=d.anchorX,p=d.anchorY,h=d.offsetX,m=d.offsetY,y=a.getDragPreviewOffset(u,c,r,{anchorX:f,anchorY:p},{offsetX:h,offsetY:m});o.setDragImage(c,y.x,y.y)}}try{o.setData("application/json",{})}catch(e){}t.setCurrentDragSourceNode(e.target),t.getCurrentSourcePreviewNodeOptions().captureDraggingState?t.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()},0)}else if(i)t.beginDragNativeItem(i);else{if(o&&!o.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=function(){t.clearCurrentDragSourceNode()&&t.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(t.dragEnterTargetIds=[],!(!t.enterLeaveCounter.enter(e.target)||t.monitor.isDragging())){var n=e.dataTransfer,r=l.matchNativeItemType(n);r&&t.beginDragNativeItem(r)}},this.handleTopDragEnter=function(e){var n=t.dragEnterTargetIds;t.dragEnterTargetIds=[],t.monitor.isDragging()&&(t.altKeyPressed=e.altKey,i.isFirefox()||t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),n.some(function(e){return t.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){t.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var n=t.dragOverTargetIds;if(t.dragOverTargetIds=[],!t.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}t.altKeyPressed=e.altKey,t.actions.hover(n||[],{clientOffset:a.getEventClientOffset(e)}),(n||[]).some(function(e){return t.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=t.getCurrentDropEffect())):t.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){t.isDraggingNativeItem()&&e.preventDefault(),t.enterLeaveCounter.leave(e.target)&&t.isDraggingNativeItem()&&t.endDragNativeItem()},this.handleTopDropCapture=function(e){t.dropTargetIds=[],e.preventDefault(),t.isDraggingNativeItem()&&t.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var n=t.dropTargetIds;t.dropTargetIds=[],t.actions.hover(n,{clientOffset:a.getEventClientOffset(e)}),t.actions.drop({dropEffect:t.getCurrentDropEffect()}),t.isDraggingNativeItem()?t.endDragNativeItem():t.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.enterLeaveCounter=new o.default(this.isNodeInDocument)}return Object.defineProperty(e.prototype,"window",{get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0},enumerable:!0,configurable:!0}),e.prototype.setup=function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}},e.prototype.teardown=function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))},e.prototype.connectDragPreview=function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}},e.prototype.connectDragSource=function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}},e.prototype.connectDropTarget=function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.addEventListeners=function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.removeEventListeners=function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return r({dropEffect:this.altKeyPressed?"copy":"move"},t||{})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return r({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(s).some(function(t){return s[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=l.createNativeDragSource(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.setCurrentDragSourceNode=function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)},e.prototype.clearCurrentDragSourceNode=function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t)},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleDragOver=function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e}()},941743:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){for(var n,r,o,i=e.length,a=[],l=0;l<i;l++)a.push(l);a.sort(function(t,n){return e[t]<e[n]?-1:1});for(var s=[],u=[],c=[],l=0;l<i-1;l++)n=e[l+1]-e[l],r=t[l+1]-t[l],u.push(n),s.push(r),c.push(r/n);for(var d=[c[0]],l=0;l<u.length-1;l++){var f=c[l],p=c[l+1];if(f*p<=0)d.push(0);else{n=u[l];var h=u[l+1],m=n+h;d.push(3*m/((m+h)/f+(m+n)/p))}}d.push(c[c.length-1]);for(var y=[],g=[],l=0;l<d.length-1;l++){o=c[l];var v=d[l],b=1/u[l],m=v+d[l+1]-o-o;y.push((o-v-m)*b),g.push(m*b*b)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=y,this.c3s=g}return e.prototype.interpolate=function(e){var t,n=this.xs,r=this.ys,o=this.c1s,i=this.c2s,a=this.c3s,l=n.length-1;if(e===n[l])return r[l];for(var s=0,u=a.length-1;s<=u;){var c=n[t=Math.floor(.5*(s+u))];if(c<e)s=t+1;else{if(!(c>e))return r[t];u=t-1}}var d=e-n[l=Math.max(0,u)],f=d*d;return r[l]+o[l]*d+i[l]*f+a[l]*d*f},e}()},514901:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeDragSource=function(){function e(e){var t=this;this.config=e,this.item={},Object.keys(this.config.exposeProperties).forEach(function(e){Object.defineProperty(t.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \""+e+'" until the drop event.'),null}})})}return e.prototype.mutateItemByReadingDataTransfer=function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach(function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}}),Object.defineProperties(this.item,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}()},129530:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},"");return null!=r?r:n}},189683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(374185),o=n(514901);t.createNativeDragSource=function(e){return new o.NativeDragSource(r.nativeTypesConfig[e])},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.nativeTypesConfig).filter(function(e){return r.nativeTypesConfig[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}},374185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(145649),i=n(129530);(r={})[o.FILE]={exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]},r[o.URL]={exposeProperties:{urls:function(e,t){return i.getDataFromDataTransfer(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]},r[o.TEXT]={exposeProperties:{text:function(e,t){return i.getDataFromDataTransfer(e,t,"")}},matchesTypes:["Text","text/plain"]},t.nativeTypesConfig=r},145649:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},842388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(279960),o=n(941743);function i(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}t.getNodeClientOffset=i,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,a,l){var s,u,c,d="IMG"===t.nodeName&&(r.isFirefox()||!document.documentElement.contains(t)),f=i(d?e:t),p={x:n.x-f.x,y:n.y-f.y},h=e.offsetWidth,m=e.offsetHeight,y=a.anchorX,g=a.anchorY,v=(s=d?t.width:h,u=d?t.height:m,r.isSafari()&&d&&(u/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:u}),b=v.dragPreviewWidth,_=v.dragPreviewHeight,w=l.offsetX,j=l.offsetY;return{x:0===w||w?w:new o.default([0,.5,1],[p.x,p.x/h*b,p.x+b-h]).interpolate(y),y:0===j||j?j:(c=new o.default([0,.5,1],[p.y,p.y/m*_,p.y+_-m]).interpolate(g),r.isSafari()&&d&&(c+=(window.devicePixelRatio-1)*_),c)}}},249856:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}},216029:function(e,t,n){"use strict";var r=n(399043);n(249856).default,t.hm=n(145649),t.ZP=function(e){return new r.default(e)}},599846:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter(function(e){return e!==t})},t.union=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var o=[];return n.forEach(function(e){return o.push(e)}),o}},944976:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(258712),s=n(551905),u=n(106217),c=n(760274),d=n(557077),f=n(684081);function p(e,t,n){return{dragDropManager:s.createDragDropManager(e,t,n)}}t.context=l.createContext({dragDropManager:void 0}),t.Consumer=t.context.Consumer,t.Provider=t.context.Provider,t.createChildContext=p,t.DragDropContextProvider=function(e){var n=e.children,r=a(e,["children"]),o="manager"in r?{dragDropManager:r.manager}:p(r.backend,r.context,r.debugMode);return l.createElement(t.Provider,{value:o},n)},t.DragDropContext=function(e,n,r){u.default("DragDropContext","backend",e);var a=p(e,n,r);return function(e){var n=e.displayName||e.name||"Component";return f(function(r){function s(){var e=null!==r&&r.apply(this,arguments)||this;return e.ref=l.createRef(),e.getManager=function(){return a.dragDropManager},e}return o(s,r),s.prototype.getDecoratedComponentInstance=function(){return d(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},s.prototype.render=function(){return l.createElement(t.Provider,{value:a},l.createElement(e,i({},this.props,{ref:c.isRefable(e)?this.ref:null})))},s.DecoratedComponent=e,s.displayName="DragDropContext("+n+")",s}(l.Component),e)}}},70559:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(258712),s=n(106217),u=n(944976),c=n(760274),d=n(802914),f=n(684081),p=n(557077),h=n(685498);t.default=function(e,t){return void 0===t&&(t={}),s.default("DragLayer","collect[, options]",e,t),p("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),p(d.isPlainObject(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var o=t.arePropsEqual,s=void 0===o?h:o,d=n.displayName||n.name||"Component";return f(function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurrentlyMounted=!1,e.ref=l.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();h(t,e.state)||e.setState(t)}},e}return i(o,t),o.prototype.getDecoratedComponentInstance=function(){return p(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current},o.prototype.shouldComponentUpdate=function(e,t){return!s(e,this.props)||!h(t,this.state)},o.prototype.componentDidMount=function(){this.isCurrentlyMounted=!0,this.handleChange()},o.prototype.componentWillUnmount=function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)},o.prototype.render=function(){var e=this;return l.createElement(u.Consumer,null,function(t){var r=t.dragDropManager;return void 0===r?null:(e.receiveDragDropManager(r),e.isCurrentlyMounted)?l.createElement(n,a({},e.props,e.state,{ref:c.isRefable(n)?e.ref:null})):null})},o.prototype.receiveDragDropManager=function(e){if(void 0===this.manager){this.manager=e,p("object"===r(e),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",d,d);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}},o.prototype.getCurrentState=function(){return this.manager?e(this.manager.getMonitor(),this.props):{}},o.displayName="DragLayer("+d+")",o.DecoratedComponent=n,o}(l.Component),n)}}},35989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712).memo(function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null});r.displayName="DragPreviewImage",t.default=r},971795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106217),o=n(988898),i=n(514746),a=n(681175),l=n(208012),s=n(617829),u=n(150206),c=n(802914),d=n(557077);t.default=function(e,t,n,f){void 0===f&&(f={}),r.default("DragSource","type, spec, collect[, options]",e,t,n,f);var p=e;"function"!=typeof e&&(d(u.default(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),d(c.isPlainObject(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var h=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),d(c.isPlainObject(f),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return o.default({containerDisplayName:"DragSource",createHandler:h,registerHandler:i.default,createConnector:function(e){return new s.default(e)},createMonitor:function(e){return new l.default(e)},DecoratedComponent:e,getType:p,collect:n,options:f})}}},208012:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(557077),o=!1,i=!1;t.default=function(){function e(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.getHandlerId=function(){return this.sourceId},e.prototype.canDrag=function(){r(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}},e.prototype.isDragging=function(){if(!this.sourceId)return!1;r(!i,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return i=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{i=!1}},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.isDraggingSource=function(e){return this.internalMonitor.isDraggingSource(e)},e.prototype.isOverTarget=function(e,t){return this.internalMonitor.isOverTarget(e,t)},e.prototype.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.prototype.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.prototype.getSourceId=function(){return this.internalMonitor.getSourceId()},e.prototype.subscribeToOffsetChange=function(e){return this.internalMonitor.subscribeToOffsetChange(e)},e.prototype.canDragSource=function(e){return this.internalMonitor.canDragSource(e)},e.prototype.canDropOnTarget=function(e){return this.internalMonitor.canDropOnTarget(e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}()},862504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(106217),o=n(988898),i=n(367697),a=n(298402),l=n(150206),s=n(437398),u=n(489742),c=n(802914),d=n(557077);t.default=function(e,t,n,f){void 0===f&&(f={}),r.default("DropTarget","type, spec, collect[, options]",e,t,n,f);var p=e;"function"!=typeof e&&(d(l.default(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),p=function(){return e}),d(c.isPlainObject(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var h=a.default(t);return d("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),d(c.isPlainObject(f),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return o.default({containerDisplayName:"DropTarget",createHandler:h,registerHandler:i.default,createMonitor:function(e){return new s.default(e)},createConnector:function(e){return new u.default(e)},DecoratedComponent:e,getType:p,collect:n,options:f})}}},437398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(557077),o=!1;t.default=function(){function e(e){this.targetId=null,this.internalMonitor=e.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.getHandlerId=function(){return this.targetId},e.prototype.subscribeToStateChange=function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)},e.prototype.canDrop=function(){if(!this.targetId)return!1;r(!o,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return o=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{o=!1}},e.prototype.isOver=function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}()},617829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19991),o=n(27081),i=n(685498);t.default=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dragSource:function(e,n){t.dragSourceOptions=n||null,o.isRef(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.dragPreviewOptions=n||null,o.isRef(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null}return e.prototype.receiveHandlerId=function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dragSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragSourceOptions",{get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreviewOptions",{get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){this.reconnectDragSource(),this.reconnectDragPreview()},e.prototype.reconnectDragSource=function(){var e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();e&&this.disconnectDragSource();var t=this.dragSource;if(this.handlerId){if(!t){this.lastConnectedDragSource=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions))}},e.prototype.reconnectDragPreview=function(){var e=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();e&&this.disconnectDragPreview();var t=this.dragPreview;this.handlerId&&t&&e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))},e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.prototype.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.prototype.didDragSourceOptionsChange=function(){return!i(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.prototype.didDragPreviewOptionsChange=function(){return!i(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.prototype.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},e.prototype.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)},Object.defineProperty(e.prototype,"dragSource",{get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dragPreview",{get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current},enumerable:!0,configurable:!0}),e}()},489742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(19991),o=n(27081),i=n(685498);t.default=function(){function e(e){var t=this;this.backend=e,this.hooks=r.default({dropTarget:function(e,n){t.dropTargetOptions=n,o.isRef(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null}return Object.defineProperty(e.prototype,"connectTarget",{get:function(){return this.dropTarget},enumerable:!0,configurable:!0}),e.prototype.reconnect=function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}},e.prototype.receiveHandlerId=function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())},Object.defineProperty(e.prototype,"dropTargetOptions",{get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e},enumerable:!0,configurable:!0}),e.prototype.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.prototype.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.prototype.didOptionsChange=function(){return!i(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.prototype.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},Object.defineProperty(e.prototype,"dropTarget",{get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current},enumerable:!0,configurable:!0}),e}()},681175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(101002);n(802914);var o=n(557077),i=["canDrag","beginDrag","isDragging","endDrag"],a=["beginDrag"],l=function(){function e(e,t,n){var r=this;this.spec=e,this.monitor=t,this.ref=n,this.props=null,this.beginDrag=function(){if(r.props)return r.spec.beginDrag(r.props,r.monitor,r.ref.current)}}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.canDrag=function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))},e.prototype.isDragging=function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())},e.prototype.endDrag=function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e}();t.default=function(e){return Object.keys(e).forEach(function(t){o(i.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),a.forEach(function(t){o("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])}),function(t,n){return new l(e,t,n)}}},298402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(101002);n(802914);var o=n(557077),i=["canDrop","hover","drop"],a=function(){function e(e,t,n){this.spec=e,this.monitor=t,this.ref=n,this.props=null}return e.prototype.receiveProps=function(e){this.props=e},e.prototype.receiveMonitor=function(e){this.monitor=e},e.prototype.canDrop=function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)},e.prototype.hover=function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,r.getDecoratedComponent(this.ref))},e.prototype.drop=function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)},e}();t.default=function(e){return Object.keys(e).forEach(function(t){o(i.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',i.join(", "),t),o("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])}),function(t,n){return new a(e,t,n)}}},988898:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(258712),l=n(944976),s=n(83968),u=n(760274);n(802914);var c=n(557077),d=n(684081),f=n(685498);t.default=function(e){var t=e.DecoratedComponent,n=e.createHandler,r=e.createMonitor,p=e.createConnector,h=e.registerHandler,m=e.containerDisplayName,y=e.getType,g=e.collect,v=e.options.arePropsEqual,b=void 0===v?f:v,_=t.displayName||t.name||"Component";return d(function(e){function d(t){var n=e.call(this,t)||this;return n.decoratedRef=a.createRef(),n.handleChange=function(){var e=n.getCurrentState();f(e,n.state)||n.setState(e)},n.disposable=new s.SerialDisposable,n.receiveProps(t),n.dispose(),n}return o(d,e),d.prototype.getHandlerId=function(){return this.handlerId},d.prototype.getDecoratedComponentInstance=function(){return c(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current},d.prototype.shouldComponentUpdate=function(e,t){return!b(e,this.props)||!f(t,this.state)},d.prototype.componentDidMount=function(){this.disposable=new s.SerialDisposable,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()},d.prototype.componentDidUpdate=function(e){b(this.props,e)||(this.receiveProps(this.props),this.handleChange())},d.prototype.componentWillUnmount=function(){this.dispose()},d.prototype.receiveProps=function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(y(e)))},d.prototype.receiveType=function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=h(e,this.handler,this.manager),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new s.CompositeDisposable(new s.Disposable(o),new s.Disposable(r)))}},d.prototype.dispose=function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)},d.prototype.getCurrentState=function(){return this.handlerConnector?g(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}},d.prototype.render=function(){var e=this;return a.createElement(l.Consumer,null,function(n){var r=n.dragDropManager;return e.receiveDragDropManager(r),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(function(){return e.handlerConnector.reconnect()}),a.createElement(t,i({},e.props,e.getCurrentState(),{ref:u.isRefable(t)?e.decoratedRef:null}))})},d.prototype.receiveDragDropManager=function(e){void 0===this.manager&&(c(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",_,_),void 0!==e&&(this.manager=e,this.handlerMonitor=r(e),this.handlerConnector=p(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))},d.DecoratedComponent=t,d.displayName=m+"("+_+")",d}(a.Component),t)}},29173:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(243811)),r(n(227049)),r(n(8583))},840912:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(258712),i=n(514746),a=n(989359),l=n(208012),s=n(617829),u=n(557077);t.useDragSourceMonitor=function(){var e=a.useDragDropManager();return[o.useMemo(function(){return new l.default(e)},[e]),o.useMemo(function(){return new s.default(e.getBackend())},[e])]},t.useDragHandler=function(e,t,n){var l=a.useDragDropManager(),s=o.useMemo(function(){return{beginDrag:function(){var n=e.current,o=n.begin,i=n.item;if(o){var a=o(t);return u(null==a||"object"===r(a),"dragSpec.begin() must either return an object, undefined, or null"),a||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var o=e.current.isDragging;return o?o(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}},[]);o.useEffect(function(){var r=i.default(e.current.item.type,s,l),o=r[0],a=r[1];return t.receiveHandlerId(o),n.receiveHandlerId(o),a},[])}},659345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712),o=n(367697),i=n(989359),a=n(489742),l=n(437398);t.useDropTargetMonitor=function(){var e=i.useDragDropManager();return[r.useMemo(function(){return new l.default(e)},[e]),r.useMemo(function(){return new a.default(e.getBackend())},[e])]},t.useDropHandler=function(e,t,n){var a=i.useDragDropManager(),l=r.useMemo(function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}},[t]);r.useEffect(function(){var r=o.default(e.current.accept,l,a),i=r[0],s=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),s},[t,n])}},48612:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(685498),o=n(258712);t.useCollector=function(e,t,n){var i=o.useState(function(){return t(e)}),a=i[0],l=i[1],s=o.useCallback(function(){var o=t(e);!r(a,o)&&(l(o),n&&n())},[a,e,n]);return[a,s]}},989359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712),o=n(944976),i=n(557077);t.useDragDropManager=function(){var e=r.useContext(o.context).dragDropManager;return i(null!=e,"Expected drag drop context"),e}},138293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712),o=n(48612);t.useMonitorOutput=function(e,t,n){var i=o.useCollector(e,t,n),a=i[0],l=i[1];return r.useEffect(function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(l,{handlerIds:[t]})},[e,l]),a}},243811:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138293),o=n(840912),i=n(258712),a=n(557077);t.useDrag=function(e){var t=i.useRef(e);t.current=e,a(null!=e.item,"item must be defined"),a(null!=e.item.type,"item type must be defined");var n=o.useDragSourceMonitor(),l=n[0],s=n[1];o.useDragHandler(t,l,s);var u=r.useMonitorOutput(l,t.current.collect||function(){return{}},function(){return s.reconnect()}),c=i.useMemo(function(){return s.hooks.dragSource()},[s]),d=i.useMemo(function(){return s.hooks.dragPreview()},[s]);return i.useEffect(function(){s.dragSourceOptions=t.current.options||null,s.reconnect()},[s]),i.useEffect(function(){s.dragPreviewOptions=t.current.previewOptions||null,s.reconnect()},[s]),[u,c,d]}},8583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712),o=n(989359),i=n(48612);t.useDragLayer=function(e){var t=o.useDragDropManager().getMonitor(),n=i.useCollector(t,e),a=n[0],l=n[1];return r.useEffect(function(){return t.subscribeToOffsetChange(l)}),r.useEffect(function(){return t.subscribeToStateChange(l)}),a}},227049:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138293),o=n(659345),i=n(258712),a=n(557077);t.useDrop=function(e){var t=i.useRef(e);t.current=e,a(null!=e.accept,"accept must be defined");var n=o.useDropTargetMonitor(),l=n[0],s=n[1];o.useDropHandler(t,l,s);var u=r.useMonitorOutput(l,t.current.collect||function(){return{}},function(){return s.reconnect()}),c=i.useMemo(function(){return s.hooks.dropTarget()},[s]);return i.useEffect(function(){s.dropTargetOptions=e.options||null,s.reconnect()},[e.options]),[u,c]}},267708:function(e,t,n){"use strict";var r=n(944976);t.Z5=r.DragDropContext,r.DragDropContextProvider,r.Consumer,n(70559).default,t.Ej=n(971795).default,t.GR=n(862504).default,n(35989).default;var o=n(29173);o.useDrag,o.useDragLayer,o.useDrop},514746:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}},367697:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}},106217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r]}},71300:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712),o=n(557077);function i(e,t){"function"==typeof e?e(t):e.current=t}t.default=function(e,t){var n=e.ref;return(o("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n)?r.cloneElement(e,{ref:function(e){i(t,e),n&&i(n,e)}}):r.cloneElement(e,{ref:t})}},802914:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e},t.noop=function(){},t.isPlainObject=function(e){if("object"!==n(e)||null===e)return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},256883:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeDisposable=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.isDisposed=!1,this.disposables=e}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t},e.prototype.clear=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}},e}()},899627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(802914);t.Disposable=function(){function e(e){this.isDisposed=!1,this.action=r.isFunction(e)?e:r.noop}return e.isDisposable=function(e){return e&&r.isFunction(e.dispose)},e._fixup=function(t){return e.isDisposable(t)?t:e.empty},e.create=function(t){return new e(t)},e.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)},e.empty={dispose:r.noop},e}()},225461:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SerialDisposable=function(){function e(){this.isDisposed=!1}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}},e}()},83968:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(899627)),r(n(225461)),r(n(256883))},101002:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecoratedComponent=function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}},27081:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isRef=function(e){return null!==e&&"object"===n(e)&&e.hasOwnProperty("current")}},760274:function(e,t){"use strict";function n(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.isRefForwardingComponent=n,t.isRefable=function(e){return e&&e.prototype&&"function"==typeof e.prototype.render||n(e)}},150206:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){return"string"==typeof t||"symbol"===n(t)||!!r&&Array.isArray(t)&&t.every(function(t){return e(t,!1)})}},901742:function(){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e})},19991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(258712),o=n(71300);n(901742),t.default=function(e){var t={};return Object.keys(e).forEach(function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var a=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),!r.isValidElement(e)){var n=e;return i(n,t),n}var a=e;if("string"!=typeof a.type)throw Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+(a.type.displayName||a.type.name||"the component")+" into a <div>, or turn it into a drag source or a drop target itself.");var l=t?function(e){return i(e,t)}:i;return o.default(a,l)};t[n]=function(){return a}}}),t}},684081:function(e,t,n){"use strict";var r=n(121391),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};function s(e){return r.isMemo(e)?a:l[e.$$typeof]||o}l[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=c(n);d&&(a=a.concat(d(n)));for(var l=s(t),m=s(n),y=0;y<a.length;++y){var g=a[y];if(!i[g]&&!(r&&r[g])&&!(m&&m[g])&&!(l&&l[g])){var v=f(n,g);try{u(t,g,v)}catch(e){}}}}return t}},557077:function(e){"use strict";e.exports=function(e,t,n,r,o,i,a,l){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,l],c=0;(s=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},80116:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116;function g(e){if("object"===n(e)&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case f:case a:case s:case l:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case u:return e;default:return t}}case y:case m:case i:return t}}}function v(e){return g(e)===f}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=l,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===s||e===l||e===h||"object"===n(e)&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||g(e)===d},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"===n(e)&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===y},t.isMemo=function(e){return g(e)===m},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===l},t.isSuspense=function(e){return g(e)===h}},121391:function(e,t,n){"use strict";e.exports=n(80116)},685498:function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,n,r,o){var i=r?r.call(o,e,n):void 0;if(void 0!==i)return!!i;if(e===n)return!0;if("object"!==t(e)||!e||"object"!==t(n)||!n)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var d=e[c],f=n[c];if(!1===(i=r?r.call(o,d,f,c):void 0)||void 0===i&&d!==f)return!1}return!0}},491740:function(e,t,n){"use strict";var r,o,i=n(525637),a=n(992763),l=0,s=0;t.Z=function(e,t,n){var u=t&&n||0,c=t||Array(16),d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var p=e.random||(e.rng||i.Z)();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:s+1,y=h-l+(m-s)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||h>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,s=m,o=f;var g=((0xfffffff&(h+=122192928e5))*1e4+m)%0x100000000;c[u++]=g>>>24&255,c[u++]=g>>>16&255,c[u++]=g>>>8&255,c[u++]=255&g;var v=h/0x100000000*1e4&0xfffffff;c[u++]=v>>>8&255,c[u++]=255&v,c[u++]=v>>>24&15|16,c[u++]=v>>>16&255,c[u++]=f>>>8|128,c[u++]=255&f;for(var b=0;b<6;++b)c[u+b]=d[b];return t||(0,a.Z)(c)}},209551:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(258712),o=(0,r.createContext)();function i(){return(0,r.useContext)(o)}t.Z=o},138879:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/news_hub/[id]",function(){return n(380505).Z}])},148178:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(595302);function o(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},303938:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(148178);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},595302:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(11852);function o(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=(0,r.Z)(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},11852:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[97270,32227,76175,8789,75114,59514,46611,10917,92774,62119,80347,48609,509,6881,65575,34623,41546,27684,21506,52180,70209,71572,20362],function(){return e(e.s=138879)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/news_hub/[id]-ef84f3aadb975e76.js.map