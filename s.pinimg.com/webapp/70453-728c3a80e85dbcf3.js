"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([[70453],{362149:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(132227),r=a(233846),s=a(19035);function i(e){var t=e.accessibilityLabel,a=e.fixedPosition,i=e.rounding,l=(0,r.ZP)();return(0,s.jsxs)(n.xu,{children:[(0,s.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:a?"fixed":"absolute",right:!0,top:!0,zIndex:new n.Ry(101),children:(0,s.jsx)(n.xH,{accessibilityLabel:t||l._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,s.jsx)(n.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:a?"fixed":"absolute",right:!0,rounding:i,top:!0,zIndex:new n.Ry(100)})]})}},170453:function(e,t,a){a.d(t,{A:function(){return V},J:function(){return M}});var n=a(258712),r=a(284987),s=a(219308),i=a(218291),l=a(132227),o=a(852015),c=a(233846),d=a(538645),u=a(685075),p=a(19035);function _(e){var t=e.onClose,a=e.handleSubmit,r=e.currentViewParameter,i=e.currentComponent,_=e.isOpen,f=(0,c.ZP)(),g=(0,s.Z)(),m=(0,d.HG)(),h=f._('Dismiss modal button', 'settings.ParentalPasscodeSkipAcknowledgeModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),b=f._('Cancel', 'settings.ParentalPasscodeSkipAcknowledgeModal.cancelButton', 'Cancel button label on the modal dialog'),y=f._('Update', 'settings.ParentalPasscodeSkipAcknowledgeModal.updateButton', 'Enter button label on the modal dialog'),v=f._('Update this setting?', 'settings.ParentalPasscodeSkipAcknowledgeModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),P=f._('You may require parental passcode for future changes to this setting', 'settings.ParentalPasscodeSkipAcknowledgeModal.subHeading2', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode');(0,n.useEffect)(function(){r&&i&&g({event_type:13,view_type:7,view_parameter:4004,component:14971})},[r,i,g]);var x=function(){g({event_type:15423,view_type:7,view_parameter:4004,component:14971}),a("")},j=function(){g({event_type:15424,view_type:7,view_parameter:4004,component:14971}),t()};return(0,p.jsx)(n.Fragment,{children:m?(0,p.jsx)(o.ZP,{accessibilityModalLabel:f._('Parental Passcode Validate Modal', 'settings.ParentalPasscodeSkipAcknowledgeModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!0,footer:(0,p.jsxs)(l.kC,{alignItems:"center",justifyContent:"end",children:[(0,p.jsx)(l.xu,{paddingX:1,children:(0,p.jsx)(l.zx,{onClick:j,size:"lg",text:b})}),(0,p.jsx)(l.xu,{flex:"shrink",paddingX:1,children:(0,p.jsx)(l.zx,{color:"red",dataTestId:"parental-passcode-update-button",fullWidth:!m,onClick:x,size:"lg",text:y})})]}),heading:(0,p.jsxs)(l.kC,{justifyContent:"between",children:[(0,p.jsxs)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,p.jsx)(l.X6,{accessibilityLevel:1,align:"start",size:"600",children:v}),(0,p.jsx)(l.xv,{children:P})]}),(0,p.jsx)(l.hU,{accessibilityLabel:h,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:j,size:"lg"})]}),isOpen:_,mobileAccessibilityCloseIconLabel:h,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:j,size:656}):(0,p.jsx)(u.Z,{description:P,heading:v,isOpen:_,onDismiss:j,primaryBtnParams:{text:b,color:"gray",onClick:j},secondaryBtnParams:{text:y,color:"red",onClick:x},type:"request-data"})})}var f=a(51340),g=a(362149),m=a(377409),h=a(142212),b=a(331935);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,s,i,l=[],o=!0,c=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=s.call(a)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function P(e){var t=e.onClose,a=e.handleSubmit,i=e.errorMessage,u=e.currentViewParameter,_=e.currentComponent,v=(0,c.ZP)(),P=(0,s.Z)(),x=(0,d.HG)(),j=(0,r.TH)(),A=(0,(0,m.Z)("").getSingleValidator)("passcode"),w=y((0,n.useState)(!1),2),z=w[0],C=w[1],k=y((0,n.useState)(!1),2),S=k[0],M=k[1],O=y((0,n.useState)({value:"",error:void 0}),2),V=O[0],I=O[1],E=y((0,n.useState)(),2),L=E[0],B=E[1],T=v._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),D=v._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),H=(0,f.nk)(v._('Enter your 4-digit passcode to make this change. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'This string is body copy on a prompt. The prompt appears when a teenage user tries to change a setting. The user\u2019s account is set to require a parental passcode for changes to passwords and other settings. This screen is directed at the teens\u2019 parent or guardian\u2014it\u2019s their 4-digit passcode that must be entered in the text field below this string. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,p.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,p.jsx)(l.rU,{display:"inlineBlock",href:h.a$N,onClick:function(e){e.event.stopPropagation(),u&&_&&P({event_type:102,view_type:7,view_parameter:u,element:12765,component:_})},target:"blank",underline:"hover",children:v._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,n.useEffect)(function(){u&&_&&P({event_type:13,view_type:7,view_parameter:u,component:_})},[u,_,P]),(0,n.useEffect)(function(){C(!!V.value&&!V.error)},[V]);var Z=(0,n.useCallback)(function(){P({event_type:14590,view_type:7,view_parameter:u,component:14374})},[u,P]);(0,n.useEffect)(function(){var e=j.pathname.replace(/\/$/,"");i&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(Z(),M(!1)),B(i)},[i,Z,j.pathname]);var X=function(e){var t=e.replace(/\s/g,"");if(!(e.length>4)){var a=(0,b.a3)(t,A);L&&B(void 0),I({value:e,error:a})}},U=function(){S||(u&&_&&P({event_type:x?101:102,view_type:7,view_parameter:u,component:_,element:11925}),t())};return(0,p.jsx)(o.ZP,{accessibilityModalLabel:v._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!S,footer:(0,p.jsxs)(l.kC,{alignItems:"center",justifyContent:x?"end":"center",children:[x?(0,p.jsx)(l.xu,{paddingX:1,children:(0,p.jsx)(l.zx,{disabled:S,onClick:U,size:"lg",text:v._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog')})}):null,(0,p.jsx)(l.xu,{flex:x?"shrink":"grow",marginBottom:4*!x,paddingX:x?1:4,children:(0,p.jsx)(l.zx,{color:"red",dataTestId:"parental-passcode-enter-button",disabled:!z||S,fullWidth:!x,onClick:function(){M(!0),u&&_&&P({event_type:x?101:102,view_type:7,view_parameter:u,component:_,element:12019}),a(V.value),M(!1)},size:"lg",text:v._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog')})})]}),heading:x?(0,p.jsxs)(l.kC,{justifyContent:"between",children:[(0,p.jsxs)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,p.jsx)(l.X6,{accessibilityLevel:1,align:"start",size:"600",children:D}),(0,p.jsx)(l.xv,{children:H})]}),(0,p.jsx)(l.hU,{accessibilityLabel:T,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:U,size:"lg"})]}):(0,p.jsx)(l.X6,{accessibilityLevel:"none",align:"center",size:"300",children:v._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),isOpen:!0,mobileAccessibilityCloseIconLabel:T,mobileIsSlideUp:!0,onDismiss:U,size:656,children:(0,p.jsx)(l.xu,{paddingX:x?6:4,paddingY:3,children:(0,p.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:x?"start":"center",children:[x?null:(0,p.jsx)(l.xu,{marginBottom:7,maxWidth:325,children:(0,p.jsxs)(l.kC,{alignItems:"center",direction:"column",children:[(0,p.jsx)(l.xu,{marginBottom:6,children:(0,p.jsx)(l.X6,{accessibilityLevel:2,align:"center",size:"600",children:D})}),(0,p.jsx)(l.xv,{align:"center",children:H})]})}),(0,p.jsxs)(l.xu,{marginBottom:4*!x,position:"relative",width:"100%",children:[(0,p.jsx)(l.nv,{autoComplete:"off",dataTestId:"parental-passcode-input",errorMessage:V.error||L,id:"passcode",label:v._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),labelDisplay:x?"visible":"hidden",name:"passcode",onChange:function(e){return X(e.value)},placeholder:"XXXX",size:"lg",type:"text",value:V.value}),S?(0,p.jsx)(g.Z,{accessibilityLabel:v._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach(function(t){var n,r,s;n=e,r=t,s=a[t],(r=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=x(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,s,i,l=[],o=!0,c=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;o=!1}else for(;!(o=(n=s.call(a)).done)&&(l.push(n.value),l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{if(!o&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}(e,t)||z(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return C(e,t);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var k=(0,i.Z)("ParentalPasscodeValidateModal"),S=k.Provider,M=k.useHook,O=function(e){var t;return e.startsWith("/settings/messages")?3709:({"/settings/profile-visibility":3907,"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[e]},V=function(e){var t=e.children,a=(0,s.Z)(),i=(0,r.TH)(),l=w((0,n.useState)(!1),2),o=l[0],c=l[1],d=w((0,n.useState)(),2),u=d[0],f=d[1],g=w((0,n.useState)(),2),m=g[0],h=g[1],b=w((0,n.useState)(void 0),2),y=b[0],v=b[1],x=w((0,n.useState)([]),2),j=x[0],k=x[1],M=i.pathname.replace(/\/$/,""),V="/parental-passcode"===M||"/settings/account-settings"===M,I=w((0,n.useState)(!1),2),E=I[0],L=I[1];(0,n.useEffect)(function(){if(o){var e=O(M),t=V?14456:14374;h(e),f(t)}},[o,M,V]);var B=(0,n.useCallback)(function(e){v(void 0),j.map(function(t){return t(e||"")})},[j]),T=(0,n.useCallback)(function(e){var t=e.handlePasscodeSent,a=e.requiresUnidirectionalPasscode;k(function(e){return[].concat(function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t])}),L(void 0!==a&&a),c(!0)},[]),D=(0,n.useCallback)(function(e){v(e)},[]),H=(0,n.useCallback)(function(){h(void 0),f(void 0),k([]),v(void 0),c(!1)},[]),Z=(0,n.useCallback)(function(e){e&&!V&&a({event_type:14591,view_type:7,view_parameter:m,component:14374}),H()},[H,m,a,V]),X=(0,n.useMemo)(function(){return{handleSubmit:B,errorMessage:y,onClose:H,currentViewParameter:m,currentComponent:u,isOpen:o}},[B,y,H,m,u,o]),U=(0,n.useMemo)(function(){return{getModalProps:X,closeModal:Z,isModalOpen:o,setErrorMessage:D,setModalPropsAndOpen:T}},[X,Z,o,D,T]);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(S,{value:U,children:t}),o?E?(0,p.jsx)(_,A({},X)):(0,p.jsx)(P,A({},X)):null]})}},377409:function(e,t,a){a.d(t,{Z:function(){return i}});var n=a(233846),r=a(331935);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function i(e){var t=(0,n.ZP)(),a=(0,r.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),i=(0,r.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),l=(0,r.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),o=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),c=(0,r.Gy)({min:4,max:4,minErrorString:o,maxErrorString:o}),d={passcode:[a,l,c],confirmPasscode:[a,l,c],backupEmail:[a,i,function(a){var n=[];return a===e&&n.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:n,warnings:[]}}],confirmBackupEmail:[a,i]},u=function(e,a){switch(e){case"confirmPasscode":return(0,r.sG)({targetValue:a.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,r.sG)({targetValue:a.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return function(){return{errors:[],warnings:[]}}}};return{getSingleValidator:function(e){return d[e]},getValidators:function(e,t){var a;return[].concat(function(e){if(Array.isArray(e))return s(e)}(a=d[e])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return s(e,void 0);var a=({}).toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?s(e,t):void 0}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[u(e,t)])},getMatchingValidator:u}}},685075:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(258712),r=a(132227),s=a(852015),i=a(19035);function l(e){var t,a,l=e.isOpen,o=e.onDismiss,c=e.type,d=e.textAlign,u=e.accessibilityModalLabel,p=e.heading,_=e.headingMarginTop,f=e.description,g=e.hasMultiLineDescription,m=e.primaryBtnParams,h=e.secondaryBtnParams,b=e.showDismissIcon,y=e.headingSize,v=e.closeOnOutsideClick,P=function(e,t){return e?(0,n.isValidElement)(e)?e:(0,i.jsx)(r.xu,{marginBottom:3,children:(0,i.jsx)(r.xv,{align:d||"center",children:e})},t?"description-line-".concat(t):"single-description-line"):null};return(0,i.jsx)(s.ZP,{accessibilityModalLabel:u||"",closeOnOutsideClick:v||!0,isOpen:l,mobileHideCloseIcon:!0,onDismiss:o||function(){},type:c||"",children:(0,i.jsxs)(r.xu,{padding:4,children:[(0,i.jsxs)(r.xu,{marginBottom:f?3:8,marginTop:_||0,children:[b&&o&&(0,i.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:o,size:"sm"}),(0,i.jsx)(r.X6,{accessibilityLevel:1,align:d||"center",size:y||"600",children:p})]}),g&&Array.isArray(f)?f.map(function(e,t){return P(e,t)}):P(f),(0,i.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,i.jsx)(r.xu,{display:"flex",flex:"grow",justifyContent:"end",padding:1,children:(0,i.jsx)(r.zx,{accessibilityLabel:m.text,color:m.color,fullWidth:null==(t=m.fullWidth)||t,onClick:m.onClick,size:"lg",text:m.text})}),h?(0,i.jsx)(r.xu,{flex:"grow",padding:1,children:(0,i.jsx)(r.zx,{accessibilityLabel:h.text,color:h.color,fullWidth:null==(a=h.fullWidth)||a,onClick:h.onClick,size:"lg",text:h.text})}):null]})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/70453-728c3a80e85dbcf3.js.map